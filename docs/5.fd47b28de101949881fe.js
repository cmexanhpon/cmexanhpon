(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DuPd:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var i=e("AytR"),c=e("fXoL"),o=e("tk/3");let a=(()=>{class t{constructor(t){this.httpClient=t,this.serviceUrl=i.a.BASE_API_URL+"/api/trainingform"}getList(t=1,n=1e4,e="+LastModifiedOnDate",i="{}"){return this.httpClient.get(this.serviceUrl+"?currentPage="+t+"&pageSize="+n+"&sort="+e+"&queryString="+i)}getById(t){return this.httpClient.get(this.serviceUrl+"/"+t)}create(t){return this.httpClient.post(this.serviceUrl,t)}update(t,n){return this.httpClient.put(this.serviceUrl+"/"+t,n)}deleteMany(t){return this.httpClient.post(this.serviceUrl+"/delete/many",t)}}return t.\u0275fac=function(n){return new(n||t)(c.Xb(o.c))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Hgu+":function(t,n,e){"use strict";e.r(n),e.d(n,"TrainingFormModule",function(){return l});var i=e("OG76"),c=e("tyNb"),o=e("fXoL");const a=[{path:"",component:i.a}];let r=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(n){return new(n||t)},imports:[[c.i.forChild(a)],c.i]}),t})();var s=e("uRpX"),b=e("PCNd"),d=e("ofXK");let l=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(n){return new(n||t)},imports:[[d.c,b.a,s.a,r]]}),t})()},HwMn:function(t,n,e){"use strict";e.d(n,"a",function(){return T});var i=e("1XBi"),c=e("3Pt+"),o=e("fXoL"),a=e("DuPd"),r=e("2I5R"),s=e("AVD9"),b=e("QlUG"),d=e("rMZv"),l=e("ofXK"),u=e("r7RV"),h=e("OzZK"),p=e("RwU8"),g=e("C2AL"),f=e("FwiY");function m(t,n){if(1&t){const t=o.Ub();o.Tb(0,"tr",19),o.Tb(1,"td",20),o.Hc(2),o.Ob(3,"app-input",21),o.Sb(),o.Tb(4,"td"),o.Ob(5,"app-input",22),o.Sb(),o.Tb(6,"td"),o.Ob(7,"app-input",23),o.Sb(),o.Tb(8,"td",20),o.Tb(9,"app-circle-button-delete",3),o.ac("onClick",function(){o.vc(t);const e=n.index;return o.dc().deleteRow(e)}),o.Sb(),o.Sb(),o.Sb()}if(2&t){const t=n.index;o.jc("formGroupName",t),o.zb(2),o.Jc(" ",t+1," "),o.zb(1),o.jc("hidden",!0)("ngModel",t+1)}}function S(t,n){if(1&t){const t=o.Ub();o.Tb(0,"button",24),o.ac("click",function(){return o.vc(t),o.dc().addRow()}),o.Ob(1,"i",25),o.Hc(2," Th\xeam m\u1ed9t d\xf2ng"),o.Sb()}}function z(t,n){}let T=(()=>{class t extends i.a{constructor(t,n){super(t),this.trainingFormService=n}ngOnInit(){this.form=this.formBuilder.group({name:[null,c.t.required],code:[null],trainingSubjects:this.formBuilder.array([])}),this.addRow()}get trainingSubjects(){return this.form.controls.trainingSubjects}addRow(t){this.trainingSubjects.push(this.createItem(t))}deleteRow(t){this.trainingSubjects.removeAt(t)}createItem(t){return this.formBuilder.group({name:[null,[c.t.required]],order:[null],amount:[null,[c.t.required]]})}onSave(){for(const t in this.form.controls)this.form.controls[t].markAsDirty(),this.form.controls[t].updateValueAndValidity();for(const t in this.trainingSubjects.controls){const n=this.trainingSubjects.controls[t];for(const t in n.controls)n.controls[t].markAsDirty(),n.controls[t].updateValueAndValidity()}this.form.valid&&(this.loading=!0,this.trainingFormService.create(this.form.value).toPromise().then(t=>{this.loading=!1,t&&t.success?this.isModal&&(this.message.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"),this.modal.destroy(t.data)):this.message.error("L\u1ed7i: "+t.message)}))}onCancel(){this.isModal&&this.modal.destroy()}}return t.\u0275fac=function(n){return new(n||t)(o.Nb(o.r),o.Nb(a.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-create-training-form"]],features:[o.wb],decls:29,vars:9,consts:[[1,"container"],[1,"page-header"],[3,"loading","onClick"],[3,"onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean h\xecnh th\u1ee9c","formControlName","name","required","true"],["type","text","labelContent","M\xe3 h\xecnh th\u1ee9c","formControlName","code"],[1,"row","m-t-30"],[1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"]],template:function(t,n){if(1&t&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"app-button-save",2),o.ac("onClick",function(){return n.onSave()}),o.Sb(),o.Tb(3,"app-button-cancel",3),o.ac("onClick",function(){return n.onCancel()}),o.Sb(),o.Sb(),o.Tb(4,"div"),o.Tb(5,"form",4),o.Tb(6,"div",5),o.Tb(7,"div",6),o.Ob(8,"app-input",7),o.Sb(),o.Tb(9,"div",6),o.Ob(10,"app-input",8),o.Sb(),o.Sb(),o.Tb(11,"div",9),o.Tb(12,"div",10),o.Tb(13,"nz-table",11),o.Tb(14,"thead"),o.Tb(15,"tr"),o.Tb(16,"th",12),o.Hc(17,"STT"),o.Sb(),o.Tb(18,"th"),o.Hc(19,"\u0110\u1ed1i t\u01b0\u1ee3ng"),o.Sb(),o.Tb(20,"th"),o.Hc(21,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),o.Sb(),o.Ob(22,"th",13),o.Sb(),o.Sb(),o.Tb(23,"tbody",14),o.Fc(24,m,10,4,"tr",15),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Fc(25,S,3,0,"ng-template",null,16,o.Gc),o.Fc(27,z,0,0,"ng-template",17,18,o.Gc)),2&t){const t=o.tc(26),e=o.tc(28);o.zb(2),o.jc("loading",n.loading),o.zb(2),o.Bb(n.isModal?"m-t-30":""),o.zb(1),o.jc("formGroup",n.form),o.zb(8),o.jc("nzShowPagination",!1)("nzNoResult",e)("nzFooter",t),o.zb(11),o.jc("ngForOf",n.trainingSubjects.controls)}},directives:[r.a,s.a,c.u,c.o,c.i,b.a,c.n,c.h,c.s,d.b,d.j,d.k,d.a,d.h,d.e,c.e,l.m,c.j,u.a,h.a,p.a,g.a,f.a],styles:[""]}),t})()},OG76:function(t,n,e){"use strict";e.d(n,"a",function(){return rt});var i=e("1XBi"),c=e("3Pt+"),o=e("fXoL"),a=e("DuPd"),r=e("ofXK"),s=e("AVD9"),b=e("QlUG"),d=e("rMZv"),l=e("TqlK"),u=e("2I5R"),h=e("r7RV"),p=e("OzZK"),g=e("RwU8"),f=e("C2AL"),m=e("FwiY");function S(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-button-edit",20),o.ac("onClick",function(){return o.vc(t),o.dc().onEdit()}),o.Sb()}}function z(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-button-save",21),o.ac("onClick",function(){return o.vc(t),o.dc().onSave()}),o.Sb()}if(2&t){const t=o.dc();o.jc("loading",t.loading)}}function T(t,n){1&t&&o.Ob(0,"th",22)}function C(t,n){if(1&t){const t=o.Ub();o.Tb(0,"td",24),o.Tb(1,"app-circle-button-delete",20),o.ac("onClick",function(){o.vc(t);const n=o.dc().index;return o.dc().deleteRow(n)}),o.Sb(),o.Sb()}}function v(t,n){if(1&t&&(o.Tb(0,"tr",23),o.Tb(1,"td",24),o.Hc(2),o.Ob(3,"app-input",25),o.Sb(),o.Tb(4,"td"),o.Ob(5,"app-input",26),o.Sb(),o.Tb(6,"td"),o.Ob(7,"app-input",27),o.Sb(),o.Fc(8,C,2,0,"td",28),o.Sb()),2&t){const t=n.index,e=o.dc();o.jc("formGroupName",t),o.zb(2),o.Jc(" ",t+1," "),o.zb(1),o.jc("hidden",!0)("ngModel",t+1),o.zb(5),o.jc("ngIf",e.isEdit)}}function k(t,n){if(1&t){const t=o.Ub();o.Tb(0,"button",30),o.ac("click",function(){return o.vc(t),o.dc(2).addRow()}),o.Ob(1,"i",31),o.Hc(2," Th\xeam m\u1ed9t d\xf2ng"),o.Sb()}}function x(t,n){if(1&t&&o.Fc(0,k,3,0,"button",29),2&t){const t=o.dc();o.jc("ngIf",t.isEdit)}}function y(t,n){}let j=(()=>{class t extends i.a{constructor(t,n){super(t),this.trainingFormService=n}ngOnInit(){this.form=this.formBuilder.group({name:[null,c.t.required],code:[null],trainingSubjects:this.formBuilder.array([])}),this.fetchDetail()}fetchDetail(){this.trainingFormService.getById(this.id).toPromise().then(t=>{t&&t.success?(this.form.patchValue(t.data),t.data.trainingSubjects.forEach(t=>{this.addRow(t)}),this.isEdit||this.form.disable()):this.message.error("L\u1ed7i: "+t.message)})}onEdit(){this.isEdit=!0,this.form.enable(),this.form.controls.name.disable(),this.form.controls.code.disable()}get trainingSubjects(){return this.form.controls.trainingSubjects}addRow(t){this.trainingSubjects.push(this.createItem(t))}deleteRow(t){this.trainingSubjects.removeAt(t)}createItem(t){return this.formBuilder.group({name:[t?t.name:null,[c.t.required]],amount:[t?t.amount:null,[c.t.required]],order:[null]})}onSave(){for(const t in this.form.controls)this.form.controls[t].markAsDirty(),this.form.controls[t].updateValueAndValidity();for(const t in this.trainingSubjects.controls){const n=this.trainingSubjects.controls[t];for(const t in n.controls)n.controls[t].markAsDirty(),n.controls[t].updateValueAndValidity()}this.form.valid&&(this.loading=!0,this.trainingFormService.update(this.id,this.form.value).toPromise().then(t=>{this.loading=!1,t&&t.success?this.isModal&&(this.message.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),this.modal.destroy(t.data)):this.message.error("L\u1ed7i: "+t.message)}))}onCancel(){this.isModal&&this.modal.destroy()}}return t.\u0275fac=function(n){return new(n||t)(o.Nb(o.r),o.Nb(a.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-detail-training-form"]],features:[o.wb],decls:30,vars:12,consts:[[1,"container"],[1,"page-header"],[3,"onClick",4,"ngIf"],[3,"loading","onClick",4,"ngIf"],[3,"popConfirm","onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean h\xecnh th\u1ee9c","formControlName","name","required","true"],["type","text","labelContent","M\xe3 h\xecnh th\u1ee9c","formControlName","code"],[1,"row","m-t-30"],[1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px",4,"ngIf"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],[3,"onClick"],[3,"loading","onClick"],["width","70px"],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["class","text-center",4,"ngIf"],["nz-button","",3,"click",4,"ngIf"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"]],template:function(t,n){if(1&t&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Fc(2,S,1,0,"app-button-edit",2),o.Fc(3,z,1,1,"app-button-save",3),o.Tb(4,"app-button-cancel",4),o.ac("onClick",function(){return n.onCancel()}),o.Sb(),o.Sb(),o.Tb(5,"div"),o.Tb(6,"form",5),o.Tb(7,"div",6),o.Tb(8,"div",7),o.Ob(9,"app-input",8),o.Sb(),o.Tb(10,"div",7),o.Ob(11,"app-input",9),o.Sb(),o.Sb(),o.Tb(12,"div",10),o.Tb(13,"div",11),o.Tb(14,"nz-table",12),o.Tb(15,"thead"),o.Tb(16,"tr"),o.Tb(17,"th",13),o.Hc(18,"STT"),o.Sb(),o.Tb(19,"th"),o.Hc(20,"\u0110\u1ed1i t\u01b0\u1ee3ng"),o.Sb(),o.Tb(21,"th"),o.Hc(22,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),o.Sb(),o.Fc(23,T,1,0,"th",14),o.Sb(),o.Sb(),o.Tb(24,"tbody",15),o.Fc(25,v,9,5,"tr",16),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Fc(26,x,1,1,"ng-template",null,17,o.Gc),o.Fc(28,y,0,0,"ng-template",18,19,o.Gc)),2&t){const t=o.tc(27),e=o.tc(29);o.zb(2),o.jc("ngIf",!n.isEdit),o.zb(1),o.jc("ngIf",n.isEdit),o.zb(1),o.jc("popConfirm",!!n.isEdit),o.zb(1),o.Bb(n.isModal?"m-t-30":""),o.zb(1),o.jc("formGroup",n.form),o.zb(8),o.jc("nzShowPagination",!1)("nzNoResult",e)("nzFooter",t),o.zb(9),o.jc("ngIf",n.isEdit),o.zb(2),o.jc("ngForOf",n.trainingSubjects.controls)}},directives:[r.n,s.a,c.u,c.o,c.i,b.a,c.n,c.h,c.s,d.b,d.j,d.k,d.a,d.h,d.e,c.e,r.m,l.a,u.a,c.j,h.a,p.a,g.a,f.a,m.a],styles:[""]}),t})();var w=e("HwMn"),I=e("XlE4"),F=e("QH85"),P=e("B+r4"),M=e("TAm2"),O=e("k8vQ"),H=e("zAKX"),D=e("bE2y"),q=e("3/1E"),N=e("gyL+"),L=e("eKRx"),A=e("JA5x"),R=e("/SMA"),E=e("J6Ek"),U=e("v7J9");function B(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-button-create",4),o.ac("onClick",function(){return o.vc(t),o.dc().goToCreate()}),o.Sb()}}function G(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-button-choose",4),o.ac("onClick",function(){return o.vc(t),o.dc().chooseItem()}),o.Sb()}}function V(t,n){if(1&t&&o.Hc(0),2&t){const t=n.$implicit,e=o.dc();o.Lc(" ",e.request.pageSize*(e.request.currentPage-1)+1," -",e.request.pageSize*e.request.currentPage>t?t:e.request.pageSize*e.request.currentPage," /",t," ")}}function X(t,n){1&t&&o.Ob(0,"th",29)}function $(t,n){1&t&&o.Ob(0,"th")}function J(t,n){if(1&t){const t=o.Ub();o.Tb(0,"td",38),o.ac("nzCheckedChange",function(n){o.vc(t);const e=o.dc().$implicit;return o.dc(2).mapOfCheckedId[e.id]=n})("nzCheckedChange",function(){return o.vc(t),o.dc(3).refreshStatus()})("click",function(t){return t.stopPropagation()}),o.Sb()}if(2&t){const t=o.dc().$implicit,n=o.dc(2);o.jc("nzChecked",n.mapOfCheckedId[t.id])}}function K(t,n){1&t&&o.Ob(0,"td")}function Q(t,n){if(1&t){const t=o.Ub();o.Tb(0,"td",39),o.ac("nzExpandChange",function(n){return o.vc(t),o.dc().$implicit.expand=n}),o.Sb()}if(2&t){const t=o.dc().$implicit;o.jc("nzExpand",t.expand)}}const W=function(t){return{"col-group-text":t}};function Z(t,n){if(1&t&&(o.Tb(0,"td",40),o.Hc(1),o.Sb()),2&t){const t=o.dc().$implicit,n=o.dc(2);o.jc("ngClass",o.oc(2,W,n.expandable)),o.zb(1),o.Jc(" ",t[n.groupBy]," ")}}function Y(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-circle-button-edit",4),o.ac("onClick",function(){o.vc(t);const n=o.dc(2).$implicit;return o.dc(2).goToDetail(n.id,!0)}),o.Sb()}}function _(t,n){if(1&t&&(o.Rb(0),o.Fc(1,Y,1,0,"app-circle-button-edit",5),o.Qb()),2&t){const t=o.dc(3);o.zb(1),o.jc("ngIf",t.isSuperAdmin)}}function tt(t,n){if(1&t){const t=o.Ub();o.Tb(0,"app-circle-button-edit",4),o.ac("onClick",function(){o.vc(t);const n=o.dc(2).$implicit;return o.dc(2).goToDetail(n.id,!0)}),o.Sb()}}function nt(t,n){if(1&t){const t=o.Ub();o.Tb(0,"tr",41),o.ac("click",function(){o.vc(t);const e=n.$implicit;return o.dc(3).goToDetail(e.id)}),o.Tb(1,"td",42),o.ac("nzCheckedChange",function(e){o.vc(t);const i=n.$implicit;return o.dc(3).mapOfCheckedId[i.id]=e})("nzCheckedChange",function(){return o.vc(t),o.dc(3).refreshStatus()}),o.Sb(),o.Ob(2,"td"),o.Ob(3,"td"),o.Tb(4,"td",34),o.Hc(5),o.Sb(),o.Tb(6,"td",35),o.Hc(7),o.Sb(),o.Tb(8,"td"),o.Hc(9),o.Sb(),o.Tb(10,"td"),o.Hc(11),o.Sb(),o.Tb(12,"td",36),o.ac("click",function(t){return t.stopPropagation()}),o.Fc(13,tt,1,0,"app-circle-button-edit",5),o.Sb(),o.Sb()}if(2&t){const t=n.$implicit,e=n.index,i=o.dc().$implicit,c=o.dc(2);o.jc("nzExpand",i.expand),o.zb(1),o.jc("nzChecked",c.mapOfCheckedId[t.id]),o.zb(4),o.Ic(c.request.pageSize*(c.request.currentPage-1)+(e+1)),o.zb(2),o.Ic(t.name),o.zb(2),o.Ic(t.code),o.zb(2),o.Ic(t.trainingSubjects.length),o.zb(2),o.jc("ngIf",c.isSuperAdmin)}}const et=function(t){return{"col-group":t}};function it(t,n){if(1&t){const t=o.Ub();o.Tb(0,"tr",30),o.ac("click",function(){o.vc(t);const e=n.$implicit,i=o.dc(2);return!i.expandable&&i.goToDetail(e.id)}),o.Fc(1,J,1,1,"td",31),o.Fc(2,K,1,0,"td",18),o.Fc(3,Q,1,1,"td",32),o.Fc(4,Z,2,4,"td",33),o.Tb(5,"td",34),o.Hc(6),o.Sb(),o.Tb(7,"td",35),o.Hc(8),o.Sb(),o.Tb(9,"td"),o.Hc(10),o.Sb(),o.Tb(11,"td"),o.Hc(12),o.Sb(),o.Tb(13,"td",36),o.ac("click",function(t){return t.stopPropagation()}),o.Fc(14,_,2,1,"ng-container",18),o.Sb(),o.Sb(),o.Fc(15,nt,14,7,"tr",37)}if(2&t){const t=n.index,e=n.$implicit,i=o.dc(2);o.jc("ngClass",o.oc(11,et,i.expandable)),o.zb(1),o.jc("ngIf",!i.expandable),o.zb(1),o.jc("ngIf",i.expandable),o.zb(1),o.jc("ngIf",i.expandable),o.zb(1),o.jc("ngIf",i.expandable),o.zb(2),o.Ic(i.expandable?"":i.request.pageSize*(i.request.currentPage-1)+(t+1)),o.zb(2),o.Ic(i.expandable?"":e.name),o.zb(2),o.Ic(i.expandable?"":e.code),o.zb(2),o.Ic(i.expandable?"":e.trainingSubjects.length),o.zb(2),o.jc("ngIf",!i.expandable),o.zb(1),o.jc("ngForOf",e.children)}}function ct(t,n){if(1&t){const t=o.Ub();o.Rb(0),o.Tb(1,"nz-card"),o.Tb(2,"nz-table",19,20),o.ac("nzCurrentPageDataChange",function(n){return o.vc(t),o.dc().currentPageDataChange(n)}),o.Tb(4,"thead",21),o.ac("nzSortChange",function(n){return o.vc(t),o.dc().sortChange(n)}),o.Tb(5,"tr"),o.Tb(6,"th",22),o.ac("nzCheckedChange",function(n){return o.vc(t),o.dc().isAllDisplayDataChecked=n})("nzCheckedChange",function(n){return o.vc(t),o.dc().checkAll(n)}),o.Sb(),o.Fc(7,X,1,0,"th",23),o.Fc(8,$,1,0,"th",18),o.Tb(9,"th",24),o.Hc(10,"STT "),o.Sb(),o.Tb(11,"th",25),o.Hc(12," T\xean h\xecnh th\u1ee9c "),o.Sb(),o.Tb(13,"th",26),o.Hc(14," M\xe3 h\xecnh th\u1ee9c "),o.Sb(),o.Tb(15,"th"),o.Hc(16," T\u1ed5ng \u0111\u1ed1i t\u01b0\u1ee3ng "),o.Sb(),o.Tb(17,"th",27),o.Hc(18," Thao t\xe1c "),o.Sb(),o.Sb(),o.Sb(),o.Tb(19,"tbody"),o.Fc(20,it,16,13,"ng-template",28),o.Sb(),o.Sb(),o.Sb(),o.Qb()}if(2&t){const t=o.tc(3),n=o.dc();o.zb(2),o.jc("nzData",n.listData)("nzFrontPagination",!1)("nzLoading",n.isLoading),o.zb(4),o.jc("nzChecked",n.isAllDisplayDataChecked)("nzIndeterminate",n.isIndeterminate),o.zb(1),o.jc("ngIf",n.expandable),o.zb(1),o.jc("ngIf",n.expandable),o.zb(12),o.jc("ngForOf",t.data)}}function ot(t,n){if(1&t&&(o.Tb(0,"app-card-item",44),o.Hc(1),o.Sb(),o.Tb(2,"app-card-item",45),o.Hc(3),o.Sb(),o.Tb(4,"app-card-item",46),o.Hc(5),o.Sb()),2&t){const t=n.item;o.zb(1),o.Jc(" ",t.name," "),o.zb(2),o.Jc(" ",t.code," "),o.zb(2),o.Jc(" ",t.trainingSubjects.length," ")}}function at(t,n){if(1&t){const t=o.Ub();o.Rb(0),o.Tb(1,"app-card-view",43),o.ac("onClick",function(n){return o.vc(t),o.dc().goToDetail(n.id)}),o.Fc(2,ot,6,3,"ng-template"),o.Sb(),o.Qb()}if(2&t){const t=o.dc();o.zb(1),o.jc("expandable",t.expandable)("listData",t.listData)("groupBy",t.groupBy)}}let rt=(()=>{class t extends I.a{constructor(t,n,e){super(t),this.modalService=n,this.trainingFormService=e}ngOnInit(){this.request.sort="+LastModifiedOnDate",this.fetchList()}fetchList(){const t=JSON.stringify({ListTextSearch:this.request.listTextSearch});this.isLoading=!0,this.trainingFormService.getList(this.request.currentPage,this.request.pageSize,this.request.sort,t).toPromise().then(t=>{this.isLoading=!1,t&&t.success?(this.listData=t.data.content,this.flatList=t.data.content,this.total=t.data.totalRecords,this.parseGroup(this.listData)):this.message.error(t.message)})}reload(){this.request.currentPage=1,this.request.listTextSearch=[],this.fetchList()}goToCreate(){this.modalService.openCreateModal(w.a,"850px").afterClose.toPromise().then(t=>{t&&this.reload()})}goToDetail(t,n=!1){this.modalService.openDetailModal(j,t,n,"850px").afterClose.toPromise().then(t=>{t&&this.reload()})}chooseItem(){let t=this.listData.find(t=>t.id==this.selectedIds[0]);this.modal.destroy(t)}deleteMany(t){this.isLoading=!0,this.trainingFormService.deleteMany(t).toPromise().then(t=>{this.isLoading=!1,t&&t.success?(this.message.success("X\xf3a th\xe0nh c\xf4ng"),this.fetchList()):this.message.error("L\u1ed7i: "+t.message)})}}return t.\u0275fac=function(n){return new(n||t)(o.Nb(o.r),o.Nb(F.a),o.Nb(a.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-list-training-form"]],features:[o.wb],decls:31,vars:18,consts:[[1,"page-header"],[1,"row"],[1,"col-md-5"],["nz-row",""],[3,"onClick"],[3,"onClick",4,"ngIf"],[1,"col-md-7"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-3"],["nzPlaceHolder","Nh\xf3m theo","nzAllowClear","","nzShowSearch","","nzHideUnMatched","",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"float-right",3,"ngModel","nzButtonStyle","ngModelChange"],["nz-radio-button","","nzValue","list"],["nz-icon","","nzType","bars","nzTheme","outline"],["nz-radio-button","","nzValue","card"],["nz-icon","","nzType","appstore","nzTheme","outline"],[1,"float-right","mr-2",3,"nzPageSize","nzPageIndex","nzShowTotal","nzTotal","nzPageSizeChange","nzPageIndexChange","nzTotalChange"],["totalTemplate",""],[4,"ngIf"],[1,"w-100",3,"nzData","nzFrontPagination","nzLoading","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzSortChange"],["nzShowCheckbox","","nzWidth","50px",1,"center",3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","50px","nzShowExpand","",4,"ngIf"],["nzWidth","50px",1,"center"],["nzShowSort","","nzSortKey","name"],["nzShowSort","","nzSortKey","code"],["width","200px",1,"center"],["ngFor","",3,"ngForOf"],["nzWidth","50px","nzShowExpand",""],[3,"ngClass","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click",4,"ngIf"],["class","center","nzShowExpand","",3,"nzExpand","nzExpandChange",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"center"],[1,"text-highlight"],[1,"center",3,"click"],[3,"nzExpand","click",4,"ngFor","ngForOf"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click"],["nzShowExpand","",1,"center",3,"nzExpand","nzExpandChange"],[3,"ngClass"],[3,"nzExpand","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange"],[3,"expandable","listData","groupBy","onClick"],["label","T\xean h\xecnh th\u1ee9c"],["label","M\xe3 h\xecnh th\u1ee9c"],["label","T\u1ed5ng \u0111\u1ed1i t\u01b0\u1ee3ng"]],template:function(t,n){if(1&t&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Tb(4,"app-header-title"),o.Hc(5,"Danh s\xe1ch h\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o"),o.Sb(),o.Sb(),o.Tb(6,"div",3),o.Tb(7,"app-button-reload",4),o.ac("onClick",function(){return n.reload()}),o.Sb(),o.Fc(8,B,1,0,"app-button-create",5),o.Fc(9,G,1,0,"app-button-choose",5),o.Sb(),o.Sb(),o.Tb(10,"div",6),o.Tb(11,"div",3),o.Tb(12,"nz-select",7),o.ac("ngModelChange",function(t){return n.nzOnSearch(t)}),o.Sb(),o.Sb(),o.Tb(13,"div",1),o.Tb(14,"div",8),o.Tb(15,"nz-select",9),o.ac("ngModelChange",function(t){return n.onGroupBy(t)}),o.Sb(),o.Sb(),o.Tb(16,"div",10),o.Tb(17,"nz-radio-group",11),o.ac("ngModelChange",function(t){return n.tableType=t}),o.Tb(18,"label",12),o.Tb(19,"span"),o.Ob(20,"i",13),o.Sb(),o.Sb(),o.Tb(21,"label",14),o.Tb(22,"span"),o.Ob(23,"i",15),o.Sb(),o.Sb(),o.Sb(),o.Tb(24,"nz-pagination",16),o.ac("nzPageSizeChange",function(t){return n.request.pageSize=t})("nzPageIndexChange",function(t){return n.request.currentPage=t})("nzPageIndexChange",function(t){return n.pageIndexChange(t)})("nzTotalChange",function(t){return n.total=t}),o.Sb(),o.Fc(25,V,1,3,"ng-template",null,17,o.Gc),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(27,"div",1),o.Tb(28,"div"),o.Fc(29,ct,21,8,"ng-container",18),o.Fc(30,at,3,3,"ng-container",18),o.Sb(),o.Sb()),2&t){const t=o.tc(26);o.zb(8),o.jc("ngIf",n.isSuperAdmin),o.zb(1),o.jc("ngIf",n.isModal&&1==n.selectedIds.length),o.zb(3),o.jc("ngModel",n.listTextSearch),o.zb(3),o.jc("ngModel",n.groupBy),o.zb(2),o.jc("ngModel",n.tableType)("nzButtonStyle","solid"),o.zb(7),o.jc("nzPageSize",n.request.pageSize)("nzPageIndex",n.request.currentPage)("nzShowTotal",t)("nzTotal",n.total),o.zb(3),o.Bb(n.isModal?"m-t-30":""),o.zb(1),o.Bb(n.isModal?"w-100 center":"col-lg-11 center"),o.zb(1),o.jc("ngIf","list"==n.tableType),o.zb(1),o.jc("ngIf","card"==n.tableType)}},directives:[P.c,M.a,O.a,r.n,H.b,c.n,c.q,D.c,D.b,D.a,f.a,m.a,q.a,N.a,L.a,A.a,d.b,d.j,d.k,d.a,d.h,d.i,d.g,d.e,r.m,r.l,d.f,R.a,d.l,d.c,E.a,U.a],styles:[""]}),t})()}}]);