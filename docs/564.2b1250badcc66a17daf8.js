"use strict";(self.webpackChunkcme_management=self.webpackChunkcme_management||[]).push([[564],{62342:(I,z,a)=>{a.d(z,{s:()=>A});var D=a(78545),p=a(90665),t=a(92340),r=a(37716),_=a(49206),C=a(76122),u=a(75930),T=a(40228),v=a(31136);let A=(()=>{class d extends D.l{constructor(m,x){super(m),this.departmentService=x}ngOnInit(){this.form=this.formBuilder.group({name:[null,p.kI.required],code:[null],organizationId:[t.N.INTERNAL_ORGANIZATION_ID,p.kI.required]})}onSave(){for(const m in this.form.controls)this.form.controls[m].markAsDirty(),this.form.controls[m].updateValueAndValidity();this.form.valid&&(this.loading=!0,this.departmentService.create(this.form.value).toPromise().then(m=>{this.loading=!1,m&&m.success?this.isModal&&(this.message.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"),this.modal.destroy(m.data)):this.message.error("L\u1ed7i: "+m.message)}))}onCancel(){this.isModal&&this.modal.destroy()}}return d.\u0275fac=function(m){return new(m||d)(r.Y36(r.zs3),r.Y36(_.n))},d.\u0275cmp=r.Xpm({type:d,selectors:[["app-create-department"]],features:[r.qOj],decls:14,vars:6,consts:[[1,"container"],[1,"page-header"],[3,"loading","onClick"],[3,"onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean khoa ph\xf2ng","formControlName","name","required","true"],["type","text","labelContent","M\xe3 khoa ph\xf2ng","formControlName","code"],[1,"col-md-12"],["formControlName","organizationId","required","",3,"span"]],template:function(m,x){1&m&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"app-button-save",2),r.NdJ("onClick",function(){return x.onSave()}),r.qZA(),r.TgZ(3,"app-button-cancel",3),r.NdJ("onClick",function(){return x.onCancel()}),r.qZA(),r.qZA(),r.TgZ(4,"div"),r.TgZ(5,"form",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r._UZ(8,"app-input",7),r.qZA(),r.TgZ(9,"div",6),r._UZ(10,"app-input",8),r.qZA(),r.qZA(),r.TgZ(11,"div",5),r.TgZ(12,"div",9),r._UZ(13,"app-select-organization",10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&m&&(r.xp6(2),r.Q6J("loading",x.loading),r.xp6(2),r.Tol(x.isModal?"m-t-30":""),r.xp6(1),r.Q6J("formGroup",x.form),r.xp6(8),r.Q6J("span",2))},directives:[C.U,u.x,p._Y,p.JL,p.sg,T.a,p.JJ,p.u,p.Q7,v.m],styles:[""]}),d})()},32564:(I,z,a)=>{a.r(z),a.d(z,{DepartmentModule:()=>A});var D=a(13306),p=a(44970),t=a(63423),r=a(37716);const _=[{path:"",component:p.I}];let C=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[t.Bz.forChild(_)],t.Bz]}),d})();var u=a(42979),T=a(76231),v=a(38583);let A=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({imports:[[v.ez,T.m,u.j,C,D.OrganizationModule]]}),d})()},44970:(I,z,a)=>{a.d(z,{I:()=>pt});var D=a(78545),p=a(90665),t=a(37716),r=a(49206),_=a(38583),C=a(75930),u=a(40228),T=a(31136),v=a(30462),A=a(76122);function d(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-button-edit",12),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().onEdit()}),t.qZA()}}function h(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-button-save",13),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().onSave()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("loading",e.loading)}}let m=(()=>{class i extends D.l{constructor(e,n){super(e),this.departmentService=n}ngOnInit(){this.form=this.formBuilder.group({name:[null,p.kI.required],code:[null],organizationId:[null,p.kI.required]}),this.isEdit||this.form.disable(),this.fetchDetail()}fetchDetail(){this.departmentService.getById(this.id).toPromise().then(e=>{e&&e.success?this.form.patchValue(e.data):this.message.error("L\u1ed7i: "+e.message)})}onEdit(){this.isEdit=!0,this.form.enable()}onCancel(){this.isModal&&this.modal.destroy()}onSave(){for(const e in this.form.controls)this.form.controls[e].markAsDirty(),this.form.controls[e].updateValueAndValidity();this.form.valid&&(this.loading=!0,this.departmentService.update(this.id,this.form.value).toPromise().then(e=>{this.loading=!1,e&&e.success?this.isModal&&(this.message.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),this.modal.destroy({return:e})):this.message.error("L\u1ed7i: "+e.message)}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(r.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-detail-department"]],features:[t.qOj],decls:15,vars:9,consts:[[1,"container"],[1,"page-header"],[3,"onClick",4,"ngIf"],[3,"loading","onClick",4,"ngIf"],[3,"popConfirm","onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean khoa ph\xf2ng","formControlName","name","required","true"],["type","text","labelContent","M\xe3 khoa ph\xf2ng","formControlName","code"],[1,"col-md-12"],["formControlName","organizationId",3,"span","required"],[3,"onClick"],[3,"loading","onClick"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,d,1,0,"app-button-edit",2),t.YNc(3,h,1,1,"app-button-save",3),t.TgZ(4,"app-button-cancel",4),t.NdJ("onClick",function(){return n.onCancel()}),t.qZA(),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"form",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t._UZ(9,"app-input",8),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-input",9),t.qZA(),t.qZA(),t.TgZ(12,"div",6),t.TgZ(13,"div",10),t._UZ(14,"app-select-organization",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",!n.isEdit),t.xp6(1),t.Q6J("ngIf",n.isEdit),t.xp6(1),t.Q6J("popConfirm",!!n.isEdit),t.xp6(1),t.Tol(n.isModal?"m-t-30":""),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(8),t.Q6J("span",2)("required",!0))},directives:[_.O5,C.x,p._Y,p.JL,p.sg,u.a,p.JJ,p.u,p.Q7,T.m,v.D,A.U],styles:[""]}),i})();var x=a(62342),b=a(22574),f=a(19493),O=a(16704),s=a(78503),g=a(55039),E=a(80269),M=a(71398),S=a(84514),P=a(66630),J=a(25428),q=a(4079),y=a(64236),N=a(72544),U=a(17018),Z=a(31618),k=a(25661),B=a(46078),Q=a(51240),F=a(39907);function Y(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-button-create",4),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().goToCreate()}),t.qZA()}}function H(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-button-choose",4),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().chooseItem()}),t.qZA()}}function R(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-button-delete",4),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw();return o.deleteMany(o.selectedIds)}),t.qZA()}}function K(i,c){if(1&i&&t._uU(0),2&i){const e=c.$implicit,n=t.oxw();t.lnq(" ",n.request.pageSize*(n.request.currentPage-1)+1," -",n.request.pageSize*n.request.currentPage>e?e:n.request.pageSize*n.request.currentPage," /",e," ")}}function W(i,c){1&i&&t._UZ(0,"th",29)}function w(i,c){1&i&&t._UZ(0,"th")}function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td",38),t.NdJ("nzCheckedChange",function(o){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).mapOfCheckedId[l.id]=o})("nzCheckedChange",function(){return t.CHM(e),t.oxw(3).refreshStatus()})("click",function(o){return o.stopPropagation()}),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("nzChecked",n.mapOfCheckedId[e.id])}}function V(i,c){1&i&&t._UZ(0,"td")}function j(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"td",39),t.NdJ("nzExpandChange",function(o){return t.CHM(e),t.oxw().$implicit.expand=o}),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("nzExpand",e.expand)}}const G=function(i){return{"col-group-text":i}};function X(i,c){if(1&i&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,G,n.expandable)),t.xp6(1),t.hij(" ",e[n.groupBy]," ")}}function tt(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-circle-button-edit",4),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).goToDetail(o.id,!0)}),t.qZA()}}function et(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-circle-button-delete",4),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).deleteMany([o.id])}),t.qZA()}}function nt(i,c){if(1&i&&(t.ynx(0),t.YNc(1,tt,1,0,"app-circle-button-edit",5),t.YNc(2,et,1,0,"app-circle-button-delete",5),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",!e.isModal)}}function ot(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-circle-button-edit",4),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).goToDetail(o.id,!0)}),t.qZA()}}function at(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"app-circle-button-delete",4),t.NdJ("onClick",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw(2).deleteMany([o.id])}),t.qZA()}}function it(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"tr",41),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).goToDetail(l.id)}),t.TgZ(1,"td",42),t.NdJ("nzCheckedChange",function(o){const L=t.CHM(e).$implicit;return t.oxw(3).mapOfCheckedId[L.id]=o})("nzCheckedChange",function(){return t.CHM(e),t.oxw(3).refreshStatus()}),t.qZA(),t._UZ(2,"td"),t._UZ(3,"td"),t.TgZ(4,"td",34),t._uU(5),t.qZA(),t.TgZ(6,"td",35),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",36),t.NdJ("click",function(o){return o.stopPropagation()}),t.YNc(13,ot,1,0,"app-circle-button-edit",5),t.YNc(14,at,1,0,"app-circle-button-delete",5),t.qZA(),t.qZA()}if(2&i){const e=c.$implicit,n=c.index,o=t.oxw().$implicit,l=t.oxw(2);t.Q6J("nzExpand",o.expand),t.xp6(1),t.Q6J("nzChecked",l.mapOfCheckedId[e.id]),t.xp6(4),t.Oqu(l.request.pageSize*(l.request.currentPage-1)+(n+1)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.code),t.xp6(2),t.Oqu(e.organization.name),t.xp6(2),t.Q6J("ngIf",l.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",!l.isModal)}}const rt=function(i){return{"col-group":i}};function _t(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"tr",30),t.NdJ("click",function(){const l=t.CHM(e).$implicit,L=t.oxw(2);return!L.expandable&&L.goToDetail(l.id)}),t.YNc(1,$,1,1,"td",31),t.YNc(2,V,1,0,"td",18),t.YNc(3,j,1,1,"td",32),t.YNc(4,X,2,4,"td",33),t.TgZ(5,"td",34),t._uU(6),t.qZA(),t.TgZ(7,"td",35),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",36),t.NdJ("click",function(o){return o.stopPropagation()}),t.YNc(14,nt,3,2,"ng-container",18),t.qZA(),t.qZA(),t.YNc(15,it,15,8,"tr",37)}if(2&i){const e=c.index,n=c.$implicit,o=t.oxw(2);t.Q6J("ngClass",t.VKq(11,rt,o.expandable)),t.xp6(1),t.Q6J("ngIf",!o.expandable),t.xp6(1),t.Q6J("ngIf",o.expandable),t.xp6(1),t.Q6J("ngIf",o.expandable),t.xp6(1),t.Q6J("ngIf",o.expandable),t.xp6(2),t.Oqu(o.expandable?"":o.request.pageSize*(o.request.currentPage-1)+(e+1)),t.xp6(2),t.Oqu(o.expandable?"":n.name),t.xp6(2),t.Oqu(o.expandable?"":n.code),t.xp6(2),t.Oqu(o.expandable?"":n.organization.name),t.xp6(2),t.Q6J("ngIf",!o.expandable),t.xp6(1),t.Q6J("ngForOf",n.children)}}function lt(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"nz-card"),t.TgZ(2,"nz-table",19,20),t.NdJ("nzCurrentPageDataChange",function(o){return t.CHM(e),t.oxw().currentPageDataChange(o)}),t.TgZ(4,"thead",21),t.NdJ("nzSortChange",function(o){return t.CHM(e),t.oxw().sortChange(o)}),t.TgZ(5,"tr"),t.TgZ(6,"th",22),t.NdJ("nzCheckedChange",function(o){return t.CHM(e),t.oxw().isAllDisplayDataChecked=o})("nzCheckedChange",function(o){return t.CHM(e),t.oxw().checkAll(o)}),t.qZA(),t.YNc(7,W,1,0,"th",23),t.YNc(8,w,1,0,"th",18),t.TgZ(9,"th",24),t._uU(10,"STT "),t.qZA(),t.TgZ(11,"th",25),t._uU(12," T\xean khoa ph\xf2ng "),t.qZA(),t.TgZ(13,"th",26),t._uU(14," M\xe3 khoa ph\xf2ng "),t.qZA(),t.TgZ(15,"th"),t._uU(16," T\xean \u0111\u01a1n v\u1ecb "),t.qZA(),t.TgZ(17,"th",27),t._uU(18," Thao t\xe1c "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"tbody"),t.YNc(20,_t,16,13,"ng-template",28),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const e=t.MAs(3),n=t.oxw();t.xp6(2),t.Q6J("nzData",n.listData)("nzFrontPagination",!1)("nzLoading",n.isLoading),t.xp6(4),t.Q6J("nzChecked",n.isAllDisplayDataChecked)("nzIndeterminate",n.isIndeterminate),t.xp6(1),t.Q6J("ngIf",n.expandable),t.xp6(1),t.Q6J("ngIf",n.expandable),t.xp6(12),t.Q6J("ngForOf",e.data)}}function ct(i,c){if(1&i&&(t.TgZ(0,"app-card-item",44),t._uU(1),t.qZA(),t.TgZ(2,"app-card-item",45),t._uU(3),t.qZA(),t.TgZ(4,"app-card-item",46),t._uU(5),t.qZA()),2&i){const e=c.item;t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" ",e.address," ")}}function st(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-card-view",43),t.NdJ("onClick",function(o){return t.CHM(e),t.oxw().goToDetail(o.id)}),t.YNc(2,ct,6,3,"ng-template"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("expandable",e.expandable)("listData",e.listData)("groupBy",e.groupBy)}}let pt=(()=>{class i extends b.t{constructor(e,n,o){super(e),this.modalService=n,this.departmentService=o}ngOnInit(){this.fetchList()}fetchList(){const n=JSON.stringify({ListTextSearch:this.request.listTextSearch});this.isLoading=!0,this.departmentService.getList(this.request.currentPage,this.request.pageSize,this.request.sort,n).toPromise().then(o=>{this.isLoading=!1,o&&o.success?(this.listData=o.data.content,this.flatList=o.data.content,this.total=o.data.totalRecords,this.parseGroup(this.listData)):this.message.error(o.message)})}reload(){this.request.currentPage=1,this.request.listTextSearch=[],this.fetchList()}goToCreate(){this.modalService.openCreateModal(x.s,"900px").afterClose.toPromise().then(n=>{n&&this.reload()})}goToDetail(e,n=!1){this.isSuperAdmin&&this.modalService.openDetailModal(m,e,n,"900px").afterClose.toPromise().then(l=>{l&&this.reload()})}chooseItem(){let e=this.listData.find(n=>n.id==this.selectedIds[0]);this.modal.destroy(e)}deleteMany(e){this.isLoading=!0,this.departmentService.deleteMany(e).toPromise().then(n=>{this.isLoading=!1,n?(this.message.success("X\xf3a th\xe0nh c\xf4ng"),this.fetchList()):this.message.error("X\xf3a kh\xf4ng th\xe0nh c\xf4ng")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.zs3),t.Y36(f.Z),t.Y36(r.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-department"]],features:[t.qOj],decls:32,vars:19,consts:[[1,"page-header"],[1,"row"],[1,"col-md-5"],["nz-row",""],[3,"onClick"],[3,"onClick",4,"ngIf"],[1,"col-md-7"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-3"],["nzPlaceHolder","Nh\xf3m theo","nzAllowClear","","nzShowSearch","","nzHideUnMatched","",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"float-right",3,"ngModel","nzButtonStyle","ngModelChange"],["nz-radio-button","","nzValue","list"],["nz-icon","","nzType","bars","nzTheme","outline"],["nz-radio-button","","nzValue","card"],["nz-icon","","nzType","appstore","nzTheme","outline"],[1,"float-right","mr-2",3,"nzPageSize","nzPageIndex","nzShowTotal","nzTotal","nzPageSizeChange","nzPageIndexChange","nzTotalChange"],["totalTemplate",""],[4,"ngIf"],[1,"w-100",3,"nzData","nzFrontPagination","nzLoading","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzSortChange"],["nzShowCheckbox","","nzWidth","50px",1,"center",3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","50px","nzShowExpand","",4,"ngIf"],["nzWidth","50px",1,"center"],["nzShowSort","","nzSortKey","name"],["nzShowSort","","nzSortKey","code"],["width","200px",1,"center"],["ngFor","",3,"ngForOf"],["nzWidth","50px","nzShowExpand",""],[3,"ngClass","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click",4,"ngIf"],["class","center","nzShowExpand","",3,"nzExpand","nzExpandChange",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"center"],[1,"text-highlight"],[1,"center",3,"click"],[3,"nzExpand","click",4,"ngFor","ngForOf"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click"],["nzShowExpand","",1,"center",3,"nzExpand","nzExpandChange"],[3,"ngClass"],[3,"nzExpand","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange"],[3,"expandable","listData","groupBy","onClick"],["label","T\xean \u0111\u01a1n v\u1ecb"],["label","M\xe3 \u0111\u01a1n v\u1ecb"],["label","\u0110\u1ecba ch\u1ec9"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"app-header-title"),t._uU(5,"Danh s\xe1ch khoa ph\xf2ng"),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"app-button-reload",4),t.NdJ("onClick",function(){return n.reload()}),t.qZA(),t.YNc(8,Y,1,0,"app-button-create",5),t.YNc(9,H,1,0,"app-button-choose",5),t.YNc(10,R,1,0,"app-button-delete",5),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"div",3),t.TgZ(13,"nz-select",7),t.NdJ("ngModelChange",function(l){return n.nzOnSearch(l)}),t.qZA(),t.qZA(),t.TgZ(14,"div",1),t.TgZ(15,"div",8),t.TgZ(16,"nz-select",9),t.NdJ("ngModelChange",function(l){return n.onGroupBy(l)}),t.qZA(),t.qZA(),t.TgZ(17,"div",10),t.TgZ(18,"nz-radio-group",11),t.NdJ("ngModelChange",function(l){return n.tableType=l}),t.TgZ(19,"label",12),t.TgZ(20,"span"),t._UZ(21,"i",13),t.qZA(),t.qZA(),t.TgZ(22,"label",14),t.TgZ(23,"span"),t._UZ(24,"i",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"nz-pagination",16),t.NdJ("nzPageSizeChange",function(l){return n.request.pageSize=l})("nzPageIndexChange",function(l){return n.request.currentPage=l})("nzPageIndexChange",function(l){return n.pageIndexChange(l)})("nzTotalChange",function(l){return n.total=l}),t.qZA(),t.YNc(26,K,1,3,"ng-template",null,17,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",1),t.TgZ(29,"div"),t.YNc(30,lt,21,8,"ng-container",18),t.YNc(31,st,3,3,"ng-container",18),t.qZA(),t.qZA()),2&e){const o=t.MAs(27);t.xp6(8),t.Q6J("ngIf",n.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",n.isModal&&1==n.selectedIds.length),t.xp6(1),t.Q6J("ngIf",n.isSuperAdmin&&!n.isModal&&n.selectedIds.length>1&&(n.isAllDisplayDataChecked||n.isIndeterminate)),t.xp6(3),t.Q6J("ngModel",n.listTextSearch),t.xp6(3),t.Q6J("ngModel",n.groupBy),t.xp6(2),t.Q6J("ngModel",n.tableType)("nzButtonStyle","solid"),t.xp6(7),t.Q6J("nzPageSize",n.request.pageSize)("nzPageIndex",n.request.currentPage)("nzShowTotal",o)("nzTotal",n.total),t.xp6(3),t.Tol(n.isModal?"m-t-30":""),t.xp6(1),t.Tol(n.isModal?"w-100 center":"col-lg-11 center"),t.xp6(1),t.Q6J("ngIf","list"==n.tableType),t.xp6(1),t.Q6J("ngIf","card"==n.tableType)}},directives:[O.SK,s.d,g.O,_.O5,E.Vq,p.JJ,p.On,M.Dg,M.Of,M.Bq,S.w,P.Ls,J.dE,q.E,y.K,N.Z,U.bd,Z.N8,Z.Om,Z.$Z,Z.Uo,Z._C,Z.g6,Z.qD,Z.p0,_.sg,_.mk,Z.h7,k.p,B.D,Z.d3,Z.Vk,Q.y,F.o],styles:[""]}),i})()},31136:(I,z,a)=>{a.d(z,{m:()=>b});var D=a(64762),p=a(97013),t=a(33985),r=a(1397),_=a(37716),C=a(90665),u=a(19493),T=a(87579),v=a(40228),A=a(40308),d=a(38583),h=a(4079);function m(f,O){if(1&f){const s=_.EpF();_.TgZ(0,"app-button-create",5),_.NdJ("onClick",function(){return _.CHM(s),_.oxw(2).goToCreate()}),_.qZA()}}function x(f,O){if(1&f){const s=_.EpF();_.TgZ(0,"div",2),_.TgZ(1,"app-button-base",3),_.NdJ("onClick",function(){return _.CHM(s),_.oxw().goToList()}),_._uU(2,"T\xecm ki\u1ebfm"),_.qZA(),_.YNc(3,m,1,0,"app-button-create",4),_.qZA()}if(2&f){const s=_.oxw();_.xp6(3),_.Q6J("ngIf",s.isSuperAdmin)}}let b=(()=>{class f extends p.H{constructor(s,g,E,M){super(s),this.ngControl=g,this.modalService=E,this.organizationService=M,this.labelContent="\u0110\u01a1n v\u1ecb c\xf4ng t\xe1c",this.span=4,this.required=!1,this.labelHorizontal=!0,this.onChange=new _.vpe,this.listData=[],this.loading=!1,null!=this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){this.fetchList()}writeValue(s){}registerOnChange(s){}registerOnTouched(s){}setDisabledState(s){}handleChange(s){this.onChange.emit(s)}fetchList(){this.organizationService.getList().toPromise().then(s=>{this.loading=!1,s&&s.success?this.listData=s.data.content:this.message.error(s.message)})}goToList(){this.modalService.openListModal(t.G).afterClose.toPromise().then(g=>(0,D.mG)(this,void 0,void 0,function*(){g&&this.ngControl.control.setValue(g.id)}))}goToCreate(){this.modalService.openCreateModal(r.L).afterClose.toPromise().then(g=>(0,D.mG)(this,void 0,void 0,function*(){g&&(this.listData=[...this.listData,g],this.ngControl.control.setValue(g.id),this.onChange.emit(g))}))}}return f.\u0275fac=function(s){return new(s||f)(_.Y36(_.zs3),_.Y36(C.a5,10),_.Y36(u.Z),_.Y36(T.M))},f.\u0275cmp=_.Xpm({type:f,selectors:[["app-select-organization"]],inputs:{labelContent:"labelContent",span:"span",required:"required",labelHorizontal:"labelHorizontal"},outputs:{onChange:"onChange"},features:[_.qOj],decls:3,vars:8,consts:[["type","select","labelField","name",3,"labelHorizontal","selectData","span","labelContent","formControl","required","footerSelectTemplate","loading","onChange"],["footer",""],[1,"container","m-5"],["iconType","search",3,"onClick"],[3,"onClick",4,"ngIf"],[3,"onClick"]],template:function(s,g){if(1&s&&(_.TgZ(0,"app-input",0),_.NdJ("onChange",function(M){return g.handleChange(M)}),_.qZA(),_.YNc(1,x,4,1,"ng-template",null,1,_.W1O)),2&s){const E=_.MAs(2);_.Q6J("labelHorizontal",g.labelHorizontal)("selectData",g.listData)("span",g.span)("labelContent",g.labelContent)("formControl",g.ngControl.control)("required",g.required)("footerSelectTemplate",E)("loading",g.loading)}},directives:[v.a,C.JJ,C.oH,C.Q7,A.f,d.O5,h.E],styles:[""]}),f})()},49206:(I,z,a)=>{a.d(z,{n:()=>r});var D=a(92340),p=a(37716),t=a(91841);let r=(()=>{class _{constructor(u){this.httpClient=u,this.serviceUrl=D.N.BASE_API_URL+"/api/department"}getList(u=1,T=1e4,v="-LastModifiedOnDate",A="{}",d=null){let h="?currentPage="+u+"&pageSize="+T+"&sort="+v+"&queryString="+A;return d&&(h=h+"&organizationId="+d),this.httpClient.get(this.serviceUrl+h)}getById(u){return this.httpClient.get(this.serviceUrl+"/"+u)}create(u){return this.httpClient.post(this.serviceUrl,u)}update(u,T){return this.httpClient.put(this.serviceUrl+"/"+u,T)}deleteMany(u){return this.httpClient.post(this.serviceUrl+"/delete/many",u)}}return _.\u0275fac=function(u){return new(u||_)(p.LFG(t.eN))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);