"use strict";(self.webpackChunkcme_management=self.webpackChunkcme_management||[]).push([[574,202],{22574:(o,r,a)=>{a.d(r,{t:()=>d});var l=a(16157),c=a(97013),h=a(37716);let d=(()=>{class i extends c.H{constructor(e){super(e),this.tableType="list",this.listData=[],this.flatList=[],this.mapOfCheckedId=[],this.isLoading=!1,this.selectedIds=[],this.listTextSearch=[]}sortChange(e){this.request.sort=("ascend"===e.value?"+":"-")+e.key,this.fetchList()}checkAll(e){this.listData.forEach(t=>{this.mapOfCheckedId[t.id]=e,t.children&&t.children.forEach(s=>{this.mapOfCheckedId[s.id]=e})}),this.refreshStatus()}refreshStatus(){0===this.listData.length?(this.isAllDisplayDataChecked=!1,this.isIndeterminate=!1):(this.isAllDisplayDataChecked=this.listData.every(t=>this.mapOfCheckedId[t.id]||t.children&&t.children.every(s=>this.mapOfCheckedId[s.id])),this.isIndeterminate=this.listData.some(t=>this.mapOfCheckedId[t.id]||t.children&&t.children.some(s=>this.mapOfCheckedId[s.id]))&&!this.isAllDisplayDataChecked);const e=[];this.listData.filter(t=>this.mapOfCheckedId[t.id]||t.children&&t.children.some(s=>this.mapOfCheckedId[s.id])).forEach(t=>{e.push(t.id)}),this.selectedIds=[...e]}nzOnSearchGroup(e){this.groupBy=e,this.expandable=!!e,this.parseGroup(this.flatList)}nzOnSearch(e){this.request.currentPage=1,this.request.listTextSearch=e.map(t=>(console.log(encodeURIComponent(t)),encodeURIComponent(t))),this.request.currentPage=1,this.fetchList()}parseGroup(e){this.listData=this.expandable&&null!=this.groupBy?(0,l.lN)(e,this.groupBy,"children"):[...e]}pageIndexChange(e){this.request.page=e,this.fetchList()}pageSizeChange(e){this.request.pageSize=e,this.fetchList()}currentPageDataChange(e){this.refreshStatus()}onGroupBy(e){this.groupBy=e,this.expandable=!!e,this.parseGroup(this.flatList)}fetchList(){}}return i.\u0275fac=function(e){return new(e||i)(h.Y36(h.zs3))},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],features:[h.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})()}}]);