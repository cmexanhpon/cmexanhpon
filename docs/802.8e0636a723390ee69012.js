"use strict";(self.webpackChunkcme_management=self.webpackChunkcme_management||[]).push([[802],{72364:(D,T,r)=>{r.d(T,{m:()=>N});var Z=r(78545),_=r(90665),t=r(37716),C=r(19217),d=r(76122),x=r(75930),g=r(40228),s=r(31618),z=r(38583),m=r(46078),E=r(14453),A=r(29374),S=r(84514),M=r(66630);function q(u,f){if(1&u){const l=t.EpF();t.TgZ(0,"tr",19),t.TgZ(1,"td",20),t._uU(2),t._UZ(3,"app-input",21),t.qZA(),t.TgZ(4,"td"),t._UZ(5,"app-input",22),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"app-input",23),t.qZA(),t.TgZ(8,"td",20),t.TgZ(9,"app-circle-button-delete",3),t.NdJ("onClick",function(){const v=t.CHM(l).index;return t.oxw().deleteRow(v)}),t.qZA(),t.qZA(),t.qZA()}if(2&u){const l=f.index;t.Q6J("formGroupName",l),t.xp6(2),t.hij(" ",l+1," "),t.xp6(1),t.Q6J("hidden",!0)("ngModel",l+1)}}function b(u,f){if(1&u){const l=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(l),t.oxw().addRow()}),t._UZ(1,"i",25),t._uU(2," Th\xeam m\u1ed9t d\xf2ng"),t.qZA()}}function L(u,f){}let N=(()=>{class u extends Z.l{constructor(l,p){super(l),this.trainingFormService=p}ngOnInit(){this.form=this.formBuilder.group({name:[null,_.kI.required],code:[null],trainingSubjects:this.formBuilder.array([])}),this.addRow()}get trainingSubjects(){return this.form.controls.trainingSubjects}addRow(l){this.trainingSubjects.push(this.createItem(l))}deleteRow(l){this.trainingSubjects.removeAt(l)}createItem(l){return this.formBuilder.group({name:[null,[_.kI.required]],order:[null],amount:[null,[_.kI.required]]})}onSave(){for(const l in this.form.controls)this.form.controls[l].markAsDirty(),this.form.controls[l].updateValueAndValidity();for(const l in this.trainingSubjects.controls){const p=this.trainingSubjects.controls[l];for(const h in p.controls)p.controls[h].markAsDirty(),p.controls[h].updateValueAndValidity()}this.form.valid&&(this.loading=!0,this.trainingFormService.create(this.form.value).toPromise().then(l=>{this.loading=!1,l&&l.success?this.isModal&&(this.message.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"),this.modal.destroy(l.data)):this.message.error("L\u1ed7i: "+l.message)}))}onCancel(){this.isModal&&this.modal.destroy()}}return u.\u0275fac=function(l){return new(l||u)(t.Y36(t.zs3),t.Y36(C.M))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-create-training-form"]],features:[t.qOj],decls:29,vars:9,consts:[[1,"container"],[1,"page-header"],[3,"loading","onClick"],[3,"onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean h\xecnh th\u1ee9c","formControlName","name","required","true"],["type","text","labelContent","M\xe3 h\xecnh th\u1ee9c","formControlName","code"],[1,"row","m-t-30"],[1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"]],template:function(l,p){if(1&l&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"app-button-save",2),t.NdJ("onClick",function(){return p.onSave()}),t.qZA(),t.TgZ(3,"app-button-cancel",3),t.NdJ("onClick",function(){return p.onCancel()}),t.qZA(),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"form",4),t.TgZ(6,"div",5),t.TgZ(7,"div",6),t._UZ(8,"app-input",7),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"app-input",8),t.qZA(),t.qZA(),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"nz-table",11),t.TgZ(14,"thead"),t.TgZ(15,"tr"),t.TgZ(16,"th",12),t._uU(17,"STT"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"\u0110\u1ed1i t\u01b0\u1ee3ng"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),t.qZA(),t._UZ(22,"th",13),t.qZA(),t.qZA(),t.TgZ(23,"tbody",14),t.YNc(24,q,10,4,"tr",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,b,3,0,"ng-template",null,16,t.W1O),t.YNc(27,L,0,0,"ng-template",17,18,t.W1O)),2&l){const h=t.MAs(26),v=t.MAs(28);t.xp6(2),t.Q6J("loading",p.loading),t.xp6(2),t.Tol(p.isModal?"m-t-30":""),t.xp6(1),t.Q6J("formGroup",p.form),t.xp6(8),t.Q6J("nzShowPagination",!1)("nzNoResult",v)("nzFooter",h),t.xp6(11),t.Q6J("ngForOf",p.trainingSubjects.controls)}},directives:[d.U,x.x,_._Y,_.JL,_.sg,g.a,_.JJ,_.u,_.Q7,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,_.CE,z.sg,_.x0,m.D,E.ix,A.dQ,S.w,M.Ls],styles:[""]}),u})()},48196:(D,T,r)=>{r.d(T,{j:()=>dt});var Z=r(78545),_=r(90665),t=r(37716),C=r(19217),d=r(38583),x=r(75930),g=r(40228),s=r(31618),z=r(30462),m=r(76122),E=r(46078),A=r(14453),S=r(29374),M=r(84514),q=r(66630);function b(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-button-edit",20),t.NdJ("onClick",function(){return t.CHM(n),t.oxw().onEdit()}),t.qZA()}}function L(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-button-save",21),t.NdJ("onClick",function(){return t.CHM(n),t.oxw().onSave()}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("loading",n.loading)}}function N(o,c){1&o&&t._UZ(0,"th",22)}function u(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"td",24),t.TgZ(1,"app-circle-button-delete",20),t.NdJ("onClick",function(){t.CHM(n);const i=t.oxw().index;return t.oxw().deleteRow(i)}),t.qZA(),t.qZA()}}function f(o,c){if(1&o&&(t.TgZ(0,"tr",23),t.TgZ(1,"td",24),t._uU(2),t._UZ(3,"app-input",25),t.qZA(),t.TgZ(4,"td"),t._UZ(5,"app-input",26),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"app-input",27),t.qZA(),t.YNc(8,u,2,0,"td",28),t.qZA()),2&o){const n=c.index,e=t.oxw();t.Q6J("formGroupName",n),t.xp6(2),t.hij(" ",n+1," "),t.xp6(1),t.Q6J("hidden",!0)("ngModel",n+1),t.xp6(5),t.Q6J("ngIf",e.isEdit)}}function l(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).addRow()}),t._UZ(1,"i",31),t._uU(2," Th\xeam m\u1ed9t d\xf2ng"),t.qZA()}}function p(o,c){if(1&o&&t.YNc(0,l,3,0,"button",29),2&o){const n=t.oxw();t.Q6J("ngIf",n.isEdit)}}function h(o,c){}let v=(()=>{class o extends Z.l{constructor(n,e){super(n),this.trainingFormService=e}ngOnInit(){this.form=this.formBuilder.group({name:[null,_.kI.required],code:[null],trainingSubjects:this.formBuilder.array([])}),this.fetchDetail()}fetchDetail(){this.trainingFormService.getById(this.id).toPromise().then(n=>{n&&n.success?(this.form.patchValue(n.data),n.data.trainingSubjects.forEach(e=>{this.addRow(e)}),this.isEdit||this.form.disable()):this.message.error("L\u1ed7i: "+n.message)})}onEdit(){this.isEdit=!0,this.form.enable(),this.form.controls.name.disable(),this.form.controls.code.disable()}get trainingSubjects(){return this.form.controls.trainingSubjects}addRow(n){this.trainingSubjects.push(this.createItem(n))}deleteRow(n){this.trainingSubjects.removeAt(n)}createItem(n){return this.formBuilder.group({name:[n?n.name:null,[_.kI.required]],amount:[n?n.amount:null,[_.kI.required]],order:[null]})}onSave(){for(const n in this.form.controls)this.form.controls[n].markAsDirty(),this.form.controls[n].updateValueAndValidity();for(const n in this.trainingSubjects.controls){const e=this.trainingSubjects.controls[n];for(const i in e.controls)e.controls[i].markAsDirty(),e.controls[i].updateValueAndValidity()}this.form.valid&&(this.loading=!0,this.trainingFormService.update(this.id,this.form.value).toPromise().then(n=>{this.loading=!1,n&&n.success?this.isModal&&(this.message.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),this.modal.destroy(n.data)):this.message.error("L\u1ed7i: "+n.message)}))}onCancel(){this.isModal&&this.modal.destroy()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(t.zs3),t.Y36(C.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail-training-form"]],features:[t.qOj],decls:30,vars:12,consts:[[1,"container"],[1,"page-header"],[3,"onClick",4,"ngIf"],[3,"loading","onClick",4,"ngIf"],[3,"popConfirm","onClick"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],["type","text","labelContent","T\xean h\xecnh th\u1ee9c","formControlName","name","required","true"],["type","text","labelContent","M\xe3 h\xecnh th\u1ee9c","formControlName","code"],[1,"row","m-t-30"],[1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px",4,"ngIf"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],[3,"onClick"],[3,"loading","onClick"],["width","70px"],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["class","text-center",4,"ngIf"],["nz-button","",3,"click",4,"ngIf"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,b,1,0,"app-button-edit",2),t.YNc(3,L,1,1,"app-button-save",3),t.TgZ(4,"app-button-cancel",4),t.NdJ("onClick",function(){return e.onCancel()}),t.qZA(),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"form",5),t.TgZ(7,"div",6),t.TgZ(8,"div",7),t._UZ(9,"app-input",8),t.qZA(),t.TgZ(10,"div",7),t._UZ(11,"app-input",9),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"nz-table",12),t.TgZ(15,"thead"),t.TgZ(16,"tr"),t.TgZ(17,"th",13),t._uU(18,"STT"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"\u0110\u1ed1i t\u01b0\u1ee3ng"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),t.qZA(),t.YNc(23,N,1,0,"th",14),t.qZA(),t.qZA(),t.TgZ(24,"tbody",15),t.YNc(25,f,9,5,"tr",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(26,p,1,1,"ng-template",null,17,t.W1O),t.YNc(28,h,0,0,"ng-template",18,19,t.W1O)),2&n){const i=t.MAs(27),a=t.MAs(29);t.xp6(2),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit),t.xp6(1),t.Q6J("popConfirm",!!e.isEdit),t.xp6(1),t.Tol(e.isModal?"m-t-30":""),t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("nzShowPagination",!1)("nzNoResult",a)("nzFooter",i),t.xp6(9),t.Q6J("ngIf",e.isEdit),t.xp6(2),t.Q6J("ngForOf",e.trainingSubjects.controls)}},directives:[d.O5,x.x,_._Y,_.JL,_.sg,g.a,_.JJ,_.u,_.Q7,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,_.CE,d.sg,z.D,m.U,_.x0,E.D,A.ix,S.dQ,M.w,q.Ls],styles:[""]}),o})();var y=r(72364),I=r(22574),U=r(19493),P=r(16704),O=r(78503),k=r(55039),B=r(80269),J=r(71398),w=r(25428),Q=r(4079),j=r(64236),R=r(17018),Y=r(25661),W=r(51240),H=r(39907);function K(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-button-create",4),t.NdJ("onClick",function(){return t.CHM(n),t.oxw().goToCreate()}),t.qZA()}}function $(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-button-choose",4),t.NdJ("onClick",function(){return t.CHM(n),t.oxw().chooseItem()}),t.qZA()}}function V(o,c){if(1&o&&t._uU(0),2&o){const n=c.$implicit,e=t.oxw();t.lnq(" ",e.request.pageSize*(e.request.currentPage-1)+1," -",e.request.pageSize*e.request.currentPage>n?n:e.request.pageSize*e.request.currentPage," /",n," ")}}function G(o,c){1&o&&t._UZ(0,"th",29)}function X(o,c){1&o&&t._UZ(0,"th")}function tt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"td",38),t.NdJ("nzCheckedChange",function(i){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).mapOfCheckedId[a.id]=i})("nzCheckedChange",function(){return t.CHM(n),t.oxw(3).refreshStatus()})("click",function(i){return i.stopPropagation()}),t.qZA()}if(2&o){const n=t.oxw().$implicit,e=t.oxw(2);t.Q6J("nzChecked",e.mapOfCheckedId[n.id])}}function nt(o,c){1&o&&t._UZ(0,"td")}function et(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"td",39),t.NdJ("nzExpandChange",function(i){return t.CHM(n),t.oxw().$implicit.expand=i}),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.Q6J("nzExpand",n.expand)}}const ot=function(o){return{"col-group-text":o}};function it(o,c){if(1&o&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit,e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,ot,e.expandable)),t.xp6(1),t.hij(" ",n[e.groupBy]," ")}}function rt(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-circle-button-edit",4),t.NdJ("onClick",function(){t.CHM(n);const i=t.oxw(2).$implicit;return t.oxw(2).goToDetail(i.id,!0)}),t.qZA()}}function at(o,c){if(1&o&&(t.ynx(0),t.YNc(1,rt,1,0,"app-circle-button-edit",5),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.isSuperAdmin)}}function ct(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"app-circle-button-edit",4),t.NdJ("onClick",function(){t.CHM(n);const i=t.oxw(2).$implicit;return t.oxw(2).goToDetail(i.id,!0)}),t.qZA()}}function _t(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"tr",41),t.NdJ("click",function(){const a=t.CHM(n).$implicit;return t.oxw(3).goToDetail(a.id)}),t.TgZ(1,"td",42),t.NdJ("nzCheckedChange",function(i){const F=t.CHM(n).$implicit;return t.oxw(3).mapOfCheckedId[F.id]=i})("nzCheckedChange",function(){return t.CHM(n),t.oxw(3).refreshStatus()}),t.qZA(),t._UZ(2,"td"),t._UZ(3,"td"),t.TgZ(4,"td",34),t._uU(5),t.qZA(),t.TgZ(6,"td",35),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",36),t.NdJ("click",function(i){return i.stopPropagation()}),t.YNc(13,ct,1,0,"app-circle-button-edit",5),t.qZA(),t.qZA()}if(2&o){const n=c.$implicit,e=c.index,i=t.oxw().$implicit,a=t.oxw(2);t.Q6J("nzExpand",i.expand),t.xp6(1),t.Q6J("nzChecked",a.mapOfCheckedId[n.id]),t.xp6(4),t.Oqu(a.request.pageSize*(a.request.currentPage-1)+(e+1)),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.code),t.xp6(2),t.Oqu(n.trainingSubjects.length),t.xp6(2),t.Q6J("ngIf",a.isSuperAdmin)}}const lt=function(o){return{"col-group":o}};function st(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"tr",30),t.NdJ("click",function(){const a=t.CHM(n).$implicit,F=t.oxw(2);return!F.expandable&&F.goToDetail(a.id)}),t.YNc(1,tt,1,1,"td",31),t.YNc(2,nt,1,0,"td",18),t.YNc(3,et,1,1,"td",32),t.YNc(4,it,2,4,"td",33),t.TgZ(5,"td",34),t._uU(6),t.qZA(),t.TgZ(7,"td",35),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",36),t.NdJ("click",function(i){return i.stopPropagation()}),t.YNc(14,at,2,1,"ng-container",18),t.qZA(),t.qZA(),t.YNc(15,_t,14,7,"tr",37)}if(2&o){const n=c.index,e=c.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(11,lt,i.expandable)),t.xp6(1),t.Q6J("ngIf",!i.expandable),t.xp6(1),t.Q6J("ngIf",i.expandable),t.xp6(1),t.Q6J("ngIf",i.expandable),t.xp6(1),t.Q6J("ngIf",i.expandable),t.xp6(2),t.Oqu(i.expandable?"":i.request.pageSize*(i.request.currentPage-1)+(n+1)),t.xp6(2),t.Oqu(i.expandable?"":e.name),t.xp6(2),t.Oqu(i.expandable?"":e.code),t.xp6(2),t.Oqu(i.expandable?"":e.trainingSubjects.length),t.xp6(2),t.Q6J("ngIf",!i.expandable),t.xp6(1),t.Q6J("ngForOf",e.children)}}function gt(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"nz-card"),t.TgZ(2,"nz-table",19,20),t.NdJ("nzCurrentPageDataChange",function(i){return t.CHM(n),t.oxw().currentPageDataChange(i)}),t.TgZ(4,"thead",21),t.NdJ("nzSortChange",function(i){return t.CHM(n),t.oxw().sortChange(i)}),t.TgZ(5,"tr"),t.TgZ(6,"th",22),t.NdJ("nzCheckedChange",function(i){return t.CHM(n),t.oxw().isAllDisplayDataChecked=i})("nzCheckedChange",function(i){return t.CHM(n),t.oxw().checkAll(i)}),t.qZA(),t.YNc(7,G,1,0,"th",23),t.YNc(8,X,1,0,"th",18),t.TgZ(9,"th",24),t._uU(10,"STT "),t.qZA(),t.TgZ(11,"th",25),t._uU(12," T\xean h\xecnh th\u1ee9c "),t.qZA(),t.TgZ(13,"th",26),t._uU(14," M\xe3 h\xecnh th\u1ee9c "),t.qZA(),t.TgZ(15,"th"),t._uU(16," T\u1ed5ng \u0111\u1ed1i t\u01b0\u1ee3ng "),t.qZA(),t.TgZ(17,"th",27),t._uU(18," Thao t\xe1c "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"tbody"),t.YNc(20,st,16,13,"ng-template",28),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&o){const n=t.MAs(3),e=t.oxw();t.xp6(2),t.Q6J("nzData",e.listData)("nzFrontPagination",!1)("nzLoading",e.isLoading),t.xp6(4),t.Q6J("nzChecked",e.isAllDisplayDataChecked)("nzIndeterminate",e.isIndeterminate),t.xp6(1),t.Q6J("ngIf",e.expandable),t.xp6(1),t.Q6J("ngIf",e.expandable),t.xp6(12),t.Q6J("ngForOf",n.data)}}function mt(o,c){if(1&o&&(t.TgZ(0,"app-card-item",44),t._uU(1),t.qZA(),t.TgZ(2,"app-card-item",45),t._uU(3),t.qZA(),t.TgZ(4,"app-card-item",46),t._uU(5),t.qZA()),2&o){const n=c.item;t.xp6(1),t.hij(" ",n.name," "),t.xp6(2),t.hij(" ",n.code," "),t.xp6(2),t.hij(" ",n.trainingSubjects.length," ")}}function pt(o,c){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-card-view",43),t.NdJ("onClick",function(i){return t.CHM(n),t.oxw().goToDetail(i.id)}),t.YNc(2,mt,6,3,"ng-template"),t.qZA(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("expandable",n.expandable)("listData",n.listData)("groupBy",n.groupBy)}}let dt=(()=>{class o extends I.t{constructor(n,e,i){super(n),this.modalService=e,this.trainingFormService=i}ngOnInit(){this.request.sort="+LastModifiedOnDate",this.fetchList()}fetchList(){const e=JSON.stringify({ListTextSearch:this.request.listTextSearch});this.isLoading=!0,this.trainingFormService.getList(this.request.currentPage,this.request.pageSize,this.request.sort,e).toPromise().then(i=>{this.isLoading=!1,i&&i.success?(this.listData=i.data.content,this.flatList=i.data.content,this.total=i.data.totalRecords,this.parseGroup(this.listData)):this.message.error(i.message)})}reload(){this.request.currentPage=1,this.request.listTextSearch=[],this.fetchList()}goToCreate(){this.modalService.openCreateModal(y.m,"850px").afterClose.toPromise().then(e=>{e&&this.reload()})}goToDetail(n,e=!1){this.modalService.openDetailModal(v,n,e,"850px").afterClose.toPromise().then(a=>{a&&this.reload()})}chooseItem(){let n=this.listData.find(e=>e.id==this.selectedIds[0]);this.modal.destroy(n)}deleteMany(n){this.isLoading=!0,this.trainingFormService.deleteMany(n).toPromise().then(e=>{this.isLoading=!1,e&&e.success?(this.message.success("X\xf3a th\xe0nh c\xf4ng"),this.fetchList()):this.message.error("L\u1ed7i: "+e.message)})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(t.zs3),t.Y36(U.Z),t.Y36(C.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-training-form"]],features:[t.qOj],decls:31,vars:18,consts:[[1,"page-header"],[1,"row"],[1,"col-md-5"],["nz-row",""],[3,"onClick"],[3,"onClick",4,"ngIf"],[1,"col-md-7"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-3"],["nzPlaceHolder","Nh\xf3m theo","nzAllowClear","","nzShowSearch","","nzHideUnMatched","",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"float-right",3,"ngModel","nzButtonStyle","ngModelChange"],["nz-radio-button","","nzValue","list"],["nz-icon","","nzType","bars","nzTheme","outline"],["nz-radio-button","","nzValue","card"],["nz-icon","","nzType","appstore","nzTheme","outline"],[1,"float-right","mr-2",3,"nzPageSize","nzPageIndex","nzShowTotal","nzTotal","nzPageSizeChange","nzPageIndexChange","nzTotalChange"],["totalTemplate",""],[4,"ngIf"],[1,"w-100",3,"nzData","nzFrontPagination","nzLoading","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzSortChange"],["nzShowCheckbox","","nzWidth","50px",1,"center",3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","50px","nzShowExpand","",4,"ngIf"],["nzWidth","50px",1,"center"],["nzShowSort","","nzSortKey","name"],["nzShowSort","","nzSortKey","code"],["width","200px",1,"center"],["ngFor","",3,"ngForOf"],["nzWidth","50px","nzShowExpand",""],[3,"ngClass","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click",4,"ngIf"],["class","center","nzShowExpand","",3,"nzExpand","nzExpandChange",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"center"],[1,"text-highlight"],[1,"center",3,"click"],[3,"nzExpand","click",4,"ngFor","ngForOf"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click"],["nzShowExpand","",1,"center",3,"nzExpand","nzExpandChange"],[3,"ngClass"],[3,"nzExpand","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange"],[3,"expandable","listData","groupBy","onClick"],["label","T\xean h\xecnh th\u1ee9c"],["label","M\xe3 h\xecnh th\u1ee9c"],["label","T\u1ed5ng \u0111\u1ed1i t\u01b0\u1ee3ng"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"app-header-title"),t._uU(5,"Danh s\xe1ch h\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o"),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"app-button-reload",4),t.NdJ("onClick",function(){return e.reload()}),t.qZA(),t.YNc(8,K,1,0,"app-button-create",5),t.YNc(9,$,1,0,"app-button-choose",5),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"div",3),t.TgZ(12,"nz-select",7),t.NdJ("ngModelChange",function(a){return e.nzOnSearch(a)}),t.qZA(),t.qZA(),t.TgZ(13,"div",1),t.TgZ(14,"div",8),t.TgZ(15,"nz-select",9),t.NdJ("ngModelChange",function(a){return e.onGroupBy(a)}),t.qZA(),t.qZA(),t.TgZ(16,"div",10),t.TgZ(17,"nz-radio-group",11),t.NdJ("ngModelChange",function(a){return e.tableType=a}),t.TgZ(18,"label",12),t.TgZ(19,"span"),t._UZ(20,"i",13),t.qZA(),t.qZA(),t.TgZ(21,"label",14),t.TgZ(22,"span"),t._UZ(23,"i",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"nz-pagination",16),t.NdJ("nzPageSizeChange",function(a){return e.request.pageSize=a})("nzPageIndexChange",function(a){return e.request.currentPage=a})("nzPageIndexChange",function(a){return e.pageIndexChange(a)})("nzTotalChange",function(a){return e.total=a}),t.qZA(),t.YNc(25,V,1,3,"ng-template",null,17,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",1),t.TgZ(28,"div"),t.YNc(29,gt,21,8,"ng-container",18),t.YNc(30,pt,3,3,"ng-container",18),t.qZA(),t.qZA()),2&n){const i=t.MAs(26);t.xp6(8),t.Q6J("ngIf",e.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",e.isModal&&1==e.selectedIds.length),t.xp6(3),t.Q6J("ngModel",e.listTextSearch),t.xp6(3),t.Q6J("ngModel",e.groupBy),t.xp6(2),t.Q6J("ngModel",e.tableType)("nzButtonStyle","solid"),t.xp6(7),t.Q6J("nzPageSize",e.request.pageSize)("nzPageIndex",e.request.currentPage)("nzShowTotal",i)("nzTotal",e.total),t.xp6(3),t.Tol(e.isModal?"m-t-30":""),t.xp6(1),t.Tol(e.isModal?"w-100 center":"col-lg-11 center"),t.xp6(1),t.Q6J("ngIf","list"==e.tableType),t.xp6(1),t.Q6J("ngIf","card"==e.tableType)}},directives:[P.SK,O.d,k.O,d.O5,B.Vq,_.JJ,_.On,J.Dg,J.Of,J.Bq,M.w,q.Ls,w.dE,Q.E,j.K,R.bd,s.N8,s.Om,s.$Z,s.Uo,s._C,s.g6,s.qD,s.p0,d.sg,d.mk,s.h7,Y.p,s.d3,s.Vk,W.y,H.o],styles:[""]}),o})()},19802:(D,T,r)=>{r.r(T),r.d(T,{TrainingFormModule:()=>z});var Z=r(48196),_=r(63423),t=r(37716);const C=[{path:"",component:Z.j}];let d=(()=>{class m{}return m.\u0275fac=function(A){return new(A||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[[_.Bz.forChild(C)],_.Bz]}),m})();var x=r(42979),g=r(76231),s=r(38583);let z=(()=>{class m{}return m.\u0275fac=function(A){return new(A||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[[s.ez,g.m,x.j,d]]}),m})()},19217:(D,T,r)=>{r.d(T,{M:()=>C});var Z=r(92340),_=r(37716),t=r(91841);let C=(()=>{class d{constructor(g){this.httpClient=g,this.serviceUrl=Z.N.BASE_API_URL+"/api/trainingform"}getList(g=1,s=1e4,z="+LastModifiedOnDate",m="{}"){return this.httpClient.get(this.serviceUrl+"?currentPage="+g+"&pageSize="+s+"&sort="+z+"&queryString="+m)}getById(g){return this.httpClient.get(this.serviceUrl+"/"+g)}create(g){return this.httpClient.post(this.serviceUrl,g)}update(g,s){return this.httpClient.put(this.serviceUrl+"/"+g,s)}deleteMany(g){return this.httpClient.post(this.serviceUrl+"/delete/many",g)}}return d.\u0275fac=function(g){return new(g||d)(_.LFG(t.eN))},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);