(self.webpackChunkcme_management=self.webpackChunkcme_management||[]).push([[997],{66890:function(module,__unused_webpack_exports,__webpack_require__){var t;t=function(){return function(F){var A={};function t(r){if(A[r])return A[r].exports;var o=A[r]={i:r,l:!1,exports:{}};return F[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=F,t.c=A,t.d=function(r,o,b){t.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:b})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,o){if(1&o&&(r=t(r)),8&o||4&o&&"object"==typeof r&&r&&r.__esModule)return r;var b=Object.create(null);if(t.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:r}),2&o&&"string"!=typeof r)for(var y in r)t.d(b,y,function(I){return r[I]}.bind(null,y));return b},t.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(o,"a",o),o},t.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},t.p="",t(t.s=0)}([function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(A,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(A,"LoopbackPort",{enumerable:!0,get:function(){return o.LoopbackPort}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return o.version}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return b.CMapCompressionType}}),Object.defineProperty(A,"createObjectURL",{enumerable:!0,get:function(){return b.createObjectURL}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return b.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return b.createValidAbsoluteUrl}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return b.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return b.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return b.OPS}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return b.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return b.PermissionFlag}}),Object.defineProperty(A,"removeNullCharacters",{enumerable:!0,get:function(){return b.removeNullCharacters}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return b.shadow}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return b.UnexpectedResponseException}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return b.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return b.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return b.VerbosityLevel}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return y.AnnotationLayer}}),Object.defineProperty(A,"apiCompatibilityParams",{enumerable:!0,get:function(){return I.apiCompatibilityParams}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return N.GlobalWorkerOptions}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return O.renderTextLayer}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}});var r=t(1),o=t(198),b=t(5),y=t(209),I=t(200),N=t(203),O=t(210),R=t(211);if(t(7).isNodeJS){var Z=t(212).PDFNodeStream;(0,o.setPDFNetworkStreamFactory)(function(h){return new Z(h)})}else{var T,E=t(215).PDFNetworkStream;(0,r.isFetchSupported)()&&(T=t(216).PDFFetchStream),(0,o.setPDFNetworkStreamFactory)(function(h){return T&&(0,r.isValidFetchUrl)(h.url)?new T(h):new E(h)})}},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.addLinkAttributes=function(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=d.url,P=d.target,J=d.rel,ie=d.enabled,ae=void 0===ie||ie;(0,o.assert)(v&&"string"==typeof v,'addLinkAttributes: A valid "url" parameter must provided.');var re=(0,o.removeNullCharacters)(v);ae?p.href=p.title=re:(p.href="",p.title="Disabled: ".concat(re),p.onclick=function(){return!1});var se="";switch(P){case D.NONE:break;case D.SELF:se="_self";break;case D.BLANK:se="_blank";break;case D.PARENT:se="_parent";break;case D.TOP:se="_top"}p.target=se,p.rel="string"==typeof J?J:n},A.getFilenameFromUrl=function(p){var d=p.indexOf("#"),v=p.indexOf("?"),P=Math.min(d>0?d:p.length,v>0?v:p.length);return p.substring(p.lastIndexOf("/",P)+1,P)},A.isFetchSupported=j,A.isValidFetchUrl=Q,A.loadScript=function(p){return new Promise(function(d,v){var P=document.createElement("script");P.src=p,P.onload=d,P.onerror=function(){v(new Error("Cannot load script at: ".concat(P.src)))},(document.head||document.documentElement).appendChild(P)})},A.deprecated=function(p){console.log("Deprecated API usage: "+p)},A.PDFDateString=A.StatTimer=A.DOMSVGFactory=A.DOMCMapReaderFactory=A.DOMCanvasFactory=A.DEFAULT_LINK_REL=A.LinkTarget=A.RenderingCancelledException=A.PageViewport=void 0;var p,r=(p=t(2))&&p.__esModule?p:{default:p},o=t(5);function y(p,d){var v;if("undefined"==typeof Symbol||null==p[Symbol.iterator]){if(Array.isArray(p)||(v=function(p,d){if(p){if("string"==typeof p)return N(p,d);var v=Object.prototype.toString.call(p).slice(8,-1);if("Object"===v&&p.constructor&&(v=p.constructor.name),"Map"===v||"Set"===v)return Array.from(p);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return N(p,d)}}(p))||d&&p&&"number"==typeof p.length){v&&(p=v);var P=0,J=function(){};return{s:J,n:function(){return P>=p.length?{done:!0}:{done:!1,value:p[P++]}},e:function(Y){throw Y},f:J}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var re,ie=!0,ae=!1;return{s:function(){v=p[Symbol.iterator]()},n:function(){var Y=v.next();return ie=Y.done,Y},e:function(Y){ae=!0,re=Y},f:function(){try{!ie&&null!=v.return&&v.return()}finally{if(ae)throw re}}}}function N(p,d){(null==d||d>p.length)&&(d=p.length);for(var v=0,P=new Array(d);v<d;v++)P[v]=p[v];return P}function O(p){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function W(p,d){return(W=Object.setPrototypeOf||function(P,J){return P.__proto__=J,P})(p,d)}function V(p,d){return!d||"object"!==O(d)&&"function"!=typeof d?function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p):d}function E(p){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(p)}function T(p,d,v,P,J,ie,ae){try{var re=p[ie](ae),se=re.value}catch(Y){return void v(Y)}re.done?d(se):Promise.resolve(se).then(P,J)}function h(p){return function(){var d=this,v=arguments;return new Promise(function(P,J){var ie=p.apply(d,v);function ae(se){T(ie,P,J,ae,re,"next",se)}function re(se){T(ie,P,J,ae,re,"throw",se)}ae(void 0)})}}function _(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function c(p,d){for(var v=0;v<d.length;v++){var P=d[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(p,P.key,P)}}function l(p,d,v){return d&&c(p.prototype,d),v&&c(p,v),p}var n="noopener noreferrer nofollow";A.DEFAULT_LINK_REL=n;var i="http://www.w3.org/2000/svg",u=function(){function p(){_(this,p)}return l(p,[{key:"create",value:function(v,P){if(v<=0||P<=0)throw new Error("Invalid canvas size");var J=document.createElement("canvas"),ie=J.getContext("2d");return J.width=v,J.height=P,{canvas:J,context:ie}}},{key:"reset",value:function(v,P,J){if(!v.canvas)throw new Error("Canvas is not specified");if(P<=0||J<=0)throw new Error("Invalid canvas size");v.canvas.width=P,v.canvas.height=J}},{key:"destroy",value:function(v){if(!v.canvas)throw new Error("Canvas is not specified");v.canvas.width=0,v.canvas.height=0,v.canvas=null,v.context=null}}]),p}();A.DOMCanvasFactory=u;var f=function(){function p(d){var v=d.baseUrl,P=void 0===v?null:v,J=d.isCompressed,ie=void 0!==J&&J;_(this,p),this.baseUrl=P,this.isCompressed=ie}return l(p,[{key:"fetch",value:function(d){function v(P){return d.apply(this,arguments)}return v.toString=function(){return d.toString()},v}(function(){var d=h(r.default.mark(function v(P){var ie,ae,re,J=this;return r.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(ie=P.name,this.baseUrl){Y.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(ie){Y.next=5;break}throw new Error("CMap name must be specified.");case 5:if(ae=this.baseUrl+ie+(this.isCompressed?".bcmap":""),re=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE,!j()||!Q(ae,document.baseURI)){Y.next=9;break}return Y.abrupt("return",fetch(ae).then(function(){var $=h(r.default.mark(function U(X){var ee;return r.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(X.ok){de.next=2;break}throw new Error(X.statusText);case 2:if(!J.isCompressed){de.next=10;break}return de.t0=Uint8Array,de.next=6,X.arrayBuffer();case 6:de.t1=de.sent,ee=new de.t0(de.t1),de.next=15;break;case 10:return de.t2=o.stringToBytes,de.next=13,X.text();case 13:de.t3=de.sent,ee=(0,de.t2)(de.t3);case 15:return de.abrupt("return",{cMapData:ee,compressionType:re});case 16:case"end":return de.stop()}},U)}));return function(U){return $.apply(this,arguments)}}()).catch(function($){throw new Error("Unable to load ".concat(J.isCompressed?"binary ":"")+"CMap at: ".concat(ae))}));case 9:return Y.abrupt("return",new Promise(function($,U){var X=new XMLHttpRequest;X.open("GET",ae,!0),J.isCompressed&&(X.responseType="arraybuffer"),X.onreadystatechange=function(){if(X.readyState===XMLHttpRequest.DONE){var ee;if((200===X.status||0===X.status)&&(J.isCompressed&&X.response?ee=new Uint8Array(X.response):!J.isCompressed&&X.responseText&&(ee=(0,o.stringToBytes)(X.responseText)),ee))return void $({cMapData:ee,compressionType:re});U(new Error(X.statusText))}},X.send(null)}).catch(function($){throw new Error("Unable to load ".concat(J.isCompressed?"binary ":"")+"CMap at: ".concat(ae))}));case 10:case"end":return Y.stop()}},v,this)}));return function(v){return d.apply(this,arguments)}}())}]),p}();A.DOMCMapReaderFactory=f;var m=function(){function p(){_(this,p)}return l(p,[{key:"create",value:function(v,P){(0,o.assert)(v>0&&P>0,"Invalid SVG dimensions");var J=document.createElementNS(i,"svg:svg");return J.setAttribute("version","1.1"),J.setAttribute("width",v+"px"),J.setAttribute("height",P+"px"),J.setAttribute("preserveAspectRatio","none"),J.setAttribute("viewBox","0 0 "+v+" "+P),J}},{key:"createElement",value:function(v){return(0,o.assert)("string"==typeof v,"Invalid SVG element type"),document.createElementNS(i,v)}}]),p}();A.DOMSVGFactory=m;var x=function(){function p(d){var v=d.viewBox,P=d.scale,J=d.rotation,ie=d.offsetX,ae=void 0===ie?0:ie,re=d.offsetY,se=void 0===re?0:re,Y=d.dontFlip,$=void 0!==Y&&Y;_(this,p),this.viewBox=v,this.scale=P,this.rotation=J,this.offsetX=ae,this.offsetY=se;var ee,ce,de,Ae,Te,Pe,ze,Be,U=(v[2]+v[0])/2,X=(v[3]+v[1])/2;switch(J=(J%=360)<0?J+360:J){case 180:ee=-1,ce=0,de=0,Ae=1;break;case 90:ee=0,ce=1,de=1,Ae=0;break;case 270:ee=0,ce=-1,de=-1,Ae=0;break;case 0:ee=1,ce=0,de=0,Ae=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$&&(de=-de,Ae=-Ae),0===ee?(Te=Math.abs(X-v[1])*P+ae,Pe=Math.abs(U-v[0])*P+se,ze=Math.abs(v[3]-v[1])*P,Be=Math.abs(v[2]-v[0])*P):(Te=Math.abs(U-v[0])*P+ae,Pe=Math.abs(X-v[1])*P+se,ze=Math.abs(v[2]-v[0])*P,Be=Math.abs(v[3]-v[1])*P),this.transform=[ee*P,ce*P,de*P,Ae*P,Te-ee*P*U-de*P*X,Pe-ce*P*U-Ae*P*X],this.width=ze,this.height=Be}return l(p,[{key:"clone",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=v.scale,J=void 0===P?this.scale:P,ie=v.rotation,ae=void 0===ie?this.rotation:ie,re=v.offsetX,se=void 0===re?this.offsetX:re,Y=v.offsetY,$=void 0===Y?this.offsetY:Y,U=v.dontFlip,X=void 0!==U&&U;return new p({viewBox:this.viewBox.slice(),scale:J,rotation:ae,offsetX:se,offsetY:$,dontFlip:X})}},{key:"convertToViewportPoint",value:function(v,P){return o.Util.applyTransform([v,P],this.transform)}},{key:"convertToViewportRectangle",value:function(v){var P=o.Util.applyTransform([v[0],v[1]],this.transform),J=o.Util.applyTransform([v[2],v[3]],this.transform);return[P[0],P[1],J[0],J[1]]}},{key:"convertToPdfPoint",value:function(v,P){return o.Util.applyInverseTransform([v,P],this.transform)}}]),p}();A.PageViewport=x;var S=function(p){!function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),d&&W(p,d)}(v,p);var d=function(p){var d=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(p){return!1}}();return function(){var J,P=E(p);if(d){var ie=E(this).constructor;J=Reflect.construct(P,arguments,ie)}else J=P.apply(this,arguments);return V(this,J)}}(v);function v(P,J){var ie;return _(this,v),(ie=d.call(this,P)).type=J,ie}return v}(o.BaseException);A.RenderingCancelledException=S;var D={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};A.LinkTarget=D;var te=function(){function p(){_(this,p),this.started=Object.create(null),this.times=[]}return l(p,[{key:"time",value:function(v){v in this.started&&(0,o.warn)("Timer is already running for ".concat(v)),this.started[v]=Date.now()}},{key:"timeEnd",value:function(v){v in this.started||(0,o.warn)("Timer has not been started for ".concat(v)),this.times.push({name:v,start:this.started[v],end:Date.now()}),delete this.started[v]}},{key:"toString",value:function(){var ie,v=[],P=0,J=y(this.times);try{for(J.s();!(ie=J.n()).done;){var re=ie.value.name;re.length>P&&(P=re.length)}}catch(X){J.e(X)}finally{J.f()}var Y,se=y(this.times);try{for(se.s();!(Y=se.n()).done;){var $=Y.value,U=$.end-$.start;v.push("".concat($.name.padEnd(P)," ").concat(U,"ms\n"))}}catch(X){se.e(X)}finally{se.f()}return v.join("")}}]),p}();function j(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function Q(p,d){try{var P=(d?new URL(p,d):new URL(p)).protocol;return"http:"===P||"https:"===P}catch(J){return!1}}A.StatTimer=te;var L,g=function(){function p(){_(this,p)}return l(p,null,[{key:"toDateObject",value:function(v){if(!v||!(0,o.isString)(v))return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var P=L.exec(v);if(!P)return null;var J=parseInt(P[1],10),ie=parseInt(P[2],10);ie=ie>=1&&ie<=12?ie-1:0;var ae=parseInt(P[3],10);ae=ae>=1&&ae<=31?ae:1;var re=parseInt(P[4],10);re=re>=0&&re<=23?re:0;var se=parseInt(P[5],10);se=se>=0&&se<=59?se:0;var Y=parseInt(P[6],10);Y=Y>=0&&Y<=59?Y:0;var $=P[7]||"Z",U=parseInt(P[8],10);U=U>=0&&U<=23?U:0;var X=parseInt(P[9],10)||0;return X=X>=0&&X<=59?X:0,"-"===$?(re+=U,se+=X):"+"===$&&(re-=U,se-=X),new Date(Date.UTC(J,ie,ae,re,se,Y))}}]),p}();A.PDFDateString=g},function(F,A,t){"use strict";F.exports=t(3)},function(F,A,t){"use strict";(function(r){function o(y){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(y)}var b=function(y){var O,I=Object.prototype,N=I.hasOwnProperty,R="function"==typeof Symbol?Symbol:{},W=R.iterator||"@@iterator",e=R.asyncIterator||"@@asyncIterator",V=R.toStringTag||"@@toStringTag";function G(L,g,p,d){var P=Object.create((g&&g.prototype instanceof l?g:l).prototype),J=new Q(d||[]);return P._invoke=function(L,g,p){var d=E;return function(P,J){if(d===h)throw new Error("Generator is already running");if(d===_){if("throw"===P)throw J;return k()}for(p.method=P,p.arg=J;;){var ie=p.delegate;if(ie){var ae=q(ie,p);if(ae){if(ae===c)continue;return ae}}if("next"===p.method)p.sent=p._sent=p.arg;else if("throw"===p.method){if(d===E)throw d=_,p.arg;p.dispatchException(p.arg)}else"return"===p.method&&p.abrupt("return",p.arg);d=h;var re=Z(L,g,p);if("normal"===re.type){if(d=p.done?_:T,re.arg===c)continue;return{value:re.arg,done:p.done}}"throw"===re.type&&(d=_,p.method="throw",p.arg=re.arg)}}}(L,p,J),P}function Z(L,g,p){try{return{type:"normal",arg:L.call(g,p)}}catch(d){return{type:"throw",arg:d}}}y.wrap=G;var E="suspendedStart",T="suspendedYield",h="executing",_="completed",c={};function l(){}function n(){}function i(){}var u={};u[W]=function(){return this};var f=Object.getPrototypeOf,m=f&&f(f(M([])));m&&m!==I&&N.call(m,W)&&(u=m);var x=i.prototype=l.prototype=Object.create(u);function S(L){["next","throw","return"].forEach(function(g){L[g]=function(p){return this._invoke(g,p)}})}function D(L,g){function p(P,J,ie,ae){var re=Z(L[P],L,J);if("throw"!==re.type){var se=re.arg,Y=se.value;return Y&&"object"===o(Y)&&N.call(Y,"__await")?g.resolve(Y.__await).then(function($){p("next",$,ie,ae)},function($){p("throw",$,ie,ae)}):g.resolve(Y).then(function($){se.value=$,ie(se)},function($){return p("throw",$,ie,ae)})}ae(re.arg)}var d;this._invoke=function(P,J){function ie(){return new g(function(ae,re){p(P,J,ae,re)})}return d=d?d.then(ie,ie):ie()}}function q(L,g){var p=L.iterator[g.method];if(p===O){if(g.delegate=null,"throw"===g.method){if(L.iterator.return&&(g.method="return",g.arg=O,q(L,g),"throw"===g.method))return c;g.method="throw",g.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var d=Z(p,L.iterator,g.arg);if("throw"===d.type)return g.method="throw",g.arg=d.arg,g.delegate=null,c;var v=d.arg;return v?v.done?(g[L.resultName]=v.value,g.next=L.nextLoc,"return"!==g.method&&(g.method="next",g.arg=O),g.delegate=null,c):v:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,c)}function te(L){var g={tryLoc:L[0]};1 in L&&(g.catchLoc=L[1]),2 in L&&(g.finallyLoc=L[2],g.afterLoc=L[3]),this.tryEntries.push(g)}function j(L){var g=L.completion||{};g.type="normal",delete g.arg,L.completion=g}function Q(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(te,this),this.reset(!0)}function M(L){if(L){var g=L[W];if(g)return g.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var p=-1,d=function v(){for(;++p<L.length;)if(N.call(L,p))return v.value=L[p],v.done=!1,v;return v.value=O,v.done=!0,v};return d.next=d}}return{next:k}}function k(){return{value:O,done:!0}}return n.prototype=x.constructor=i,i.constructor=n,i[V]=n.displayName="GeneratorFunction",y.isGeneratorFunction=function(L){var g="function"==typeof L&&L.constructor;return!!g&&(g===n||"GeneratorFunction"===(g.displayName||g.name))},y.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,i):(L.__proto__=i,V in L||(L[V]="GeneratorFunction")),L.prototype=Object.create(x),L},y.awrap=function(L){return{__await:L}},S(D.prototype),D.prototype[e]=function(){return this},y.AsyncIterator=D,y.async=function(L,g,p,d,v){void 0===v&&(v=Promise);var P=new D(G(L,g,p,d),v);return y.isGeneratorFunction(g)?P:P.next().then(function(J){return J.done?J.value:P.next()})},S(x),x[V]="Generator",x[W]=function(){return this},x.toString=function(){return"[object Generator]"},y.keys=function(L){var g=[];for(var p in L)g.push(p);return g.reverse(),function d(){for(;g.length;){var v=g.pop();if(v in L)return d.value=v,d.done=!1,d}return d.done=!0,d}},y.values=M,Q.prototype={constructor:Q,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(j),!g)for(var p in this)"t"===p.charAt(0)&&N.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=O)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if("throw"===p.type)throw p.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var p=this;function d(re,se){return J.type="throw",J.arg=g,p.next=re,se&&(p.method="next",p.arg=O),!!se}for(var v=this.tryEntries.length-1;v>=0;--v){var P=this.tryEntries[v],J=P.completion;if("root"===P.tryLoc)return d("end");if(P.tryLoc<=this.prev){var ie=N.call(P,"catchLoc"),ae=N.call(P,"finallyLoc");if(ie&&ae){if(this.prev<P.catchLoc)return d(P.catchLoc,!0);if(this.prev<P.finallyLoc)return d(P.finallyLoc)}else if(ie){if(this.prev<P.catchLoc)return d(P.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return d(P.finallyLoc)}}}},abrupt:function(g,p){for(var d=this.tryEntries.length-1;d>=0;--d){var v=this.tryEntries[d];if(v.tryLoc<=this.prev&&N.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var P=v;break}}P&&("break"===g||"continue"===g)&&P.tryLoc<=p&&p<=P.finallyLoc&&(P=null);var J=P?P.completion:{};return J.type=g,J.arg=p,P?(this.method="next",this.next=P.finallyLoc,c):this.complete(J)},complete:function(g,p){if("throw"===g.type)throw g.arg;return"break"===g.type||"continue"===g.type?this.next=g.arg:"return"===g.type?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):"normal"===g.type&&p&&(this.next=p),c},finish:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.finallyLoc===g)return this.complete(d.completion,d.afterLoc),j(d),c}},catch:function(g){for(var p=this.tryEntries.length-1;p>=0;--p){var d=this.tryEntries[p];if(d.tryLoc===g){var v=d.completion;if("throw"===v.type){var P=v.arg;j(d)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(g,p,d){return this.delegate={iterator:M(g),resultName:p,nextLoc:d},"next"===this.method&&(this.arg=O),c}},y}("object"===o(r)?r.exports:{});try{regeneratorRuntime=b}catch(y){Function("r","regeneratorRuntime = r")(b)}}).call(this,t(4)(F))},function(F,A,t){"use strict";F.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(F,A,t){"use strict";function r(me,we){for(var fe=0;fe<we.length;fe++){var be=we[fe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(me,be.key,be)}}function b(me){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(me)}function y(me,we){if(!(me instanceof we))throw new TypeError("Cannot call a class as a function")}function I(me,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(we&&we.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),we&&N(me,we)}function N(me,we){return(N=Object.setPrototypeOf||function(be,Ze){return be.__proto__=Ze,be})(me,we)}function O(me){var we=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(me){return!1}}();return function(){var Ze,be=V(me);if(we){var je=V(this).constructor;Ze=Reflect.construct(be,arguments,je)}else Ze=be.apply(this,arguments);return R(this,Ze)}}function R(me,we){return!we||"object"!==b(we)&&"function"!=typeof we?function(me){if(void 0===me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}(me):we}function V(me){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)})(me)}Object.defineProperty(A,"__esModule",{value:!0}),A.arrayByteLength=Pe,A.arraysToBytes=function(me){var we=me.length;if(1===we&&me[0]instanceof Uint8Array)return me[0];for(var fe=0,be=0;be<we;be++)fe+=Pe(me[be]);for(var Ze=0,je=new Uint8Array(fe),nt=0;nt<we;nt++){var tt=me[nt];tt instanceof Uint8Array||(tt="string"==typeof tt?Te(tt):new Uint8Array(tt));var st=tt.byteLength;je.set(tt,Ze),Ze+=st}return je},A.assert=d,A.bytesToString=function(me){d(null!==me&&"object"===b(me)&&void 0!==me.length,"Invalid argument for bytesToString");var we=me.length;if(we<8192)return String.fromCharCode.apply(null,me);for(var be=[],Ze=0;Ze<we;Ze+=8192){var je=Math.min(Ze+8192,we),nt=me.subarray(Ze,je);be.push(String.fromCharCode.apply(null,nt))}return be.join("")},A.createPromiseCapability=function(){var me=Object.create(null),we=!1;return Object.defineProperty(me,"settled",{get:function(){return we}}),me.promise=new Promise(function(fe,be){me.resolve=function(Ze){we=!0,fe(Ze)},me.reject=function(Ze){we=!0,be(Ze)}}),me},A.getVerbosityLevel=function(){return Q},A.info=function(me){Q>=D.INFOS&&console.log("Info: ".concat(me))},A.isArrayBuffer=function(me){return"object"===b(me)&&null!==me&&void 0!==me.byteLength},A.isArrayEqual=function(me,we){return me.length===we.length&&me.every(function(fe,be){return fe===we[be]})},A.isBool=function(me){return"boolean"==typeof me},A.isEmptyObj=function(me){for(var we in me)return!1;return!0},A.isNum=function(me){return"number"==typeof me},A.isString=function(me){return"string"==typeof me},A.isSameOrigin=function(me,we){var fe;try{if(!(fe=new URL(me)).origin||"null"===fe.origin)return!1}catch(Ze){return!1}var be=new URL(we,fe);return fe.origin===be.origin},A.createValidAbsoluteUrl=function(me,we){if(!me)return null;try{var fe=we?new URL(me,we):new URL(me);if(function(me){if(!me)return!1;switch(me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(fe))return fe}catch(be){}return null},A.removeNullCharacters=function(me){return"string"!=typeof me?(g("The argument for removeNullCharacters must be a string."),me):me.replace(ce,"")},A.setVerbosityLevel=function(me){Number.isInteger(me)&&(Q=me)},A.shadow=ie,A.string32=function(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,255&me)},A.stringToBytes=Te,A.stringToPDFString=function(me){var we=me.length,fe=[];if("\xfe"===me[0]&&"\xff"===me[1])for(var be=2;be<we;be+=2)fe.push(String.fromCharCode(me.charCodeAt(be)<<8|me.charCodeAt(be+1)));else if("\xff"===me[0]&&"\xfe"===me[1])for(var Ze=2;Ze<we;Ze+=2)fe.push(String.fromCharCode(me.charCodeAt(Ze+1)<<8|me.charCodeAt(Ze)));else for(var je=0;je<we;++je){var nt=ue[me.charCodeAt(je)];fe.push(nt?String.fromCharCode(nt):me.charAt(je))}return fe.join("")},A.stringToUTF8String=function(me){return decodeURIComponent(escape(me))},A.utf8StringToString=function(me){return unescape(encodeURIComponent(me))},A.warn=g,A.unreachable=p,A.IsEvalSupportedCached=A.IsLittleEndianCached=A.createObjectURL=A.FormatError=A.Util=A.UnknownErrorException=A.UnexpectedResponseException=A.TextRenderingMode=A.StreamType=A.PermissionFlag=A.PasswordResponses=A.PasswordException=A.MissingPDFException=A.InvalidPDFException=A.AbortException=A.CMapCompressionType=A.ImageKind=A.FontType=A.AnnotationType=A.AnnotationStateModelType=A.AnnotationReviewState=A.AnnotationReplyType=A.AnnotationMarkedState=A.AnnotationFlag=A.AnnotationFieldFlag=A.AnnotationBorderStyleType=A.UNSUPPORTED_FEATURES=A.VerbosityLevel=A.OPS=A.IDENTITY_MATRIX=A.FONT_IDENTITY_MATRIX=A.BaseException=void 0,t(6),A.IDENTITY_MATRIX=[1,0,0,1,0,0],A.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],A.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},A.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},A.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},A.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},A.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},A.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},A.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},A.AnnotationReplyType={GROUP:"Group",REPLY:"R"},A.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},A.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},A.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},A.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},A.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var D={ERRORS:0,WARNINGS:1,INFOS:5};A.VerbosityLevel=D,A.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},A.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},A.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},A.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var Q=D.WARNINGS;function g(me){Q>=D.WARNINGS&&console.log("Warning: ".concat(me))}function p(me){throw new Error(me)}function d(me,we){me||p(we)}function ie(me,we,fe){return Object.defineProperty(me,we,{value:fe,enumerable:!0,configurable:!0,writable:!1}),fe}var ae=function(){function we(fe){this.constructor===we&&p("Cannot initialize BaseException."),this.message=fe,this.name=this.constructor.name}return we.prototype=new Error,we.constructor=we,we}();A.BaseException=ae;var re=function(me){I(fe,me);var we=O(fe);function fe(be,Ze){var je;return y(this,fe),(je=we.call(this,be)).code=Ze,je}return fe}(ae);A.PasswordException=re;var se=function(me){I(fe,me);var we=O(fe);function fe(be,Ze){var je;return y(this,fe),(je=we.call(this,be)).details=Ze,je}return fe}(ae);A.UnknownErrorException=se;var Y=function(me){I(fe,me);var we=O(fe);function fe(){return y(this,fe),we.apply(this,arguments)}return fe}(ae);A.InvalidPDFException=Y;var $=function(me){I(fe,me);var we=O(fe);function fe(){return y(this,fe),we.apply(this,arguments)}return fe}(ae);A.MissingPDFException=$;var U=function(me){I(fe,me);var we=O(fe);function fe(be,Ze){var je;return y(this,fe),(je=we.call(this,be)).status=Ze,je}return fe}(ae);A.UnexpectedResponseException=U;var X=function(me){I(fe,me);var we=O(fe);function fe(){return y(this,fe),we.apply(this,arguments)}return fe}(ae);A.FormatError=X;var ee=function(me){I(fe,me);var we=O(fe);function fe(){return y(this,fe),we.apply(this,arguments)}return fe}(ae);A.AbortException=ee;var ce=/\x00/g;function Te(me){d("string"==typeof me,"Invalid argument for stringToBytes");for(var we=me.length,fe=new Uint8Array(we),be=0;be<we;++be)fe[be]=255&me.charCodeAt(be);return fe}function Pe(me){return void 0!==me.length?me.length:(d(void 0!==me.byteLength,"arrayByteLength - invalid argument."),me.byteLength)}A.IsLittleEndianCached={get value(){return ie(this,"value",((me=new Uint8Array(4))[0]=1,1===new Uint32Array(me.buffer,0,1)[0]));var me}},A.IsEvalSupportedCached={get value(){return ie(this,"value",function(){try{return new Function(""),!0}catch(me){return!1}}())}};var ye=["rgb(",0,",",0,",",0,")"];A.Util=function(){function me(){y(this,me)}return function(me,we,fe){fe&&r(me,fe)}(me,0,[{key:"makeCssRgb",value:function(fe,be,Ze){return ye[1]=fe,ye[3]=be,ye[5]=Ze,ye.join("")}},{key:"transform",value:function(fe,be){return[fe[0]*be[0]+fe[2]*be[1],fe[1]*be[0]+fe[3]*be[1],fe[0]*be[2]+fe[2]*be[3],fe[1]*be[2]+fe[3]*be[3],fe[0]*be[4]+fe[2]*be[5]+fe[4],fe[1]*be[4]+fe[3]*be[5]+fe[5]]}},{key:"applyTransform",value:function(fe,be){return[fe[0]*be[0]+fe[1]*be[2]+be[4],fe[0]*be[1]+fe[1]*be[3]+be[5]]}},{key:"applyInverseTransform",value:function(fe,be){var Ze=be[0]*be[3]-be[1]*be[2];return[(fe[0]*be[3]-fe[1]*be[2]+be[2]*be[5]-be[4]*be[3])/Ze,(-fe[0]*be[1]+fe[1]*be[0]+be[4]*be[1]-be[5]*be[0])/Ze]}},{key:"getAxialAlignedBoundingBox",value:function(fe,be){var Ze=me.applyTransform(fe,be),je=me.applyTransform(fe.slice(2,4),be),nt=me.applyTransform([fe[0],fe[3]],be),tt=me.applyTransform([fe[2],fe[1]],be);return[Math.min(Ze[0],je[0],nt[0],tt[0]),Math.min(Ze[1],je[1],nt[1],tt[1]),Math.max(Ze[0],je[0],nt[0],tt[0]),Math.max(Ze[1],je[1],nt[1],tt[1])]}},{key:"inverseTransform",value:function(fe){var be=fe[0]*fe[3]-fe[1]*fe[2];return[fe[3]/be,-fe[1]/be,-fe[2]/be,fe[0]/be,(fe[2]*fe[5]-fe[4]*fe[3])/be,(fe[4]*fe[1]-fe[5]*fe[0])/be]}},{key:"apply3dTransform",value:function(fe,be){return[fe[0]*be[0]+fe[1]*be[1]+fe[2]*be[2],fe[3]*be[0]+fe[4]*be[1]+fe[5]*be[2],fe[6]*be[0]+fe[7]*be[1]+fe[8]*be[2]]}},{key:"singularValueDecompose2dScale",value:function(fe){var be=[fe[0],fe[2],fe[1],fe[3]],Ze=fe[0]*be[0]+fe[1]*be[2],tt=fe[2]*be[1]+fe[3]*be[3],st=(Ze+tt)/2,_t=Math.sqrt((Ze+tt)*(Ze+tt)-4*(Ze*tt-(fe[2]*be[0]+fe[3]*be[2])*(fe[0]*be[1]+fe[1]*be[3])))/2,Tt=st-_t||1;return[Math.sqrt(st+_t||1),Math.sqrt(Tt)]}},{key:"normalizeRect",value:function(fe){var be=fe.slice(0);return fe[0]>fe[2]&&(be[0]=fe[2],be[2]=fe[0]),fe[1]>fe[3]&&(be[1]=fe[3],be[3]=fe[1]),be}},{key:"intersect",value:function(fe,be){function Ze(st,_t){return st-_t}var je=[fe[0],fe[2],be[0],be[2]].sort(Ze),nt=[fe[1],fe[3],be[1],be[3]].sort(Ze),tt=[];return fe=me.normalizeRect(fe),be=me.normalizeRect(be),je[0]===fe[0]&&je[1]===be[0]||je[0]===be[0]&&je[1]===fe[0]?(tt[0]=je[1],tt[2]=je[2],nt[0]===fe[1]&&nt[1]===be[1]||nt[0]===be[1]&&nt[1]===fe[1]?(tt[1]=nt[1],tt[3]=nt[2],tt):null):null}}]),me}();var we,ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],at=(we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(be,Ze){var je=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!je&&URL.createObjectURL){var nt=new Blob([be],{type:Ze});return URL.createObjectURL(nt)}for(var tt="data:".concat(Ze,";base64,"),st=0,_t=be.length;st<_t;st+=3){var Pt=255&be[st],Tt=255&be[st+1],At=255&be[st+2],gt=Pt>>2,pt=(3&Pt)<<4|Tt>>4,Je=st+1<_t?(15&Tt)<<2|At>>6:64,Rt=st+2<_t?63&At:64;tt+=we[gt]+we[pt]+we[Je]+we[Rt]}return tt});A.createObjectURL=at},function(F,A,t){"use strict";var r=t(7);function o(N){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(N)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=t(8)),globalThis._pdfjsCompatibilityChecked=!0;var b="object"===("undefined"==typeof window?"undefined":o(window))&&"object"===("undefined"==typeof document?"undefined":o(document)),y="undefined"!=typeof navigator&&navigator.userAgent||"",I=/Trident/.test(y);globalThis.btoa||!r.isNodeJS||(globalThis.btoa=function(O){return Buffer.from(O,"binary").toString("base64")}),globalThis.atob||!r.isNodeJS||(globalThis.atob=function(O){return Buffer.from(O,"base64").toString("binary")}),!b||void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(b&&!r.isNodeJS){var O=document.createElement("div");if(O.classList.add("testOne","testTwo"),!0!==O.classList.contains("testOne")||!0!==O.classList.contains("testTwo")){var R=DOMTokenList.prototype.add,W=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,V=new Array(e),G=0;G<e;G++)V[G]=arguments[G];for(var Z=0,E=V;Z<E.length;Z++){var T=E[Z];R.call(this,T)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,V=new Array(e),G=0;G<e;G++)V[G]=arguments[G];for(var Z=0,E=V;Z<E.length;Z++){var T=E[Z];W.call(this,T)}}}}}(),b&&!r.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(R){var W=arguments.length>1?!!arguments[1]:!this.contains(R);return this[W?"add":"remove"](R),W}),function(){if(b&&I){var O=window.history.pushState,R=window.history.replaceState;window.history.pushState=function(W,e,V){O.apply(this,void 0===V?[W,e]:[W,e,V])},window.history.replaceState=function(W,e,V){R.apply(this,void 0===V?[W,e]:[W,e,V])}}}(),String.prototype.startsWith||t(53),String.prototype.endsWith||t(64),String.prototype.includes||t(66),Array.prototype.includes||t(68),Array.from||t(76),Object.assign||t(98),Math.log2||(Math.log2=t(101)),Number.isNaN||(Number.isNaN=t(103)),Number.isInteger||(Number.isInteger=t(105)),Uint8Array.prototype.slice||t(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=t(113)),globalThis.URL=t(136),function(){var O=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(W){W.close()}}),O=!0}catch(R){}O||(globalThis.ReadableStream=t(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=t(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=t(151)),globalThis.WeakMap||(globalThis.WeakMap=t(153)),globalThis.WeakSet||(globalThis.WeakSet=t(159)),String.prototype.codePointAt||t(161),String.fromCodePoint||(String.fromCodePoint=t(163)),globalThis.Symbol||t(165),String.prototype.padStart||t(188),String.prototype.padEnd||t(193),Object.values||(Object.values=t(195))}},function(F,A,t){"use strict";function r(b){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(b)}Object.defineProperty(A,"__esModule",{value:!0}),A.isNodeJS=void 0;var o="object"===("undefined"==typeof process?"undefined":r(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;A.isNodeJS=o},function(F,A,t){t(9),F.exports=t(11)},function(F,A,t){t(10)({global:!0},{globalThis:t(11)})},function(F,A,t){var r=t(11),o=t(12).f,b=t(26),y=t(29),I=t(30),N=t(40),O=t(52);F.exports=function(R,W){var E,T,h,_,c,e=R.target,V=R.global,G=R.stat;if(E=V?r:G?r[e]||I(e,{}):(r[e]||{}).prototype)for(T in W){if(_=W[T],h=R.noTargetGet?(c=o(E,T))&&c.value:E[T],!O(V?T:e+(G?".":"#")+T,R.forced)&&void 0!==h){if(typeof _==typeof h)continue;N(_,h)}(R.sham||h&&h.sham)&&b(_,"sham",!0),y(E,T,_,R)}}},function(F,A){var t=function(r){return r&&r.Math==Math&&r};F.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||Function("return this")()},function(F,A,t){var r=t(13),o=t(15),b=t(16),y=t(17),I=t(21),N=t(23),O=t(24),R=Object.getOwnPropertyDescriptor;A.f=r?R:function(e,V){if(e=y(e),V=I(V,!0),O)try{return R(e,V)}catch(G){}if(N(e,V))return b(!o.f.call(e,V),e[V])}},function(F,A,t){var r=t(14);F.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(F,A){F.exports=function(t){try{return!!t()}catch(r){return!0}}},function(F,A,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,b=o&&!r.call({1:2},1);A.f=b?function(I){var N=o(this,I);return!!N&&N.enumerable}:r},function(F,A){F.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(F,A,t){var r=t(18),o=t(20);F.exports=function(b){return r(o(b))}},function(F,A,t){var r=t(14),o=t(19),b="".split;F.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return"String"==o(y)?b.call(y,""):Object(y)}:Object},function(F,A){var t={}.toString;F.exports=function(r){return t.call(r).slice(8,-1)}},function(F,A){F.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(F,A,t){var r=t(22);F.exports=function(o,b){if(!r(o))return o;var y,I;if(b&&"function"==typeof(y=o.toString)&&!r(I=y.call(o))||"function"==typeof(y=o.valueOf)&&!r(I=y.call(o))||!b&&"function"==typeof(y=o.toString)&&!r(I=y.call(o)))return I;throw TypeError("Can't convert object to primitive value")}},function(F,A){F.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(F,A){var t={}.hasOwnProperty;F.exports=function(r,o){return t.call(r,o)}},function(F,A,t){var r=t(13),o=t(14),b=t(25);F.exports=!r&&!o(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a})},function(F,A,t){var r=t(11),o=t(22),b=r.document,y=o(b)&&o(b.createElement);F.exports=function(I){return y?b.createElement(I):{}}},function(F,A,t){var r=t(13),o=t(27),b=t(16);F.exports=r?function(y,I,N){return o.f(y,I,b(1,N))}:function(y,I,N){return y[I]=N,y}},function(F,A,t){var r=t(13),o=t(24),b=t(28),y=t(21),I=Object.defineProperty;A.f=r?I:function(O,R,W){if(b(O),R=y(R,!0),b(W),o)try{return I(O,R,W)}catch(e){}if("get"in W||"set"in W)throw TypeError("Accessors not supported");return"value"in W&&(O[R]=W.value),O}},function(F,A,t){var r=t(22);F.exports=function(o){if(!r(o))throw TypeError(String(o)+" is not an object");return o}},function(F,A,t){var r=t(11),o=t(26),b=t(23),y=t(30),I=t(31),N=t(33),O=N.get,R=N.enforce,W=String(String).split("String");(F.exports=function(e,V,G,Z){var E=!!Z&&!!Z.unsafe,T=!!Z&&!!Z.enumerable,h=!!Z&&!!Z.noTargetGet;"function"==typeof G&&("string"==typeof V&&!b(G,"name")&&o(G,"name",V),R(G).source=W.join("string"==typeof V?V:"")),e!==r?(E?!h&&e[V]&&(T=!0):delete e[V],T?e[V]=G:o(e,V,G)):T?e[V]=G:y(V,G)})(Function.prototype,"toString",function(){return"function"==typeof this&&O(this).source||I(this)})},function(F,A,t){var r=t(11),o=t(26);F.exports=function(b,y){try{o(r,b,y)}catch(I){r[b]=y}return y}},function(F,A,t){var r=t(32),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(b){return o.call(b)}),F.exports=r.inspectSource},function(F,A,t){var r=t(11),o=t(30),b="__core-js_shared__",y=r[b]||o(b,{});F.exports=y},function(F,A,t){var W,e,V,r=t(34),o=t(11),b=t(22),y=t(26),I=t(23),N=t(35),O=t(39);if(r){var E=new(0,o.WeakMap),T=E.get,h=E.has,_=E.set;W=function(l,n){return _.call(E,l,n),n},e=function(l){return T.call(E,l)||{}},V=function(l){return h.call(E,l)}}else{var c=N("state");O[c]=!0,W=function(l,n){return y(l,c,n),n},e=function(l){return I(l,c)?l[c]:{}},V=function(l){return I(l,c)}}F.exports={set:W,get:e,has:V,enforce:function(l){return V(l)?e(l):W(l,{})},getterFor:function(l){return function(n){var i;if(!b(n)||(i=e(n)).type!==l)throw TypeError("Incompatible receiver, "+l+" required");return i}}}},function(F,A,t){var r=t(11),o=t(31),b=r.WeakMap;F.exports="function"==typeof b&&/native code/.test(o(b))},function(F,A,t){var r=t(36),o=t(38),b=r("keys");F.exports=function(y){return b[y]||(b[y]=o(y))}},function(F,A,t){var r=t(37),o=t(32);(F.exports=function(b,y){return o[b]||(o[b]=void 0!==y?y:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(F,A){F.exports=!1},function(F,A){var t=0,r=Math.random();F.exports=function(o){return"Symbol("+String(void 0===o?"":o)+")_"+(++t+r).toString(36)}},function(F,A){F.exports={}},function(F,A,t){var r=t(23),o=t(41),b=t(12),y=t(27);F.exports=function(I,N){for(var O=o(N),R=y.f,W=b.f,e=0;e<O.length;e++){var V=O[e];r(I,V)||R(I,V,W(N,V))}}},function(F,A,t){var r=t(42),o=t(44),b=t(51),y=t(28);F.exports=r("Reflect","ownKeys")||function(N){var O=o.f(y(N)),R=b.f;return R?O.concat(R(N)):O}},function(F,A,t){var r=t(43),o=t(11),b=function(y){return"function"==typeof y?y:void 0};F.exports=function(y,I){return arguments.length<2?b(r[y])||b(o[y]):r[y]&&r[y][I]||o[y]&&o[y][I]}},function(F,A,t){var r=t(11);F.exports=r},function(F,A,t){var r=t(45),b=t(50).concat("length","prototype");A.f=Object.getOwnPropertyNames||function(I){return r(I,b)}},function(F,A,t){var r=t(23),o=t(17),b=t(46).indexOf,y=t(39);F.exports=function(I,N){var e,O=o(I),R=0,W=[];for(e in O)!r(y,e)&&r(O,e)&&W.push(e);for(;N.length>R;)r(O,e=N[R++])&&(~b(W,e)||W.push(e));return W}},function(F,A,t){var r=t(17),o=t(47),b=t(49),y=function(I){return function(N,O,R){var G,W=r(N),e=o(W.length),V=b(R,e);if(I&&O!=O){for(;e>V;)if((G=W[V++])!=G)return!0}else for(;e>V;V++)if((I||V in W)&&W[V]===O)return I||V||0;return!I&&-1}};F.exports={includes:y(!0),indexOf:y(!1)}},function(F,A,t){var r=t(48),o=Math.min;F.exports=function(b){return b>0?o(r(b),9007199254740991):0}},function(F,A){var t=Math.ceil,r=Math.floor;F.exports=function(o){return isNaN(o=+o)?0:(o>0?r:t)(o)}},function(F,A,t){var r=t(48),o=Math.max,b=Math.min;F.exports=function(y,I){var N=r(y);return N<0?o(N+I,0):b(N,I)}},function(F,A){F.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(F,A){A.f=Object.getOwnPropertySymbols},function(F,A,t){var r=t(14),o=/#|\.prototype\./,b=function(R,W){var e=I[y(R)];return e==O||e!=N&&("function"==typeof W?r(W):!!W)},y=b.normalize=function(R){return String(R).replace(o,".").toLowerCase()},I=b.data={},N=b.NATIVE="N",O=b.POLYFILL="P";F.exports=b},function(F,A,t){t(54);var r=t(61);F.exports=r("String","startsWith")},function(F,A,t){"use strict";var G,r=t(10),o=t(12).f,b=t(47),y=t(55),I=t(20),N=t(60),O=t(37),R="".startsWith,W=Math.min,e=N("startsWith");r({target:"String",proto:!0,forced:!(!O&&!e&&(G=o(String.prototype,"startsWith"),G&&!G.writable)||e)},{startsWith:function(Z){var E=String(I(this));y(Z);var T=b(W(arguments.length>1?arguments[1]:void 0,E.length)),h=String(Z);return R?R.call(E,h,T):E.slice(T,T+h.length)===h}})},function(F,A,t){var r=t(56);F.exports=function(o){if(r(o))throw TypeError("The method doesn't accept regular expressions");return o}},function(F,A,t){var r=t(22),o=t(19),y=t(57)("match");F.exports=function(I){var N;return r(I)&&(void 0!==(N=I[y])?!!N:"RegExp"==o(I))}},function(F,A,t){var r=t(11),o=t(36),b=t(23),y=t(38),I=t(58),N=t(59),O=o("wks"),R=r.Symbol,W=N?R:R&&R.withoutSetter||y;F.exports=function(e){return b(O,e)||(O[e]=I&&b(R,e)?R[e]:W("Symbol."+e)),O[e]}},function(F,A,t){var r=t(14);F.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(F,A,t){var r=t(58);F.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(F,A,t){var o=t(57)("match");F.exports=function(b){var y=/./;try{"/./"[b](y)}catch(I){try{return y[o]=!1,"/./"[b](y)}catch(N){}}return!1}},function(F,A,t){var r=t(11),o=t(62),b=Function.call;F.exports=function(y,I,N){return o(b,r[y].prototype[I],N)}},function(F,A,t){var r=t(63);F.exports=function(o,b,y){if(r(o),void 0===b)return o;switch(y){case 0:return function(){return o.call(b)};case 1:return function(I){return o.call(b,I)};case 2:return function(I,N){return o.call(b,I,N)};case 3:return function(I,N,O){return o.call(b,I,N,O)}}return function(){return o.apply(b,arguments)}}},function(F,A){F.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(F,A,t){t(65);var r=t(61);F.exports=r("String","endsWith")},function(F,A,t){"use strict";var G,r=t(10),o=t(12).f,b=t(47),y=t(55),I=t(20),N=t(60),O=t(37),R="".endsWith,W=Math.min,e=N("endsWith");r({target:"String",proto:!0,forced:!(!O&&!e&&(G=o(String.prototype,"endsWith"),G&&!G.writable)||e)},{endsWith:function(Z){var E=String(I(this));y(Z);var T=arguments.length>1?arguments[1]:void 0,h=b(E.length),_=void 0===T?h:W(b(T),h),c=String(Z);return R?R.call(E,c,_):E.slice(_-c.length,_)===c}})},function(F,A,t){t(67);var r=t(61);F.exports=r("String","includes")},function(F,A,t){"use strict";var r=t(10),o=t(55),b=t(20);r({target:"String",proto:!0,forced:!t(60)("includes")},{includes:function(N){return!!~String(b(this)).indexOf(o(N),arguments.length>1?arguments[1]:void 0)}})},function(F,A,t){t(69);var r=t(61);F.exports=r("Array","includes")},function(F,A,t){"use strict";var r=t(10),o=t(46).includes,b=t(70);r({target:"Array",proto:!0,forced:!t(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(O){return o(this,O,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(F,A,t){var r=t(57),o=t(71),b=t(27),y=r("unscopables"),I=Array.prototype;null==I[y]&&b.f(I,y,{configurable:!0,value:o(null)}),F.exports=function(N){I[y][N]=!0}},function(F,A,t){var _,r=t(28),o=t(72),b=t(50),y=t(39),I=t(74),N=t(25),O=t(35),e="prototype",V="script",G=O("IE_PROTO"),Z=function(){},E=function(l){return"<"+V+">"+l+"</"+V+">"},c=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch(n){}c=_?function(l){l.write(E("")),l.close();var n=l.parentWindow.Object;return l=null,n}(_):function(){var i,l=N("iframe");return l.style.display="none",I.appendChild(l),l.src=String("javascript:"),(i=l.contentWindow.document).open(),i.write(E("document.F=Object")),i.close(),i.F}();for(var l=b.length;l--;)delete c[e][b[l]];return c()};y[G]=!0,F.exports=Object.create||function(n,i){var u;return null!==n?(Z[e]=r(n),u=new Z,Z[e]=null,u[G]=n):u=c(),void 0===i?u:o(u,i)}},function(F,A,t){var r=t(13),o=t(27),b=t(28),y=t(73);F.exports=r?Object.defineProperties:function(N,O){b(N);for(var V,R=y(O),W=R.length,e=0;W>e;)o.f(N,V=R[e++],O[V]);return N}},function(F,A,t){var r=t(45),o=t(50);F.exports=Object.keys||function(y){return r(y,o)}},function(F,A,t){var r=t(42);F.exports=r("document","documentElement")},function(F,A,t){var r=t(13),o=t(14),b=t(23),y=Object.defineProperty,I={},N=function(O){throw O};F.exports=function(O,R){if(b(I,O))return I[O];R||(R={});var W=[][O],e=!!b(R,"ACCESSORS")&&R.ACCESSORS,V=b(R,0)?R[0]:N,G=b(R,1)?R[1]:void 0;return I[O]=!!W&&!o(function(){if(e&&!r)return!0;var Z={length:-1};e?y(Z,1,{enumerable:!0,get:N}):Z[1]=1,W.call(Z,V,G)})}},function(F,A,t){t(77),t(89);var r=t(43);F.exports=r.Array.from},function(F,A,t){"use strict";var r=t(78).charAt,o=t(33),b=t(79),y="String Iterator",I=o.set,N=o.getterFor(y);b(String,"String",function(O){I(this,{type:y,string:String(O),index:0})},function(){var V,R=N(this),W=R.string,e=R.index;return e>=W.length?{value:void 0,done:!0}:(V=r(W,e),R.index+=V.length,{value:V,done:!1})})},function(F,A,t){var r=t(48),o=t(20),b=function(y){return function(I,N){var e,V,O=String(o(I)),R=r(N),W=O.length;return R<0||R>=W?y?"":void 0:(e=O.charCodeAt(R))<55296||e>56319||R+1===W||(V=O.charCodeAt(R+1))<56320||V>57343?y?O.charAt(R):e:y?O.slice(R,R+2):V-56320+(e-55296<<10)+65536}};F.exports={codeAt:b(!1),charAt:b(!0)}},function(F,A,t){"use strict";var r=t(10),o=t(80),b=t(82),y=t(87),I=t(85),N=t(26),O=t(29),R=t(57),W=t(37),e=t(86),V=t(81),G=V.IteratorPrototype,Z=V.BUGGY_SAFARI_ITERATORS,E=R("iterator"),T="keys",h="values",_="entries",c=function(){return this};F.exports=function(l,n,i,u,f,m,x){o(i,n,u);var M,k,L,S=function(g){if(g===f&&j)return j;if(!Z&&g in q)return q[g];switch(g){case T:case h:case _:return function(){return new i(this,g)}}return function(){return new i(this)}},D=n+" Iterator",H=!1,q=l.prototype,te=q[E]||q["@@iterator"]||f&&q[f],j=!Z&&te||S(f),Q="Array"==n&&q.entries||te;if(Q&&(M=b(Q.call(new l)),G!==Object.prototype&&M.next&&(!W&&b(M)!==G&&(y?y(M,G):"function"!=typeof M[E]&&N(M,E,c)),I(M,D,!0,!0),W&&(e[D]=c))),f==h&&te&&te.name!==h&&(H=!0,j=function(){return te.call(this)}),(!W||x)&&q[E]!==j&&N(q,E,j),e[n]=j,f)if(k={values:S(h),keys:m?j:S(T),entries:S(_)},x)for(L in k)(Z||H||!(L in q))&&O(q,L,k[L]);else r({target:n,proto:!0,forced:Z||H},k);return k}},function(F,A,t){"use strict";var r=t(81).IteratorPrototype,o=t(71),b=t(16),y=t(85),I=t(86),N=function(){return this};F.exports=function(O,R,W){var e=R+" Iterator";return O.prototype=o(r,{next:b(1,W)}),y(O,e,!1,!0),I[e]=N,O}},function(F,A,t){"use strict";var W,e,V,r=t(82),o=t(26),b=t(23),y=t(57),I=t(37),N=y("iterator"),O=!1;[].keys&&("next"in(V=[].keys())?(e=r(r(V)))!==Object.prototype&&(W=e):O=!0),null==W&&(W={}),!I&&!b(W,N)&&o(W,N,function(){return this}),F.exports={IteratorPrototype:W,BUGGY_SAFARI_ITERATORS:O}},function(F,A,t){var r=t(23),o=t(83),b=t(35),y=t(84),I=b("IE_PROTO"),N=Object.prototype;F.exports=y?Object.getPrototypeOf:function(O){return O=o(O),r(O,I)?O[I]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?N:null}},function(F,A,t){var r=t(20);F.exports=function(o){return Object(r(o))}},function(F,A,t){var r=t(14);F.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},function(F,A,t){var r=t(27).f,o=t(23),y=t(57)("toStringTag");F.exports=function(I,N,O){I&&!o(I=O?I:I.prototype,y)&&r(I,y,{configurable:!0,value:N})}},function(F,A){F.exports={}},function(F,A,t){var r=t(28),o=t(88);F.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var I,b=!1,y={};try{(I=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(y,[]),b=y instanceof Array}catch(N){}return function(O,R){return r(O),o(R),b?I.call(O,R):O.__proto__=R,O}}():void 0)},function(F,A,t){var r=t(22);F.exports=function(o){if(!r(o)&&null!==o)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},function(F,A,t){var r=t(10),o=t(90);r({target:"Array",stat:!0,forced:!t(97)(function(I){Array.from(I)})},{from:o})},function(F,A,t){"use strict";var r=t(62),o=t(83),b=t(91),y=t(92),I=t(47),N=t(93),O=t(94);F.exports=function(W){var _,c,l,n,i,u,e=o(W),V="function"==typeof this?this:Array,G=arguments.length,Z=G>1?arguments[1]:void 0,E=void 0!==Z,T=O(e),h=0;if(E&&(Z=r(Z,G>2?arguments[2]:void 0,2)),null==T||V==Array&&y(T))for(c=new V(_=I(e.length));_>h;h++)u=E?Z(e[h],h):e[h],N(c,h,u);else for(i=(n=T.call(e)).next,c=new V;!(l=i.call(n)).done;h++)u=E?b(n,Z,[l.value,h],!0):l.value,N(c,h,u);return c.length=h,c}},function(F,A,t){var r=t(28);F.exports=function(o,b,y,I){try{return I?b(r(y)[0],y[1]):b(y)}catch(O){var N=o.return;throw void 0!==N&&r(N.call(o)),O}}},function(F,A,t){var r=t(57),o=t(86),b=r("iterator"),y=Array.prototype;F.exports=function(I){return void 0!==I&&(o.Array===I||y[b]===I)}},function(F,A,t){"use strict";var r=t(21),o=t(27),b=t(16);F.exports=function(y,I,N){var O=r(I);O in y?o.f(y,O,b(0,N)):y[O]=N}},function(F,A,t){var r=t(95),o=t(86),y=t(57)("iterator");F.exports=function(I){if(null!=I)return I[y]||I["@@iterator"]||o[r(I)]}},function(F,A,t){var r=t(96),o=t(19),y=t(57)("toStringTag"),I="Arguments"==o(function(){return arguments}());F.exports=r?o:function(O){var R,W,e;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(W=function(O,R){try{return O[R]}catch(W){}}(R=Object(O),y))?W:I?o(R):"Object"==(e=o(R))&&"function"==typeof R.callee?"Arguments":e}},function(F,A,t){var b={};b[t(57)("toStringTag")]="z",F.exports="[object z]"===String(b)},function(F,A,t){var o=t(57)("iterator"),b=!1;try{var y=0,I={next:function(){return{done:!!y++}},return:function(){b=!0}};I[o]=function(){return this},Array.from(I,function(){throw 2})}catch(N){}F.exports=function(N,O){if(!O&&!b)return!1;var R=!1;try{var W={};W[o]=function(){return{next:function(){return{done:R=!0}}}},N(W)}catch(e){}return R}},function(F,A,t){t(99);var r=t(43);F.exports=r.Object.assign},function(F,A,t){var r=t(10),o=t(100);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(F,A,t){"use strict";var r=t(13),o=t(14),b=t(73),y=t(51),I=t(15),N=t(83),O=t(18),R=Object.assign,W=Object.defineProperty;F.exports=!R||o(function(){if(r&&1!==R({b:1},R(W({},"a",{enumerable:!0,get:function(){W(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},V={},G=Symbol(),Z="abcdefghijklmnopqrst";return e[G]=7,Z.split("").forEach(function(E){V[E]=E}),7!=R({},e)[G]||b(R({},V)).join("")!=Z})?function(V,G){for(var Z=N(V),E=arguments.length,T=1,h=y.f,_=I.f;E>T;)for(var u,c=O(arguments[T++]),l=h?b(c).concat(h(c)):b(c),n=l.length,i=0;n>i;)u=l[i++],(!r||_.call(c,u))&&(Z[u]=c[u]);return Z}:R},function(F,A,t){t(102);var r=t(43);F.exports=r.Math.log2},function(F,A,t){var r=t(10),o=Math.log,b=Math.LN2;r({target:"Math",stat:!0},{log2:function(I){return o(I)/b}})},function(F,A,t){t(104);var r=t(43);F.exports=r.Number.isNaN},function(F,A,t){t(10)({target:"Number",stat:!0},{isNaN:function(b){return b!=b}})},function(F,A,t){t(106);var r=t(43);F.exports=r.Number.isInteger},function(F,A,t){t(10)({target:"Number",stat:!0},{isInteger:t(107)})},function(F,A,t){var r=t(22),o=Math.floor;F.exports=function(y){return!r(y)&&isFinite(y)&&o(y)===y}},function(F,A,t){t(109)},function(F,A,t){"use strict";var r=t(110),o=t(112),b=t(14),y=r.aTypedArray,I=r.aTypedArrayConstructor,O=[].slice;(0,r.exportTypedArrayMethod)("slice",function(e,V){for(var G=O.call(y(this),e,V),Z=o(this,this.constructor),E=0,T=G.length,h=new(I(Z))(T);T>E;)h[E]=G[E++];return h},b(function(){new Int8Array(1).slice()}))},function(F,A,t){"use strict";var S,r=t(111),o=t(13),b=t(11),y=t(22),I=t(23),N=t(95),O=t(26),R=t(29),W=t(27).f,e=t(82),V=t(87),G=t(57),Z=t(38),E=b.Int8Array,T=E&&E.prototype,h=b.Uint8ClampedArray,_=h&&h.prototype,c=E&&e(E),l=T&&e(T),n=Object.prototype,i=n.isPrototypeOf,u=G("toStringTag"),f=Z("TYPED_ARRAY_TAG"),m=r&&!!V&&"Opera"!==N(b.opera),x=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},q=function(k){return y(k)&&I(D,N(k))};for(S in D)b[S]||(m=!1);if((!m||"function"!=typeof c||c===Function.prototype)&&(c=function(){throw TypeError("Incorrect invocation")},m))for(S in D)b[S]&&V(b[S],c);if((!m||!l||l===n)&&(l=c.prototype,m))for(S in D)b[S]&&V(b[S].prototype,l);if(m&&e(_)!==l&&V(_,l),o&&!I(l,u))for(S in x=!0,W(l,u,{get:function(){return y(this)?this[f]:void 0}}),D)b[S]&&O(b[S],f,S);F.exports={NATIVE_ARRAY_BUFFER_VIEWS:m,TYPED_ARRAY_TAG:x&&f,aTypedArray:function(k){if(q(k))return k;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(k){if(V){if(i.call(c,k))return k}else for(var L in D)if(I(D,S)){var g=b[L];if(g&&(k===g||i.call(g,k)))return k}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(k,L,g){if(o){if(g)for(var p in D){var d=b[p];d&&I(d.prototype,k)&&delete d.prototype[k]}(!l[k]||g)&&R(l,k,g?L:m&&T[k]||L)}},exportTypedArrayStaticMethod:function(k,L,g){var p,d;if(o){if(V){if(g)for(p in D)(d=b[p])&&I(d,k)&&delete d[k];if(c[k]&&!g)return;try{return R(c,k,g?L:m&&E[k]||L)}catch(v){}}for(p in D)(d=b[p])&&(!d[k]||g)&&R(d,k,L)}},isView:function(L){var g=N(L);return"DataView"===g||I(D,g)},isTypedArray:q,TypedArray:c,TypedArrayPrototype:l}},function(F,A){F.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(F,A,t){var r=t(28),o=t(63),y=t(57)("species");F.exports=function(I,N){var R,O=r(I).constructor;return void 0===O||null==(R=r(O)[y])?N:o(R)}},function(F,A,t){t(114),t(77),t(116),t(119),t(134),t(135);var r=t(43);F.exports=r.Promise},function(F,A,t){var r=t(96),o=t(29),b=t(115);r||o(Object.prototype,"toString",b,{unsafe:!0})},function(F,A,t){"use strict";var r=t(96),o=t(95);F.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(F,A,t){var r=t(11),o=t(117),b=t(118),y=t(26),I=t(57),N=I("iterator"),O=I("toStringTag"),R=b.values;for(var W in o){var e=r[W],V=e&&e.prototype;if(V){if(V[N]!==R)try{y(V,N,R)}catch(Z){V[N]=R}if(V[O]||y(V,O,W),o[W])for(var G in b)if(V[G]!==b[G])try{y(V,G,b[G])}catch(Z){V[G]=b[G]}}}},function(F,A){F.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(F,A,t){"use strict";var r=t(17),o=t(70),b=t(86),y=t(33),I=t(79),N="Array Iterator",O=y.set,R=y.getterFor(N);F.exports=I(Array,"Array",function(W,e){O(this,{type:N,target:r(W),index:0,kind:e})},function(){var W=R(this),e=W.target,V=W.kind,G=W.index++;return!e||G>=e.length?(W.target=void 0,{value:void 0,done:!0}):"keys"==V?{value:G,done:!1}:"values"==V?{value:e[G],done:!1}:{value:[G,e[G]],done:!1}},"values"),b.Arguments=b.Array,o("keys"),o("values"),o("entries")},function(F,A,t){"use strict";var X,ee,ce,de,r=t(10),o=t(37),b=t(11),y=t(42),I=t(120),N=t(29),O=t(121),R=t(85),W=t(122),e=t(22),V=t(63),G=t(123),Z=t(19),E=t(31),T=t(124),h=t(97),_=t(112),c=t(125).set,l=t(128),n=t(129),i=t(131),u=t(130),f=t(132),m=t(33),x=t(52),S=t(57),D=t(133),H=S("species"),q="Promise",te=m.get,j=m.set,Q=m.getterFor(q),M=I,k=b.TypeError,L=b.document,g=b.process,p=y("fetch"),d=u.f,v=d,P="process"==Z(g),J=!!(L&&L.createEvent&&b.dispatchEvent),ie="unhandledrejection",Ae=x(q,function(){if(E(M)===String(M)&&(66===D||!P&&"function"!=typeof PromiseRejectionEvent)||o&&!M.prototype.finally)return!0;if(D>=51&&/native code/.test(M))return!1;var pe=M.resolve(1),Se=function(Re){Re(function(){},function(){})};return(pe.constructor={})[H]=Se,!(pe.then(function(){})instanceof Se)}),Te=Ae||!h(function(ue){M.all(ue).catch(function(){})}),Pe=function(ue){var pe;return!(!e(ue)||"function"!=typeof(pe=ue.then))&&pe},ze=function(ue,pe,Se){if(!pe.notified){pe.notified=!0;var Ie=pe.reactions;l(function(){for(var Re=pe.value,ke=1==pe.state,Fe=0;Ie.length>Fe;){var me,we,fe,Ne=Ie[Fe++],Ge=ke?Ne.ok:Ne.fail,$e=Ne.resolve,it=Ne.reject,at=Ne.domain;try{Ge?(ke||(2===pe.rejection&&Qe(ue,pe),pe.rejection=1),!0===Ge?me=Re:(at&&at.enter(),me=Ge(Re),at&&(at.exit(),fe=!0)),me===Ne.promise?it(k("Promise-chain cycle")):(we=Pe(me))?we.call(me,$e,it):$e(me)):it(Re)}catch(be){at&&!fe&&at.exit(),it(be)}}pe.reactions=[],pe.notified=!1,Se&&!pe.rejection&&Xe(ue,pe)})}},Be=function(ue,pe,Se){var Ie,Re;J?((Ie=L.createEvent("Event")).promise=pe,Ie.reason=Se,Ie.initEvent(ue,!1,!0),b.dispatchEvent(Ie)):Ie={promise:pe,reason:Se},(Re=b["on"+ue])?Re(Ie):ue===ie&&i("Unhandled promise rejection",Se)},Xe=function(ue,pe){c.call(b,function(){var Re,Se=pe.value;if(et(pe)&&(Re=f(function(){P?g.emit("unhandledRejection",Se,ue):Be(ie,ue,Se)}),pe.rejection=P||et(pe)?2:1,Re.error))throw Re.value})},et=function(ue){return 1!==ue.rejection&&!ue.parent},Qe=function(ue,pe){c.call(b,function(){P?g.emit("rejectionHandled",ue):Be("rejectionhandled",ue,pe.value)})},he=function(ue,pe,Se,Ie){return function(Re){ue(pe,Se,Re,Ie)}},ye=function(ue,pe,Se,Ie){pe.done||(pe.done=!0,Ie&&(pe=Ie),pe.value=Se,pe.state=2,ze(ue,pe,!0))},ve=function(ue,pe,Se,Ie){if(!pe.done){pe.done=!0,Ie&&(pe=Ie);try{if(ue===Se)throw k("Promise can't be resolved itself");var Re=Pe(Se);Re?l(function(){var ke={done:!1};try{Re.call(Se,he(ve,ue,ke,pe),he(ye,ue,ke,pe))}catch(Fe){ye(ue,ke,Fe,pe)}}):(pe.value=Se,pe.state=1,ze(ue,pe,!1))}catch(ke){ye(ue,{done:!1},ke,pe)}}};Ae&&(M=function(pe){G(this,M,q),V(pe),X.call(this);var Se=te(this);try{pe(he(ve,this,Se),he(ye,this,Se))}catch(Ie){ye(this,Se,Ie)}},(X=function(pe){j(this,{type:q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=O(M.prototype,{then:function(pe,Se){var Ie=Q(this),Re=d(_(this,M));return Re.ok="function"!=typeof pe||pe,Re.fail="function"==typeof Se&&Se,Re.domain=P?g.domain:void 0,Ie.parent=!0,Ie.reactions.push(Re),0!=Ie.state&&ze(this,Ie,!1),Re.promise},catch:function(ue){return this.then(void 0,ue)}}),ee=function(){var ue=new X,pe=te(ue);this.promise=ue,this.resolve=he(ve,ue,pe),this.reject=he(ye,ue,pe)},u.f=d=function(ue){return ue===M||ue===ce?new ee(ue):v(ue)},!o&&"function"==typeof I&&(de=I.prototype.then,N(I.prototype,"then",function(pe,Se){var Ie=this;return new M(function(Re,ke){de.call(Ie,Re,ke)}).then(pe,Se)},{unsafe:!0}),"function"==typeof p&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(pe){return n(M,p.apply(b,arguments))}}))),r({global:!0,wrap:!0,forced:Ae},{Promise:M}),R(M,q,!1,!0),W(q),ce=y(q),r({target:q,stat:!0,forced:Ae},{reject:function(pe){var Se=d(this);return Se.reject.call(void 0,pe),Se.promise}}),r({target:q,stat:!0,forced:o||Ae},{resolve:function(pe){return n(o&&this===ce?M:this,pe)}}),r({target:q,stat:!0,forced:Te},{all:function(pe){var Se=this,Ie=d(Se),Re=Ie.resolve,ke=Ie.reject,Fe=f(function(){var Ne=V(Se.resolve),Ge=[],$e=0,it=1;T(pe,function(at){var me=$e++,we=!1;Ge.push(void 0),it++,Ne.call(Se,at).then(function(fe){we||(we=!0,Ge[me]=fe,--it||Re(Ge))},ke)}),--it||Re(Ge)});return Fe.error&&ke(Fe.value),Ie.promise},race:function(pe){var Se=this,Ie=d(Se),Re=Ie.reject,ke=f(function(){var Fe=V(Se.resolve);T(pe,function(Ne){Fe.call(Se,Ne).then(Ie.resolve,Re)})});return ke.error&&Re(ke.value),Ie.promise}})},function(F,A,t){var r=t(11);F.exports=r.Promise},function(F,A,t){var r=t(29);F.exports=function(o,b,y){for(var I in b)r(o,I,b[I],y);return o}},function(F,A,t){"use strict";var r=t(42),o=t(27),b=t(57),y=t(13),I=b("species");F.exports=function(N){var O=r(N);y&&O&&!O[I]&&(0,o.f)(O,I,{configurable:!0,get:function(){return this}})}},function(F,A){F.exports=function(t,r,o){if(!(t instanceof r))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return t}},function(F,A,t){var r=t(28),o=t(92),b=t(47),y=t(62),I=t(94),N=t(91),O=function(W,e){this.stopped=W,this.result=e};(F.exports=function(W,e,V,G,Z){var T,h,_,c,l,n,i,E=y(e,V,G?2:1);if(Z)T=W;else{if("function"!=typeof(h=I(W)))throw TypeError("Target is not iterable");if(o(h)){for(_=0,c=b(W.length);c>_;_++)if((l=G?E(r(i=W[_])[0],i[1]):E(W[_]))&&l instanceof O)return l;return new O(!1)}T=h.call(W)}for(n=T.next;!(i=n.call(T)).done;)if("object"==typeof(l=N(T,E,i.value,G))&&l&&l instanceof O)return l;return new O(!1)}).stop=function(W){return new O(!0,W)}},function(F,A,t){var _,c,l,r=t(11),o=t(14),b=t(19),y=t(62),I=t(74),N=t(25),O=t(126),R=r.location,W=r.setImmediate,e=r.clearImmediate,V=r.process,G=r.MessageChannel,Z=r.Dispatch,E=0,T={},h="onreadystatechange",n=function(m){if(T.hasOwnProperty(m)){var x=T[m];delete T[m],x()}},i=function(m){return function(){n(m)}},u=function(m){n(m.data)},f=function(m){r.postMessage(m+"",R.protocol+"//"+R.host)};(!W||!e)&&(W=function(x){for(var S=[],D=1;arguments.length>D;)S.push(arguments[D++]);return T[++E]=function(){("function"==typeof x?x:Function(x)).apply(void 0,S)},_(E),E},e=function(x){delete T[x]},"process"==b(V)?_=function(m){V.nextTick(i(m))}:Z&&Z.now?_=function(m){Z.now(i(m))}:G&&!O?(l=(c=new G).port2,c.port1.onmessage=u,_=y(l.postMessage,l,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||o(f)||"file:"===R.protocol?_=h in N("script")?function(m){I.appendChild(N("script"))[h]=function(){I.removeChild(this),n(m)}}:function(m){setTimeout(i(m),0)}:(_=f,r.addEventListener("message",u,!1))),F.exports={set:W,clear:e}},function(F,A,t){var r=t(127);F.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(F,A,t){var r=t(42);F.exports=r("navigator","userAgent")||""},function(F,A,t){var G,Z,E,T,h,_,c,l,r=t(11),o=t(12).f,b=t(19),y=t(125).set,I=t(126),N=r.MutationObserver||r.WebKitMutationObserver,O=r.process,R=r.Promise,W="process"==b(O),e=o(r,"queueMicrotask"),V=e&&e.value;V||(G=function(){var n,i;for(W&&(n=O.domain)&&n.exit();Z;){i=Z.fn,Z=Z.next;try{i()}catch(u){throw Z?T():E=void 0,u}}E=void 0,n&&n.enter()},W?T=function(){O.nextTick(G)}:N&&!I?(h=!0,_=document.createTextNode(""),new N(G).observe(_,{characterData:!0}),T=function(){_.data=h=!h}):R&&R.resolve?(c=R.resolve(void 0),l=c.then,T=function(){l.call(c,G)}):T=function(){y.call(r,G)}),F.exports=V||function(n){var i={fn:n,next:void 0};E&&(E.next=i),Z||(Z=i,T()),E=i}},function(F,A,t){var r=t(28),o=t(22),b=t(130);F.exports=function(y,I){if(r(y),o(I)&&I.constructor===y)return I;var N=b.f(y);return(0,N.resolve)(I),N.promise}},function(F,A,t){"use strict";var r=t(63),o=function(b){var y,I;this.promise=new b(function(N,O){if(void 0!==y||void 0!==I)throw TypeError("Bad Promise constructor");y=N,I=O}),this.resolve=r(y),this.reject=r(I)};F.exports.f=function(b){return new o(b)}},function(F,A,t){var r=t(11);F.exports=function(o,b){var y=r.console;y&&y.error&&(1===arguments.length?y.error(o):y.error(o,b))}},function(F,A){F.exports=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}}},function(F,A,t){var N,O,r=t(11),o=t(127),b=r.process,y=b&&b.versions,I=y&&y.v8;I?O=(N=I.split("."))[0]+N[1]:o&&(!(N=o.match(/Edge\/(\d+)/))||N[1]>=74)&&(N=o.match(/Chrome\/(\d+)/))&&(O=N[1]),F.exports=O&&+O},function(F,A,t){"use strict";var r=t(10),o=t(63),b=t(130),y=t(132),I=t(124);r({target:"Promise",stat:!0},{allSettled:function(O){var R=this,W=b.f(R),e=W.resolve,V=W.reject,G=y(function(){var Z=o(R.resolve),E=[],T=0,h=1;I(O,function(_){var c=T++,l=!1;E.push(void 0),h++,Z.call(R,_).then(function(n){l||(l=!0,E[c]={status:"fulfilled",value:n},--h||e(E))},function(n){l||(l=!0,E[c]={status:"rejected",reason:n},--h||e(E))})}),--h||e(E)});return G.error&&V(G.value),W.promise}})},function(F,A,t){"use strict";var r=t(10),o=t(37),b=t(120),y=t(14),I=t(42),N=t(112),O=t(129),R=t(29);r({target:"Promise",proto:!0,real:!0,forced:!!b&&y(function(){b.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var V=N(this,I("Promise")),G="function"==typeof e;return this.then(G?function(Z){return O(V,e()).then(function(){return Z})}:e,G?function(Z){return O(V,e()).then(function(){throw Z})}:e)}}),!o&&"function"==typeof b&&!b.prototype.finally&&R(b.prototype,"finally",I("Promise").prototype.finally)},function(F,A,t){t(137),t(142),t(140);var r=t(43);F.exports=r.URL},function(F,A,t){"use strict";t(77);var d,r=t(10),o=t(13),b=t(138),y=t(11),I=t(72),N=t(29),O=t(123),R=t(23),W=t(100),e=t(90),V=t(78).codeAt,G=t(139),Z=t(85),E=t(140),T=t(33),h=y.URL,_=E.URLSearchParams,c=E.getState,l=T.set,n=T.getterFor("URL"),i=Math.floor,u=Math.pow,m="Invalid scheme",x="Invalid host",S="Invalid port",D=/[A-Za-z]/,H=/[\d+-.A-Za-z]/,q=/\d/,te=/^(0x|0X)/,j=/^[0-7]+$/,Q=/^\d+$/,M=/^[\dA-Fa-f]+$/,k=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,g=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,p=/[\u0009\u000A\u000D]/g,v=function(le,Ee){var xe,Le,De;if("["==Ee.charAt(0)){if("]"!=Ee.charAt(Ee.length-1)||!(xe=J(Ee.slice(1,-1))))return x;le.host=xe}else if(ee(le)){if(Ee=G(Ee),k.test(Ee)||null===(xe=P(Ee)))return x;le.host=xe}else{if(L.test(Ee))return x;for(xe="",Le=e(Ee),De=0;De<Le.length;De++)xe+=U(Le[De],re);le.host=xe}},P=function(le){var xe,Le,De,Ke,We,ot,ut,Ee=le.split(".");if(Ee.length&&""==Ee[Ee.length-1]&&Ee.pop(),(xe=Ee.length)>4)return le;for(Le=[],De=0;De<xe;De++){if(""==(Ke=Ee[De]))return le;if(We=10,Ke.length>1&&"0"==Ke.charAt(0)&&(We=te.test(Ke)?16:8,Ke=Ke.slice(8==We?1:2)),""===Ke)ot=0;else{if(!(10==We?Q:8==We?j:M).test(Ke))return le;ot=parseInt(Ke,We)}Le.push(ot)}for(De=0;De<xe;De++)if(ot=Le[De],De==xe-1){if(ot>=u(256,5-xe))return null}else if(ot>255)return null;for(ut=Le.pop(),De=0;De<Le.length;De++)ut+=Le[De]*u(256,3-De);return ut},J=function(le){var Ke,We,ot,ut,ht,yt,Oe,Ee=[0,0,0,0,0,0,0,0],xe=0,Le=null,De=0,ct=function(){return le.charAt(De)};if(":"==ct()){if(":"!=le.charAt(1))return;De+=2,Le=++xe}for(;ct();){if(8==xe)return;if(":"!=ct()){for(Ke=We=0;We<4&&M.test(ct());)Ke=16*Ke+parseInt(ct(),16),De++,We++;if("."==ct()){if(0==We||(De-=We,xe>6))return;for(ot=0;ct();){if(ut=null,ot>0){if(!("."==ct()&&ot<4))return;De++}if(!q.test(ct()))return;for(;q.test(ct());){if(ht=parseInt(ct(),10),null===ut)ut=ht;else{if(0==ut)return;ut=10*ut+ht}if(ut>255)return;De++}Ee[xe]=256*Ee[xe]+ut,(2==++ot||4==ot)&&xe++}if(4!=ot)return;break}if(":"==ct()){if(De++,!ct())return}else if(ct())return;Ee[xe++]=Ke}else{if(null!==Le)return;De++,Le=++xe}}if(null!==Le)for(yt=xe-Le,xe=7;0!=xe&&yt>0;)Oe=Ee[xe],Ee[xe--]=Ee[Le+yt-1],Ee[Le+--yt]=Oe;else if(8!=xe)return;return Ee},ae=function(le){var Ee,xe,Le,De;if("number"==typeof le){for(Ee=[],xe=0;xe<4;xe++)Ee.unshift(le%256),le=i(le/256);return Ee.join(".")}if("object"==typeof le){for(Ee="",Le=function(le){for(var Ee=null,xe=1,Le=null,De=0,Ke=0;Ke<8;Ke++)0!==le[Ke]?(De>xe&&(Ee=Le,xe=De),Le=null,De=0):(null===Le&&(Le=Ke),++De);return De>xe&&(Ee=Le,xe=De),Ee}(le),xe=0;xe<8;xe++)De&&0===le[xe]||(De&&(De=!1),Le===xe?(Ee+=xe?":":"::",De=!0):(Ee+=le[xe].toString(16),xe<7&&(Ee+=":")));return"["+Ee+"]"}return le},re={},se=W({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=W({},se,{"#":1,"?":1,"{":1,"}":1}),$=W({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),U=function(le,Ee){var xe=V(le,0);return xe>32&&xe<127&&!R(Ee,le)?le:encodeURIComponent(le)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ee=function(le){return R(X,le.scheme)},ce=function(le){return""!=le.username||""!=le.password},de=function(le){return!le.host||le.cannotBeABaseURL||"file"==le.scheme},Ae=function(le,Ee){var xe;return 2==le.length&&D.test(le.charAt(0))&&(":"==(xe=le.charAt(1))||!Ee&&"|"==xe)},Te=function(le){var Ee;return le.length>1&&Ae(le.slice(0,2))&&(2==le.length||"/"===(Ee=le.charAt(2))||"\\"===Ee||"?"===Ee||"#"===Ee)},Pe=function(le){var Ee=le.path,xe=Ee.length;xe&&("file"!=le.scheme||1!=xe||!Ae(Ee[0],!0))&&Ee.pop()},ze=function(le){return"."===le||"%2e"===le.toLowerCase()},Be=function(le){return".."===(le=le.toLowerCase())||"%2e."===le||".%2e"===le||"%2e%2e"===le},Xe={},et={},Qe={},he={},ye={},ve={},ue={},pe={},Se={},Ie={},Re={},ke={},Fe={},Ne={},Ge={},$e={},it={},at={},me={},we={},fe={},be=function(le,Ee,xe,Le){var yt,Oe,ct,St,De=xe||Xe,Ke=0,We="",ot=!1,ut=!1,ht=!1;for(xe||(le.scheme="",le.username="",le.password="",le.host=null,le.port=null,le.path=[],le.query=null,le.fragment=null,le.cannotBeABaseURL=!1,Ee=Ee.replace(g,"")),Ee=Ee.replace(p,""),yt=e(Ee);Ke<=yt.length;){switch(Oe=yt[Ke],De){case Xe:if(!Oe||!D.test(Oe)){if(xe)return m;De=Qe;continue}We+=Oe.toLowerCase(),De=et;break;case et:if(Oe&&(H.test(Oe)||"+"==Oe||"-"==Oe||"."==Oe))We+=Oe.toLowerCase();else{if(":"!=Oe){if(xe)return m;We="",De=Qe,Ke=0;continue}if(xe&&(ee(le)!=R(X,We)||"file"==We&&(ce(le)||null!==le.port)||"file"==le.scheme&&!le.host))return;if(le.scheme=We,xe)return void(ee(le)&&X[le.scheme]==le.port&&(le.port=null));We="","file"==le.scheme?De=Ne:ee(le)&&Le&&Le.scheme==le.scheme?De=he:ee(le)?De=pe:"/"==yt[Ke+1]?(De=ye,Ke++):(le.cannotBeABaseURL=!0,le.path.push(""),De=me)}break;case Qe:if(!Le||Le.cannotBeABaseURL&&"#"!=Oe)return m;if(Le.cannotBeABaseURL&&"#"==Oe){le.scheme=Le.scheme,le.path=Le.path.slice(),le.query=Le.query,le.fragment="",le.cannotBeABaseURL=!0,De=fe;break}De="file"==Le.scheme?Ne:ve;continue;case he:if("/"!=Oe||"/"!=yt[Ke+1]){De=ve;continue}De=Se,Ke++;break;case ye:if("/"==Oe){De=Ie;break}De=at;continue;case ve:if(le.scheme=Le.scheme,Oe==d)le.username=Le.username,le.password=Le.password,le.host=Le.host,le.port=Le.port,le.path=Le.path.slice(),le.query=Le.query;else if("/"==Oe||"\\"==Oe&&ee(le))De=ue;else if("?"==Oe)le.username=Le.username,le.password=Le.password,le.host=Le.host,le.port=Le.port,le.path=Le.path.slice(),le.query="",De=we;else{if("#"!=Oe){le.username=Le.username,le.password=Le.password,le.host=Le.host,le.port=Le.port,le.path=Le.path.slice(),le.path.pop(),De=at;continue}le.username=Le.username,le.password=Le.password,le.host=Le.host,le.port=Le.port,le.path=Le.path.slice(),le.query=Le.query,le.fragment="",De=fe}break;case ue:if(!ee(le)||"/"!=Oe&&"\\"!=Oe){if("/"!=Oe){le.username=Le.username,le.password=Le.password,le.host=Le.host,le.port=Le.port,De=at;continue}De=Ie}else De=Se;break;case pe:if(De=Se,"/"!=Oe||"/"!=We.charAt(Ke+1))continue;Ke++;break;case Se:if("/"!=Oe&&"\\"!=Oe){De=Ie;continue}break;case Ie:if("@"==Oe){ot&&(We="%40"+We),ot=!0,ct=e(We);for(var Wt=0;Wt<ct.length;Wt++){var en=ct[Wt];if(":"!=en||ht){var Ut=U(en,$);ht?le.password+=Ut:le.username+=Ut}else ht=!0}We=""}else if(Oe==d||"/"==Oe||"?"==Oe||"#"==Oe||"\\"==Oe&&ee(le)){if(ot&&""==We)return"Invalid authority";Ke-=e(We).length+1,We="",De=Re}else We+=Oe;break;case Re:case ke:if(xe&&"file"==le.scheme){De=$e;continue}if(":"!=Oe||ut){if(Oe==d||"/"==Oe||"?"==Oe||"#"==Oe||"\\"==Oe&&ee(le)){if(ee(le)&&""==We)return x;if(xe&&""==We&&(ce(le)||null!==le.port))return;if(St=v(le,We))return St;if(We="",De=it,xe)return;continue}"["==Oe?ut=!0:"]"==Oe&&(ut=!1),We+=Oe}else{if(""==We)return x;if(St=v(le,We))return St;if(We="",De=Fe,xe==ke)return}break;case Fe:if(!q.test(Oe)){if(Oe==d||"/"==Oe||"?"==Oe||"#"==Oe||"\\"==Oe&&ee(le)||xe){if(""!=We){var zt=parseInt(We,10);if(zt>65535)return S;le.port=ee(le)&&zt===X[le.scheme]?null:zt,We=""}if(xe)return;De=it;continue}return S}We+=Oe;break;case Ne:if(le.scheme="file","/"==Oe||"\\"==Oe)De=Ge;else{if(!Le||"file"!=Le.scheme){De=at;continue}if(Oe==d)le.host=Le.host,le.path=Le.path.slice(),le.query=Le.query;else if("?"==Oe)le.host=Le.host,le.path=Le.path.slice(),le.query="",De=we;else{if("#"!=Oe){Te(yt.slice(Ke).join(""))||(le.host=Le.host,le.path=Le.path.slice(),Pe(le)),De=at;continue}le.host=Le.host,le.path=Le.path.slice(),le.query=Le.query,le.fragment="",De=fe}}break;case Ge:if("/"==Oe||"\\"==Oe){De=$e;break}Le&&"file"==Le.scheme&&!Te(yt.slice(Ke).join(""))&&(Ae(Le.path[0],!0)?le.path.push(Le.path[0]):le.host=Le.host),De=at;continue;case $e:if(Oe==d||"/"==Oe||"\\"==Oe||"?"==Oe||"#"==Oe){if(!xe&&Ae(We))De=at;else if(""==We){if(le.host="",xe)return;De=it}else{if(St=v(le,We))return St;if("localhost"==le.host&&(le.host=""),xe)return;We="",De=it}continue}We+=Oe;break;case it:if(ee(le)){if(De=at,"/"!=Oe&&"\\"!=Oe)continue}else if(xe||"?"!=Oe)if(xe||"#"!=Oe){if(Oe!=d&&(De=at,"/"!=Oe))continue}else le.fragment="",De=fe;else le.query="",De=we;break;case at:if(Oe==d||"/"==Oe||"\\"==Oe&&ee(le)||!xe&&("?"==Oe||"#"==Oe)){if(Be(We)?(Pe(le),"/"!=Oe&&!("\\"==Oe&&ee(le))&&le.path.push("")):ze(We)?"/"!=Oe&&!("\\"==Oe&&ee(le))&&le.path.push(""):("file"==le.scheme&&!le.path.length&&Ae(We)&&(le.host&&(le.host=""),We=We.charAt(0)+":"),le.path.push(We)),We="","file"==le.scheme&&(Oe==d||"?"==Oe||"#"==Oe))for(;le.path.length>1&&""===le.path[0];)le.path.shift();"?"==Oe?(le.query="",De=we):"#"==Oe&&(le.fragment="",De=fe)}else We+=U(Oe,Y);break;case me:"?"==Oe?(le.query="",De=we):"#"==Oe?(le.fragment="",De=fe):Oe!=d&&(le.path[0]+=U(Oe,re));break;case we:xe||"#"!=Oe?Oe!=d&&("'"==Oe&&ee(le)?le.query+="%27":le.query+="#"==Oe?"%23":U(Oe,re)):(le.fragment="",De=fe);break;case fe:Oe!=d&&(le.fragment+=U(Oe,se))}Ke++}},Ze=function(Ee){var We,ot,xe=O(this,Ze,"URL"),Le=arguments.length>1?arguments[1]:void 0,De=String(Ee),Ke=l(xe,{type:"URL"});if(void 0!==Le)if(Le instanceof Ze)We=n(Le);else if(ot=be(We={},String(Le)))throw TypeError(ot);if(ot=be(Ke,De,null,We))throw TypeError(ot);var ut=Ke.searchParams=new _,ht=c(ut);ht.updateSearchParams(Ke.query),ht.updateURL=function(){Ke.query=String(ut)||null},o||(xe.href=nt.call(xe),xe.origin=tt.call(xe),xe.protocol=st.call(xe),xe.username=_t.call(xe),xe.password=Pt.call(xe),xe.host=Tt.call(xe),xe.hostname=At.call(xe),xe.port=gt.call(xe),xe.pathname=pt.call(xe),xe.search=Je.call(xe),xe.searchParams=Rt.call(xe),xe.hash=wt.call(xe))},je=Ze.prototype,nt=function(){var le=n(this),Ee=le.scheme,xe=le.username,Le=le.password,De=le.host,Ke=le.port,We=le.path,ot=le.query,ut=le.fragment,ht=Ee+":";return null!==De?(ht+="//",ce(le)&&(ht+=xe+(Le?":"+Le:"")+"@"),ht+=ae(De),null!==Ke&&(ht+=":"+Ke)):"file"==Ee&&(ht+="//"),ht+=le.cannotBeABaseURL?We[0]:We.length?"/"+We.join("/"):"",null!==ot&&(ht+="?"+ot),null!==ut&&(ht+="#"+ut),ht},tt=function(){var le=n(this),Ee=le.scheme,xe=le.port;if("blob"==Ee)try{return new URL(Ee.path[0]).origin}catch(Le){return"null"}return"file"!=Ee&&ee(le)?Ee+"://"+ae(le.host)+(null!==xe?":"+xe:""):"null"},st=function(){return n(this).scheme+":"},_t=function(){return n(this).username},Pt=function(){return n(this).password},Tt=function(){var le=n(this),Ee=le.host,xe=le.port;return null===Ee?"":null===xe?ae(Ee):ae(Ee)+":"+xe},At=function(){var le=n(this).host;return null===le?"":ae(le)},gt=function(){var le=n(this).port;return null===le?"":String(le)},pt=function(){var le=n(this),Ee=le.path;return le.cannotBeABaseURL?Ee[0]:Ee.length?"/"+Ee.join("/"):""},Je=function(){var le=n(this).query;return le?"?"+le:""},Rt=function(){return n(this).searchParams},wt=function(){var le=n(this).fragment;return le?"#"+le:""},Ct=function(le,Ee){return{get:le,set:Ee,configurable:!0,enumerable:!0}};if(o&&I(je,{href:Ct(nt,function(le){var Ee=n(this),xe=String(le),Le=be(Ee,xe);if(Le)throw TypeError(Le);c(Ee.searchParams).updateSearchParams(Ee.query)}),origin:Ct(tt),protocol:Ct(st,function(le){var Ee=n(this);be(Ee,String(le)+":",Xe)}),username:Ct(_t,function(le){var Ee=n(this),xe=e(String(le));if(!de(Ee)){Ee.username="";for(var Le=0;Le<xe.length;Le++)Ee.username+=U(xe[Le],$)}}),password:Ct(Pt,function(le){var Ee=n(this),xe=e(String(le));if(!de(Ee)){Ee.password="";for(var Le=0;Le<xe.length;Le++)Ee.password+=U(xe[Le],$)}}),host:Ct(Tt,function(le){var Ee=n(this);Ee.cannotBeABaseURL||be(Ee,String(le),Re)}),hostname:Ct(At,function(le){var Ee=n(this);Ee.cannotBeABaseURL||be(Ee,String(le),ke)}),port:Ct(gt,function(le){var Ee=n(this);de(Ee)||(""==(le=String(le))?Ee.port=null:be(Ee,le,Fe))}),pathname:Ct(pt,function(le){var Ee=n(this);Ee.cannotBeABaseURL||(Ee.path=[],be(Ee,le+"",it))}),search:Ct(Je,function(le){var Ee=n(this);""==(le=String(le))?Ee.query=null:("?"==le.charAt(0)&&(le=le.slice(1)),Ee.query="",be(Ee,le,we)),c(Ee.searchParams).updateSearchParams(Ee.query)}),searchParams:Ct(Rt),hash:Ct(wt,function(le){var Ee=n(this);""!=(le=String(le))?("#"==le.charAt(0)&&(le=le.slice(1)),Ee.fragment="",be(Ee,le,fe)):Ee.fragment=null})}),N(je,"toJSON",function(){return nt.call(this)},{enumerable:!0}),N(je,"toString",function(){return nt.call(this)},{enumerable:!0}),h){var $t=h.createObjectURL,Gt=h.revokeObjectURL;$t&&N(Ze,"createObjectURL",function(Ee){return $t.apply(h,arguments)}),Gt&&N(Ze,"revokeObjectURL",function(Ee){return Gt.apply(h,arguments)})}Z(Ze,"URL"),r({global:!0,forced:!b,sham:!o},{URL:Ze})},function(F,A,t){var r=t(14),o=t(57),b=t(37),y=o("iterator");F.exports=!r(function(){var I=new URL("b?a=1&b=2&c=3","http://a"),N=I.searchParams,O="";return I.pathname="c%20d",N.forEach(function(R,W){N.delete("b"),O+=W+R}),b&&!I.toJSON||!N.sort||"http://a/c%20d?a=1&c=3"!==I.href||"3"!==N.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!N[y]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==O||"x"!==new URL("http://x",void 0).host})},function(F,A,t){"use strict";var r=2147483647,e=/[^\0-\u007E]/,V=/[.\u3002\uFF0E\uFF61]/g,G="Overflow: input needs wider integers to process",E=Math.floor,T=String.fromCharCode,_=function(n){return n+22+75*(n<26)},c=function(n,i,u){var f=0;for(n=u?E(n/700):n>>1,n+=E(n/i);n>455;f+=36)n=E(n/35);return E(f+36*n/(n+38))},l=function(n){var i=[];n=function(n){for(var i=[],u=0,f=n.length;u<f;){var m=n.charCodeAt(u++);if(m>=55296&&m<=56319&&u<f){var x=n.charCodeAt(u++);56320==(64512&x)?i.push(((1023&m)<<10)+(1023&x)+65536):(i.push(m),u--)}else i.push(m)}return i}(n);var S,D,u=n.length,f=128,m=0,x=72;for(S=0;S<n.length;S++)(D=n[S])<128&&i.push(T(D));var H=i.length,q=H;for(H&&i.push("-");q<u;){var te=r;for(S=0;S<n.length;S++)(D=n[S])>=f&&D<te&&(te=D);var j=q+1;if(te-f>E((r-m)/j))throw RangeError(G);for(m+=(te-f)*j,f=te,S=0;S<n.length;S++){if((D=n[S])<f&&++m>r)throw RangeError(G);if(D==f){for(var Q=m,M=36;;M+=36){var k=M<=x?1:M>=x+26?26:M-x;if(Q<k)break;var L=Q-k,g=36-k;i.push(T(_(k+L%g))),Q=E(L/g)}i.push(T(_(Q))),x=c(m,j,q==H),m=0,++q}}++m,++f}return i.join("")};F.exports=function(n){var f,m,i=[],u=n.toLowerCase().replace(V,".").split(".");for(f=0;f<u.length;f++)i.push(e.test(m=u[f])?"xn--"+l(m):m);return i.join(".")}},function(F,A,t){"use strict";t(118);var r=t(10),o=t(42),b=t(138),y=t(29),I=t(121),N=t(85),O=t(80),R=t(33),W=t(123),e=t(23),V=t(62),G=t(95),Z=t(28),E=t(22),T=t(71),h=t(16),_=t(141),c=t(94),l=t(57),n=o("fetch"),i=o("Headers"),u=l("iterator"),f="URLSearchParams",m=f+"Iterator",x=R.set,S=R.getterFor(f),D=R.getterFor(m),H=/\+/g,q=Array(4),te=function(ae){return q[ae-1]||(q[ae-1]=RegExp("((?:%[\\da-f]{2}){"+ae+"})","gi"))},j=function(ae){try{return decodeURIComponent(ae)}catch(re){return ae}},Q=function(ae){var re=ae.replace(H," "),se=4;try{return decodeURIComponent(re)}catch(Y){for(;se;)re=re.replace(te(se--),j);return re}},M=/[!'()~]|%20/g,k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(ae){return k[ae]},g=function(ae){return encodeURIComponent(ae).replace(M,L)},p=function(ae,re){if(re)for(var $,U,se=re.split("&"),Y=0;Y<se.length;)($=se[Y++]).length&&(U=$.split("="),ae.push({key:Q(U.shift()),value:Q(U.join("="))}))},d=function(ae){this.entries.length=0,p(this.entries,ae)},v=function(ae,re){if(ae<re)throw TypeError("Not enough arguments")},P=O(function(re,se){x(this,{type:m,iterator:_(S(re).entries),kind:se})},"Iterator",function(){var re=D(this),se=re.kind,Y=re.iterator.next(),$=Y.value;return Y.done||(Y.value="keys"===se?$.key:"values"===se?$.value:[$.key,$.value]),Y}),J=function(){W(this,J,f);var $,U,X,ee,ce,de,Ae,Te,Pe,re=arguments.length>0?arguments[0]:void 0,se=this,Y=[];if(x(se,{type:f,entries:Y,updateURL:function(){},updateSearchParams:d}),void 0!==re)if(E(re))if("function"==typeof($=c(re)))for(X=(U=$.call(re)).next;!(ee=X.call(U)).done;){if((Ae=(de=(ce=_(Z(ee.value))).next).call(ce)).done||(Te=de.call(ce)).done||!de.call(ce).done)throw TypeError("Expected sequence with length 2");Y.push({key:Ae.value+"",value:Te.value+""})}else for(Pe in re)e(re,Pe)&&Y.push({key:Pe,value:re[Pe]+""});else p(Y,"string"==typeof re?"?"===re.charAt(0)?re.slice(1):re:re+"")},ie=J.prototype;I(ie,{append:function(re,se){v(arguments.length,2);var Y=S(this);Y.entries.push({key:re+"",value:se+""}),Y.updateURL()},delete:function(ae){v(arguments.length,1);for(var re=S(this),se=re.entries,Y=ae+"",$=0;$<se.length;)se[$].key===Y?se.splice($,1):$++;re.updateURL()},get:function(re){v(arguments.length,1);for(var se=S(this).entries,Y=re+"",$=0;$<se.length;$++)if(se[$].key===Y)return se[$].value;return null},getAll:function(re){v(arguments.length,1);for(var se=S(this).entries,Y=re+"",$=[],U=0;U<se.length;U++)se[U].key===Y&&$.push(se[U].value);return $},has:function(re){v(arguments.length,1);for(var se=S(this).entries,Y=re+"",$=0;$<se.length;)if(se[$++].key===Y)return!0;return!1},set:function(re,se){v(arguments.length,1);for(var de,Y=S(this),$=Y.entries,U=!1,X=re+"",ee=se+"",ce=0;ce<$.length;ce++)(de=$[ce]).key===X&&(U?$.splice(ce--,1):(U=!0,de.value=ee));U||$.push({key:X,value:ee}),Y.updateURL()},sort:function(){var $,U,X,re=S(this),se=re.entries,Y=se.slice();for(se.length=0,X=0;X<Y.length;X++){for($=Y[X],U=0;U<X;U++)if(se[U].key>$.key){se.splice(U,0,$);break}U===X&&se.push($)}re.updateURL()},forEach:function(re){for(var U,se=S(this).entries,Y=V(re,arguments.length>1?arguments[1]:void 0,3),$=0;$<se.length;)Y((U=se[$++]).value,U.key,this)},keys:function(){return new P(this,"keys")},values:function(){return new P(this,"values")},entries:function(){return new P(this,"entries")}},{enumerable:!0}),y(ie,u,ie.entries),y(ie,"toString",function(){for(var $,re=S(this).entries,se=[],Y=0;Y<re.length;)$=re[Y++],se.push(g($.key)+"="+g($.value));return se.join("&")},{enumerable:!0}),N(J,f),r({global:!0,forced:!b},{URLSearchParams:J}),!b&&"function"==typeof n&&"function"==typeof i&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(re){var Y,$,U,se=[re];return arguments.length>1&&(E(Y=arguments[1])&&G($=Y.body)===f&&((U=Y.headers?new i(Y.headers):new i).has("content-type")||U.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Y=T(Y,{body:h(0,String($)),headers:h(0,U)})),se.push(Y)),n.apply(this,se)}}),F.exports={URLSearchParams:J,getState:S}},function(F,A,t){var r=t(28),o=t(94);F.exports=function(b){var y=o(b);if("function"!=typeof y)throw TypeError(String(b)+" is not iterable");return r(y.call(b))}},function(F,A,t){"use strict";t(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(F,A,t){!function(r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(s){return"Symbol("+s+")"};function b(){}var y=Number.isNaN||function(s){return s!=s},I=b;function N(s){return"object"==typeof s&&null!==s||"function"==typeof s}function O(s){return s.slice()}function R(s,w,ne,ge,_e){new Uint8Array(s).set(new Uint8Array(ne,ge,_e),w)}function W(s){return!(!1===function(s){return!("number"!=typeof s||y(s)||s<0)}(s)||s===1/0)}function V(s,w,ne){if("function"!=typeof s)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(s,w,ne)}function G(s,w,ne,ge){var _e=s[w];if(void 0!==_e){if("function"!=typeof _e)throw new TypeError(_e+" is not a method");switch(ne){case 0:return function(){return E(_e,s,ge)};case 1:return function(Me){var Ue=[Me].concat(ge);return E(_e,s,Ue)}}}return function(){return m(void 0)}}function Z(s,w,ne){var ge=s[w];if(void 0!==ge)return V(ge,s,ne)}function E(s,w,ne){try{return m(V(s,w,ne))}catch(ge){return x(ge)}}function _(s){if(s=Number(s),y(s)||s<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return s}function c(s){if(void 0===s)return function(){return 1};if("function"!=typeof s)throw new TypeError("size property of a queuing strategy must be a function");return function(w){return s(w)}}var l=Promise,n=Promise.prototype.then,i=Promise.resolve.bind(l),u=Promise.reject.bind(l);function f(s){return new l(s)}function m(s){return i(s)}function x(s){return u(s)}function S(s,w,ne){return n.call(s,w,ne)}function D(s,w,ne){S(S(s,w,ne),void 0,I)}function H(s,w){D(s,w)}function q(s,w){D(s,void 0,w)}function te(s,w,ne){return S(s,w,ne)}function j(s){S(s,void 0,I)}var M=function(){function s(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(s.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),s.prototype.push=function(w){var ne=this._back,ge=ne;16383===ne._elements.length&&(ge={_elements:[],_next:void 0}),ne._elements.push(w),ge!==ne&&(this._back=ge,ne._next=ge),++this._size},s.prototype.shift=function(){var w=this._front,ne=w,ge=this._cursor,_e=ge+1,Me=w._elements,Ue=Me[ge];return 16384===_e&&(ne=w._next,_e=0),--this._size,this._cursor=_e,w!==ne&&(this._front=ne),Me[ge]=void 0,Ue},s.prototype.forEach=function(w){for(var ne=this._cursor,ge=this._front,_e=ge._elements;!(ne===_e.length&&void 0===ge._next||ne===_e.length&&(ge=ge._next,_e=ge._elements,ne=0,0===_e.length));)w(_e[ne]),++ne},s.prototype.peek=function(){return this._front._elements[this._cursor]},s}();function k(s,w,ne){var ge=null;!0===ne&&(ge=Object.prototype);var _e=Object.create(ge);return _e.value=s,_e.done=w,_e}function L(s,w){s._forAuthorCode=!0,s._ownerReadableStream=w,w._reader=s,"readable"===w._state?v(s):"closed"===w._state?function(s){v(s),re(s)}(s):P(s,w._storedError)}function g(s,w){return Ft(s._ownerReadableStream,w)}function p(s){"readable"===s._ownerReadableStream._state?ie(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(s,w){P(s,w)}(s,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),s._ownerReadableStream._reader=void 0,s._ownerReadableStream=void 0}function d(s){return new TypeError("Cannot "+s+" a stream using a released reader")}function v(s){s._closedPromise=f(function(w,ne){s._closedPromise_resolve=w,s._closedPromise_reject=ne})}function P(s,w){v(s),ie(s,w)}function ie(s,w){j(s._closedPromise),s._closedPromise_reject(w),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0}function re(s){s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0}var se=o("[[CancelSteps]]"),Y=o("[[PullSteps]]");function $(s,w){void 0===w&&(w=!1);var ne=new de(s);return ne._forAuthorCode=w,ne}function U(s){return f(function(ne,ge){s._reader._readRequests.push({_resolve:ne,_reject:ge})})}function X(s,w,ne){var ge=s._reader;ge._readRequests.shift()._resolve(k(w,ne,ge._forAuthorCode))}function ee(s){return s._reader._readRequests.length}function ce(s){var w=s._reader;return!(void 0===w||!Ae(w))}var ze,Be,de=function(){function s(w){if(!1===Et(w))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Lt(w))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,w),this._readRequests=new M}return Object.defineProperty(s.prototype,"closed",{get:function(){return Ae(this)?this._closedPromise:x(Pe("closed"))},enumerable:!0,configurable:!0}),s.prototype.cancel=function(w){return Ae(this)?void 0===this._ownerReadableStream?x(d("cancel")):g(this,w):x(Pe("cancel"))},s.prototype.read=function(){return Ae(this)?void 0===this._ownerReadableStream?x(d("read from")):Te(this):x(Pe("read"))},s.prototype.releaseLock=function(){if(!Ae(this))throw Pe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");p(this)}},s}();function Ae(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_readRequests"))}function Te(s){var w=s._ownerReadableStream;return w._disturbed=!0,"closed"===w._state?m(k(void 0,!0,s._forAuthorCode)):"errored"===w._state?x(w._storedError):w._readableStreamController[Y]()}function Pe(s){return new TypeError("ReadableStreamDefaultReader.prototype."+s+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof o.asyncIterator&&((ze={})[o.asyncIterator]=function(){return this},Be=ze,Object.defineProperty(Be,o.asyncIterator,{enumerable:!1}));var Xe={next:function(){if(!1===Qe(this))return x(he("next"));var s=this._asyncIteratorReader;return void 0===s._ownerReadableStream?x(d("iterate")):te(Te(s),function(w){var ne=w.done;return ne&&p(s),k(w.value,ne,!0)})},return:function(s){if(!1===Qe(this))return x(he("next"));var w=this._asyncIteratorReader;if(void 0===w._ownerReadableStream)return x(d("finish iterating"));if(w._readRequests.length>0)return x(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var ne=g(w,s);return p(w),te(ne,function(){return k(s,!0,!0)})}return p(w),m(k(s,!0,!0))}};function Qe(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_asyncIteratorReader"))}function he(s){return new TypeError("ReadableStreamAsyncIterator."+s+" can only be used on a ReadableSteamAsyncIterator")}function ye(s){var w=s._queue.shift();return s._queueTotalSize-=w.size,s._queueTotalSize<0&&(s._queueTotalSize=0),w.value}function ve(s,w,ne){if(!W(ne=Number(ne)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");s._queue.push({value:w,size:ne}),s._queueTotalSize+=ne}function pe(s){s._queue=new M,s._queueTotalSize=0}void 0!==Be&&Object.setPrototypeOf(Xe,Be),Object.defineProperty(Xe,"next",{enumerable:!1}),Object.defineProperty(Xe,"return",{enumerable:!1});var Se=o("[[AbortSteps]]"),Ie=o("[[ErrorSteps]]"),Re=function(){function s(w,ne){void 0===w&&(w={}),void 0===ne&&(ne={}),Ne(this);var ge=ne.size,_e=ne.highWaterMark;if(void 0!==w.type)throw new RangeError("Invalid type is specified");var Ue=c(ge);void 0===_e&&(_e=1),function(s,w,ne,ge){var _e=Object.create(Le.prototype);function Me(){return Z(w,"start",[_e])}var Ue=G(w,"write",1,[_e]),qe=G(w,"close",0,[]),rt=G(w,"abort",1,[]);Ke(s,_e,Me,Ue,qe,rt,ne,ge)}(this,w,_e=_(_e),Ue)}return Object.defineProperty(s.prototype,"locked",{get:function(){if(!1===Ge(this))throw tn("locked");return $e(this)},enumerable:!0,configurable:!0}),s.prototype.abort=function(w){return!1===Ge(this)?x(tn("abort")):!0===$e(this)?x(new TypeError("Cannot abort a stream that already has a writer")):it(this,w)},s.prototype.close=function(){return!1===Ge(this)?x(tn("close")):!0===$e(this)?x(new TypeError("Cannot close a stream that already has a writer")):!0===st(this)?x(new TypeError("Cannot close an already-closing stream")):at(this)},s.prototype.getWriter=function(){if(!1===Ge(this))throw tn("getWriter");return ke(this)},s}();function ke(s){return new pt(s)}function Ne(s){s._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new M,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1}function Ge(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_writableStreamController"))}function $e(s){return void 0!==s._writer}function it(s,w){var ne=s._state;if("closed"===ne||"errored"===ne)return m(void 0);if(void 0!==s._pendingAbortRequest)return s._pendingAbortRequest._promise;var ge=!1;"erroring"===ne&&(ge=!0,w=void 0);var _e=f(function(Me,Ue){s._pendingAbortRequest={_promise:void 0,_resolve:Me,_reject:Ue,_reason:w,_wasAlreadyErroring:ge}});return s._pendingAbortRequest._promise=_e,!1===ge&&fe(s,w),_e}function at(s){var w=s._state;if("closed"===w||"errored"===w)return x(new TypeError("The stream (in "+w+" state) is not in the writable state and cannot be closed"));var ne=f(function(_e,Me){s._closeRequest={_resolve:_e,_reject:Me}}),ge=s._writer;return void 0!==ge&&!0===s._backpressure&&"writable"===w&&Sn(ge),function(s){ve(s,"close",0),ct(s)}(s._writableStreamController),ne}function we(s,w){"writable"!==s._state?be(s):fe(s,w)}function fe(s,w){var ne=s._writableStreamController;s._state="erroring",s._storedError=w;var ge=s._writer;void 0!==ge&&Gt(ge,w),!1===function(s){return!(void 0===s._inFlightWriteRequest&&void 0===s._inFlightCloseRequest)}(s)&&!0===ne._started&&be(s)}function be(s){s._state="errored",s._writableStreamController[Ie]();var w=s._storedError;if(s._writeRequests.forEach(function(_e){_e._reject(w)}),s._writeRequests=new M,void 0!==s._pendingAbortRequest){var ne=s._pendingAbortRequest;if(s._pendingAbortRequest=void 0,!0===ne._wasAlreadyErroring)return ne._reject(w),void At(s);D(s._writableStreamController[Se](ne._reason),function(){ne._resolve(),At(s)},function(_e){ne._reject(_e),At(s)})}else At(s)}function st(s){return!(void 0===s._closeRequest&&void 0===s._inFlightCloseRequest)}function At(s){void 0!==s._closeRequest&&(s._closeRequest._reject(s._storedError),s._closeRequest=void 0);var w=s._writer;void 0!==w&&An(w,s._storedError)}function gt(s,w){var ne=s._writer;void 0!==ne&&w!==s._backpressure&&(!0===w?function(s){rn(s)}(ne):Sn(ne)),s._backpressure=w}var pt=function(){function s(w){if(!1===Ge(w))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===$e(w))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=w,w._writer=this;var ne=w._state;if("writable"===ne)!1===st(w)&&!0===w._backpressure?rn(this):Mn(this),nn(this);else if("erroring"===ne)Cn(this,w._storedError),nn(this);else if("closed"===ne)Mn(this),function(s){nn(s),Dn(s)}(this);else{var ge=w._storedError;Cn(this,ge),On(this,ge)}}return Object.defineProperty(s.prototype,"closed",{get:function(){return!1===Je(this)?x(Ot("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!1===Je(this))throw Ot("desiredSize");if(void 0===this._ownerWritableStream)throw Vt("desiredSize");return function(s){var w=s._ownerWritableStream,ne=w._state;return"errored"===ne||"erroring"===ne?null:"closed"===ne?0:yt(w._writableStreamController)}(this)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ready",{get:function(){return!1===Je(this)?x(Ot("ready")):this._readyPromise},enumerable:!0,configurable:!0}),s.prototype.abort=function(w){return!1===Je(this)?x(Ot("abort")):void 0===this._ownerWritableStream?x(Vt("abort")):function(s,w){return it(s._ownerWritableStream,w)}(this,w)},s.prototype.close=function(){if(!1===Je(this))return x(Ot("close"));var w=this._ownerWritableStream;return void 0===w?x(Vt("close")):!0===st(w)?x(new TypeError("Cannot close an already-closing stream")):wt(this)},s.prototype.releaseLock=function(){if(!1===Je(this))throw Ot("releaseLock");void 0!==this._ownerWritableStream&&Ee(this)},s.prototype.write=function(w){return!1===Je(this)?x(Ot("write")):void 0===this._ownerWritableStream?x(Vt("write to")):xe(this,w)},s}();function Je(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_ownerWritableStream"))}function wt(s){return at(s._ownerWritableStream)}function $t(s,w){"pending"===s._closedPromiseState?An(s,w):function(s,w){On(s,w)}(s,w)}function Gt(s,w){"pending"===s._readyPromiseState?Fn(s,w):function(s,w){Cn(s,w)}(s,w)}function Ee(s){var w=s._ownerWritableStream,ne=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Gt(s,ne),$t(s,ne),w._writer=void 0,s._ownerWritableStream=void 0}function xe(s,w){var ne=s._ownerWritableStream,ge=ne._writableStreamController,_e=function(s,w){try{return s._strategySizeAlgorithm(w)}catch(ne){return St(s,ne),1}}(ge,w);if(ne!==s._ownerWritableStream)return x(Vt("write to"));var Me=ne._state;if("errored"===Me)return x(ne._storedError);if(!0===st(ne)||"closed"===Me)return x(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===Me)return x(ne._storedError);var Ue=function(s){return f(function(ne,ge){s._writeRequests.push({_resolve:ne,_reject:ge})})}(ne);return function(s,w,ne){var ge={chunk:w};try{ve(s,ge,ne)}catch(Ue){return void St(s,Ue)}var _e=s._controlledWritableStream;!1===st(_e)&&"writable"===_e._state&&gt(_e,Ut(s)),ct(s)}(ge,w,_e),Ue}var Le=function(){function s(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return s.prototype.error=function(w){if(!1===function(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&zt(this,w)},s.prototype[Se]=function(w){var ne=this._abortAlgorithm(w);return ot(this),ne},s.prototype[Ie]=function(){pe(this)},s}();function Ke(s,w,ne,ge,_e,Me,Ue,qe){w._controlledWritableStream=s,s._writableStreamController=w,w._queue=void 0,w._queueTotalSize=void 0,pe(w),w._started=!1,w._strategySizeAlgorithm=qe,w._strategyHWM=Ue,w._writeAlgorithm=ge,w._closeAlgorithm=_e,w._abortAlgorithm=Me;var rt=Ut(w);gt(s,rt),D(m(ne()),function(){w._started=!0,ct(w)},function(vt){w._started=!0,we(s,vt)})}function ot(s){s._writeAlgorithm=void 0,s._closeAlgorithm=void 0,s._abortAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function yt(s){return s._strategyHWM-s._queueTotalSize}function ct(s){var w=s._controlledWritableStream;if(!1!==s._started&&void 0===w._inFlightWriteRequest){if("erroring"===w._state)return void be(w);if(0!==s._queue.length){var ge=function(s){return s._queue.peek().value}(s);"close"===ge?function(s){var w=s._controlledWritableStream;(function(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0})(w),ye(s);var ne=s._closeAlgorithm();ot(s),D(ne,function(){!function(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,"erroring"===s._state&&(s._storedError=void 0,void 0!==s._pendingAbortRequest&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";var ne=s._writer;void 0!==ne&&Dn(ne)}(w)},function(ge){!function(s,w){s._inFlightCloseRequest._reject(w),s._inFlightCloseRequest=void 0,void 0!==s._pendingAbortRequest&&(s._pendingAbortRequest._reject(w),s._pendingAbortRequest=void 0),we(s,w)}(w,ge)})}(s):function(s,w){var ne=s._controlledWritableStream;(function(s){s._inFlightWriteRequest=s._writeRequests.shift()})(ne),D(s._writeAlgorithm(w),function(){!function(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0}(ne);var _e=ne._state;if(ye(s),!1===st(ne)&&"writable"===_e){var Me=Ut(s);gt(ne,Me)}ct(s)},function(_e){"writable"===ne._state&&ot(s),function(s,w){s._inFlightWriteRequest._reject(w),s._inFlightWriteRequest=void 0,we(s,w)}(ne,_e)})}(s,ge.chunk)}}}function St(s,w){"writable"===s._controlledWritableStream._state&&zt(s,w)}function Ut(s){return yt(s)<=0}function zt(s,w){var ne=s._controlledWritableStream;ot(s),fe(ne,w)}function tn(s){return new TypeError("WritableStream.prototype."+s+" can only be used on a WritableStream")}function Ot(s){return new TypeError("WritableStreamDefaultWriter.prototype."+s+" can only be used on a WritableStreamDefaultWriter")}function Vt(s){return new TypeError("Cannot "+s+" a stream using a released writer")}function nn(s){s._closedPromise=f(function(w,ne){s._closedPromise_resolve=w,s._closedPromise_reject=ne,s._closedPromiseState="pending"})}function On(s,w){nn(s),An(s,w)}function An(s,w){j(s._closedPromise),s._closedPromise_reject(w),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="rejected"}function Dn(s){s._closedPromise_resolve(void 0),s._closedPromise_resolve=void 0,s._closedPromise_reject=void 0,s._closedPromiseState="resolved"}function rn(s){s._readyPromise=f(function(w,ne){s._readyPromise_resolve=w,s._readyPromise_reject=ne}),s._readyPromiseState="pending"}function Cn(s,w){rn(s),Fn(s,w)}function Mn(s){rn(s),Sn(s)}function Fn(s,w){j(s._readyPromise),s._readyPromise_reject(w),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="rejected"}function Sn(s){s._readyPromise_resolve(void 0),s._readyPromise_resolve=void 0,s._readyPromise_reject=void 0,s._readyPromiseState="fulfilled"}function Nn(s){if("object"!=typeof s||null===s)return!1;try{return"boolean"==typeof s.aborted}catch(w){return!1}}var Un="undefined"!=typeof DOMException?DOMException:void 0;var s,cr=function(s){if("function"!=typeof s&&"object"!=typeof s)return!1;try{return new s,!0}catch(w){return!1}}(Un)?Un:((s=function(ne,ge){this.message=ne||"",this.name=ge||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(s.prototype,"constructor",{value:s,writable:!0,configurable:!0}),s);function zn(s,w,ne,ge,_e,Me){var Ue=$(s),qe=ke(w);s._disturbed=!0;var rt=!1,lt=m(void 0);return f(function(dt,vt){var mt,Ye,ft;if(void 0!==Me){if(mt=function(){var He=new cr("Aborted","AbortError"),Ye=[];!1===ge&&Ye.push(function(){return"writable"===w._state?it(w,He):m(void 0)}),!1===_e&&Ye.push(function(){return"readable"===s._state?Ft(s,He):m(void 0)}),oe(function(){return Promise.all(Ye.map(function(ft){return ft()}))},!0,He)},!0===Me.aborted)return void mt();Me.addEventListener("abort",mt)}if(C(s,Ue._closedPromise,function(He){!1===ge?oe(function(){return it(w,He)},!0,He):Ce(!0,He)}),C(w,qe._closedPromise,function(He){!1===_e?oe(function(){return Ft(s,He)},!0,He):Ce(!0,He)}),Ye=Ue._closedPromise,ft=function(){!1===ne?oe(function(){return function(s){var w=s._ownerWritableStream,ne=w._state;return!0===st(w)||"closed"===ne?m(void 0):"errored"===ne?x(w._storedError):wt(s)}(qe)}):Ce()},"closed"===s._state?ft():H(Ye,ft),!0===st(w)||"closed"===w._state){var K=new TypeError("the destination writable stream closed before all data could be piped to it");!1===_e?oe(function(){return Ft(s,K)},!0,K):Ce(!0,K)}function a(){var He=lt;return S(lt,function(){return He!==lt?a():void 0})}function C(He,Ye,ft){"errored"===He._state?ft(He._storedError):q(Ye,ft)}function oe(He,Ye,ft){function kt(){D(He(),function(){return Ve(Ye,ft)},function(bt){return Ve(!0,bt)})}!0!==rt&&(rt=!0,"writable"===w._state&&!1===st(w)?H(a(),kt):kt())}function Ce(He,Ye){!0!==rt&&(rt=!0,"writable"===w._state&&!1===st(w)?H(a(),function(){return Ve(He,Ye)}):Ve(He,Ye))}function Ve(He,Ye){Ee(qe),p(Ue),void 0!==Me&&Me.removeEventListener("abort",mt),He?vt(Ye):dt(void 0)}j(f(function(He,Ye){!function ft(kt){kt?He():S(!0===rt?m(!0):S(qe._readyPromise,function(){return S(Te(Ue),function(He){return!0===He.done||(lt=S(xe(qe,He.value),void 0,b),!1)})}),ft,Ye)}(!1)}))})}var Zn=function(){function s(){throw new TypeError}return Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!1===an(this))throw Jt("desiredSize");return ln(this)},enumerable:!0,configurable:!0}),s.prototype.close=function(){if(!1===an(this))throw Jt("close");if(!1===Dt(this))throw new TypeError("The stream is not in a state that permits close");qt(this)},s.prototype.enqueue=function(w){if(!1===an(this))throw Jt("enqueue");if(!1===Dt(this))throw new TypeError("The stream is not in a state that permits enqueue");return sn(this,w)},s.prototype.error=function(w){if(!1===an(this))throw Jt("error");It(this,w)},s.prototype[se]=function(w){pe(this);var ne=this._cancelAlgorithm(w);return on(this),ne},s.prototype[Y]=function(){var w=this._controlledReadableStream;if(this._queue.length>0){var ne=ye(this);return!0===this._closeRequested&&0===this._queue.length?(on(this),Xt(w)):Ht(this),m(k(ne,!1,w._reader._forAuthorCode))}var ge=U(w);return Ht(this),ge},s}();function an(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableStream"))}function Ht(s){if(!1!==Bn(s)){if(!0===s._pulling)return void(s._pullAgain=!0);s._pulling=!0,D(s._pullAlgorithm(),function(){s._pulling=!1,!0===s._pullAgain&&(s._pullAgain=!1,Ht(s))},function(ge){It(s,ge)})}}function Bn(s){var w=s._controlledReadableStream;return!1!==Dt(s)&&!1!==s._started&&(!0===Lt(w)&&ee(w)>0||ln(s)>0)}function on(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0,s._strategySizeAlgorithm=void 0}function qt(s){var w=s._controlledReadableStream;s._closeRequested=!0,0===s._queue.length&&(on(s),Xt(w))}function sn(s,w){var ne=s._controlledReadableStream;if(!0===Lt(ne)&&ee(ne)>0)X(ne,w,!1);else{var ge=void 0;try{ge=s._strategySizeAlgorithm(w)}catch(_e){throw It(s,_e),_e}try{ve(s,w,ge)}catch(_e){throw It(s,_e),_e}}Ht(s)}function It(s,w){var ne=s._controlledReadableStream;"readable"===ne._state&&(pe(s),on(s),Kn(ne,w))}function ln(s){var ne=s._controlledReadableStream._state;return"errored"===ne?null:"closed"===ne?0:s._strategyHWM-s._queueTotalSize}function Dt(s){return!1===s._closeRequested&&"readable"===s._controlledReadableStream._state}function Tn(s,w,ne,ge,_e,Me,Ue){w._controlledReadableStream=s,w._queue=void 0,w._queueTotalSize=void 0,pe(w),w._started=!1,w._closeRequested=!1,w._pullAgain=!1,w._pulling=!1,w._strategySizeAlgorithm=Ue,w._strategyHWM=Me,w._pullAlgorithm=ge,w._cancelAlgorithm=_e,s._readableStreamController=w,D(m(ne()),function(){w._started=!0,Ht(w)},function(rt){It(w,rt)})}function Jt(s){return new TypeError("ReadableStreamDefaultController.prototype."+s+" can only be used on a ReadableStreamDefaultController")}var hr=Number.isInteger||function(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s},Wn=function(){function s(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(s.prototype,"view",{get:function(){if(!1===Pn(this))throw Rn("view");return this._view},enumerable:!0,configurable:!0}),s.prototype.respond=function(w){if(!1===Pn(this))throw Rn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(s,w){if(!1===W(w=Number(w)))throw new RangeError("bytesWritten must be a finite");kn(s,w)}(this._associatedReadableByteStreamController,w)},s.prototype.respondWithNewView=function(w){if(!1===Pn(this))throw Rn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(w))throw new TypeError("You can only respond with array buffer views");!function(s,w){var ne=s._pendingPullIntos.peek();if(ne.byteOffset+ne.bytesFilled!==w.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(ne.byteLength!==w.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");ne.buffer=w.buffer,kn(s,w.byteLength)}(this._associatedReadableByteStreamController,w)},s}(),dr=function(){function s(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(s.prototype,"byobRequest",{get:function(){if(!1===Bt(this))throw jt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var w=this._pendingPullIntos.peek(),ne=new Uint8Array(w.buffer,w.byteOffset+w.bytesFilled,w.byteLength-w.bytesFilled),ge=Object.create(Wn.prototype);(function(s,w,ne){s._associatedReadableByteStreamController=w,s._view=ne})(ge,this,ne),this._byobRequest=ge}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!1===Bt(this))throw jt("desiredSize");return Qn(this)},enumerable:!0,configurable:!0}),s.prototype.close=function(){if(!1===Bt(this))throw jt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var w=this._controlledReadableByteStream._state;if("readable"!==w)throw new TypeError("The stream (in "+w+" state) is not in the readable state and cannot be closed");!function(s){var w=s._controlledReadableByteStream;if(s._queueTotalSize>0)s._closeRequested=!0;else{if(s._pendingPullIntos.length>0&&s._pendingPullIntos.peek().bytesFilled>0){var ge=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Qt(s,ge),ge}hn(s),Xt(w)}}(this)},s.prototype.enqueue=function(w){if(!1===Bt(this))throw jt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var ne=this._controlledReadableByteStream._state;if("readable"!==ne)throw new TypeError("The stream (in "+ne+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(w))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(s,w){var ne=s._controlledReadableByteStream,_e=w.byteOffset,Me=w.byteLength,Ue=w.buffer;!0===ce(ne)?0===ee(ne)?un(s,Ue,_e,Me):X(ne,new Uint8Array(Ue,_e,Me),!1):!0===In(ne)?(un(s,Ue,_e,Me),wn(s)):un(s,Ue,_e,Me),Mt(s)}(this,w)},s.prototype.error=function(w){if(!1===Bt(this))throw jt("error");Qt(this,w)},s.prototype[se]=function(w){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),pe(this);var ge=this._cancelAlgorithm(w);return hn(this),ge},s.prototype[Y]=function(){var w=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ne=this._queue.shift();this._queueTotalSize-=ne.byteLength,En(this);var ge=void 0;try{ge=new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength)}catch(rt){return x(rt)}return m(k(ge,!1,w._reader._forAuthorCode))}var _e=this._autoAllocateChunkSize;if(void 0!==_e){var Me=void 0;try{Me=new ArrayBuffer(_e)}catch(rt){return x(rt)}var Ue={buffer:Me,byteOffset:0,byteLength:_e,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ue)}var qe=U(w);return Mt(this),qe},s}();function Bt(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledReadableByteStream"))}function Pn(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_associatedReadableByteStreamController"))}function Mt(s){if(!1!==function(s){var w=s._controlledReadableByteStream;return"readable"===w._state&&!0!==s._closeRequested&&!1!==s._started&&(!0===ce(w)&&ee(w)>0||!0===In(w)&&Yn(w)>0||Qn(s)>0)}(s)){if(!0===s._pulling)return void(s._pullAgain=!0);s._pulling=!0,D(s._pullAlgorithm(),function(){s._pulling=!1,!0===s._pullAgain&&(s._pullAgain=!1,Mt(s))},function(ge){Qt(s,ge)})}}function xn(s,w){var ne=!1;"closed"===s._state&&(ne=!0);var ge=Vn(w);"default"===w.readerType?X(s,ge,ne):function(s,w,ne){var ge=s._reader;ge._readIntoRequests.shift()._resolve(k(w,ne,ge._forAuthorCode))}(s,ge,ne)}function Vn(s){return new s.ctor(s.buffer,s.byteOffset,s.bytesFilled/s.elementSize)}function un(s,w,ne,ge){s._queue.push({buffer:w,byteOffset:ne,byteLength:ge}),s._queueTotalSize+=ge}function xt(s,w){var ne=w.elementSize,ge=w.bytesFilled-w.bytesFilled%ne,_e=Math.min(s._queueTotalSize,w.byteLength-w.bytesFilled),Me=w.bytesFilled+_e,Ue=Me-Me%ne,qe=_e,rt=!1;Ue>ge&&(qe=Ue-w.bytesFilled,rt=!0);for(var lt=s._queue;qe>0;){var dt=lt.peek(),vt=Math.min(qe,dt.byteLength);R(w.buffer,w.byteOffset+w.bytesFilled,dt.buffer,dt.byteOffset,vt),dt.byteLength===vt?lt.shift():(dt.byteOffset+=vt,dt.byteLength-=vt),s._queueTotalSize-=vt,Hn(s,vt,w),qe-=vt}return rt}function Hn(s,w,ne){cn(s),ne.bytesFilled+=w}function En(s){0===s._queueTotalSize&&!0===s._closeRequested?(hn(s),Xt(s._controlledReadableByteStream)):Mt(s)}function cn(s){void 0!==s._byobRequest&&(s._byobRequest._associatedReadableByteStreamController=void 0,s._byobRequest._view=void 0,s._byobRequest=void 0)}function wn(s){for(;s._pendingPullIntos.length>0;){if(0===s._queueTotalSize)return;var w=s._pendingPullIntos.peek();!0===xt(s,w)&&(fn(s),xn(s._controlledReadableByteStream,w))}}function kn(s,w){var ne=s._pendingPullIntos.peek();if("closed"===s._controlledReadableByteStream._state){if(0!==w)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(s,w){w.buffer=w.buffer;var ne=s._controlledReadableByteStream;if(!0===In(ne))for(;Yn(ne)>0;)xn(ne,fn(s))}(s,ne)}else!function(s,w,ne){if(ne.bytesFilled+w>ne.byteLength)throw new RangeError("bytesWritten out of range");if(Hn(s,w,ne),!(ne.bytesFilled<ne.elementSize)){fn(s);var ge=ne.bytesFilled%ne.elementSize;if(ge>0){var _e=ne.byteOffset+ne.bytesFilled,Me=ne.buffer.slice(_e-ge,_e);un(s,Me,0,Me.byteLength)}ne.buffer=ne.buffer,ne.bytesFilled-=ge,xn(s._controlledReadableByteStream,ne),wn(s)}}(s,w,ne);Mt(s)}function fn(s){var w=s._pendingPullIntos.shift();return cn(s),w}function hn(s){s._pullAlgorithm=void 0,s._cancelAlgorithm=void 0}function Qt(s,w){var ne=s._controlledReadableByteStream;"readable"===ne._state&&(function(s){cn(s),s._pendingPullIntos=new M}(s),pe(s),hn(s),Kn(ne,w))}function Qn(s){var ne=s._controlledReadableByteStream._state;return"errored"===ne?null:"closed"===ne?0:s._strategyHWM-s._queueTotalSize}function Cr(s,w,ne){var ge=Object.create(dr.prototype);var Me=G(w,"pull",0,[ge]),Ue=G(w,"cancel",1,[]),qe=w.autoAllocateChunkSize;if(void 0!==qe&&(qe=Number(qe),!1===hr(qe)||qe<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(s,w,ne,ge,_e,Me,Ue){w._controlledReadableByteStream=s,w._pullAgain=!1,w._pulling=!1,w._byobRequest=void 0,w._queue=w._queueTotalSize=void 0,pe(w),w._closeRequested=!1,w._started=!1,w._strategyHWM=_(Me),w._pullAlgorithm=ge,w._cancelAlgorithm=_e,w._autoAllocateChunkSize=Ue,w._pendingPullIntos=new M,s._readableStreamController=w,D(m(ne()),function(){w._started=!0,Mt(w)},function(rt){Qt(w,rt)})}(s,ge,function(){return Z(w,"start",[ge])},Me,Ue,ne,qe)}function Rn(s){return new TypeError("ReadableStreamBYOBRequest.prototype."+s+" can only be used on a ReadableStreamBYOBRequest")}function jt(s){return new TypeError("ReadableByteStreamController.prototype."+s+" can only be used on a ReadableByteStreamController")}function jn(s){return f(function(ne,ge){s._reader._readIntoRequests.push({_resolve:ne,_reject:ge})})}function Yn(s){return s._reader._readIntoRequests.length}function In(s){var w=s._reader;return!(void 0===w||!Yt(w))}var xr=function(){function s(w){if(!Et(w))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Bt(w._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Lt(w))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,w),this._readIntoRequests=new M}return Object.defineProperty(s.prototype,"closed",{get:function(){return Yt(this)?this._closedPromise:x(dn("closed"))},enumerable:!0,configurable:!0}),s.prototype.cancel=function(w){return Yt(this)?void 0===this._ownerReadableStream?x(d("cancel")):g(this,w):x(dn("cancel"))},s.prototype.read=function(w){return Yt(this)?void 0===this._ownerReadableStream?x(d("read from")):ArrayBuffer.isView(w)?0===w.byteLength?x(new TypeError("view must have non-zero byteLength")):function(s,w){var ne=s._ownerReadableStream;return ne._disturbed=!0,"errored"===ne._state?x(ne._storedError):function(s,w){var ne=s._controlledReadableByteStream,ge=1;w.constructor!==DataView&&(ge=w.constructor.BYTES_PER_ELEMENT);var _e=w.constructor,Ue={buffer:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength,bytesFilled:0,elementSize:ge,ctor:_e,readerType:"byob"};if(s._pendingPullIntos.length>0)return s._pendingPullIntos.push(Ue),jn(ne);if("closed"===ne._state)return m(k(new _e(Ue.buffer,Ue.byteOffset,0),!0,ne._reader._forAuthorCode));if(s._queueTotalSize>0){if(!0===xt(s,Ue)){var rt=Vn(Ue);return En(s),m(k(rt,!1,ne._reader._forAuthorCode))}if(!0===s._closeRequested){var lt=new TypeError("Insufficient bytes to fill elements in the given buffer");return Qt(s,lt),x(lt)}}s._pendingPullIntos.push(Ue);var dt=jn(ne);return Mt(s),dt}(ne._readableStreamController,w)}(this,w):x(new TypeError("view must be an array buffer view")):x(dn("read"))},s.prototype.releaseLock=function(){if(!Yt(this))throw dn("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");p(this)}},s}();function Yt(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_readIntoRequests"))}function dn(s){return new TypeError("ReadableStreamBYOBReader.prototype."+s+" can only be used on a ReadableStreamBYOBReader")}var gn=function(){function s(w,ne){void 0===w&&(w={}),void 0===ne&&(ne={}),Xn(this);var ge=ne.size,_e=ne.highWaterMark,Me=w.type;if("bytes"===String(Me)){if(void 0!==ge)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===_e&&(_e=0),Cr(this,w,_e=_(_e))}else{if(void 0!==Me)throw new RangeError("Invalid type is specified");var qe=c(ge);void 0===_e&&(_e=1),function(s,w,ne,ge){var _e=Object.create(Zn.prototype),Ue=G(w,"pull",0,[_e]),qe=G(w,"cancel",1,[]);Tn(s,_e,function(){return Z(w,"start",[_e])},Ue,qe,ne,ge)}(this,w,_e=_(_e),qe)}}return Object.defineProperty(s.prototype,"locked",{get:function(){if(!1===Et(this))throw Nt("locked");return Lt(this)},enumerable:!0,configurable:!0}),s.prototype.cancel=function(w){return!1===Et(this)?x(Nt("cancel")):!0===Lt(this)?x(new TypeError("Cannot cancel a stream that already has a reader")):Ft(this,w)},s.prototype.getReader=function(w){var ne=(void 0===w?{}:w).mode;if(!1===Et(this))throw Nt("getReader");if(void 0===ne)return $(this,!0);if("byob"===(ne=String(ne)))return function(s,w){void 0===w&&(w=!1);var ne=new xr(s);return ne._forAuthorCode=w,ne}(this,!0);throw new RangeError("Invalid mode is specified")},s.prototype.pipeThrough=function(w,ne){var ge=w.writable,_e=w.readable,Me=void 0===ne?{}:ne,Ue=Me.preventClose,qe=Me.preventAbort,rt=Me.preventCancel,lt=Me.signal;if(!1===Et(this))throw Nt("pipeThrough");if(!1===Ge(ge))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Et(_e))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(Ue=Boolean(Ue),qe=Boolean(qe),rt=Boolean(rt),void 0!==lt&&!Nn(lt))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Lt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===$e(ge))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return j(zn(this,ge,Ue,qe,rt,lt)),_e},s.prototype.pipeTo=function(w,ne){var ge=void 0===ne?{}:ne,_e=ge.preventClose,Me=ge.preventAbort,Ue=ge.preventCancel,qe=ge.signal;return!1===Et(this)?x(Nt("pipeTo")):!1===Ge(w)?x(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(_e=Boolean(_e),Me=Boolean(Me),Ue=Boolean(Ue),void 0===qe||Nn(qe)?!0===Lt(this)?x(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===$e(w)?x(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zn(this,w,_e,Me,Ue,qe):x(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},s.prototype.tee=function(){if(!1===Et(this))throw Nt("tee");return O(function(s,w){var Ue,qe,rt,lt,dt,ne=$(s),ge=!1,_e=!1,Me=!1,vt=f(function(a){dt=a});function mt(){return!0===ge||(ge=!0,j(te(Te(ne),function(C){if(ge=!1,!0===C.done)return!1===_e&&qt(rt._readableStreamController),void(!1===Me&&qt(lt._readableStreamController));var oe=C.value,Ve=oe;!1===_e&&sn(rt._readableStreamController,oe),!1===Me&&sn(lt._readableStreamController,Ve)}))),m(void 0)}function K(){}return rt=Ln(K,mt,function(a){if(_e=!0,Ue=a,!0===Me){var C=O([Ue,qe]),B=Ft(s,C);dt(B)}return vt}),lt=Ln(K,mt,function(a){if(Me=!0,qe=a,!0===_e){var C=O([Ue,qe]),B=Ft(s,C);dt(B)}return vt}),q(ne._closedPromise,function(a){It(rt._readableStreamController,a),It(lt._readableStreamController,a)}),[rt,lt]}(this))},s.prototype.getIterator=function(w){var ne=(void 0===w?{}:w).preventCancel,ge=void 0!==ne&&ne;if(!1===Et(this))throw Nt("getIterator");return function(s,w){void 0===w&&(w=!1);var ne=$(s),ge=Object.create(Xe);return ge._asyncIteratorReader=ne,ge._preventCancel=Boolean(w),ge}(this,ge)},s}();function Ln(s,w,ne,ge,_e){void 0===ge&&(ge=1),void 0===_e&&(_e=function(){return 1});var Me=Object.create(gn.prototype);return Xn(Me),Tn(Me,Object.create(Zn.prototype),s,w,ne,ge,_e),Me}function Xn(s){s._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1}function Et(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_readableStreamController"))}function Lt(s){return void 0!==s._reader}function Ft(s,w){return s._disturbed=!0,"closed"===s._state?m(void 0):"errored"===s._state?x(s._storedError):(Xt(s),te(s._readableStreamController[se](w),b))}function Xt(s){s._state="closed";var w=s._reader;void 0!==w&&(Ae(w)&&(w._readRequests.forEach(function(ne){ne._resolve(k(void 0,!0,w._forAuthorCode))}),w._readRequests=new M),re(w))}function Kn(s,w){s._state="errored",s._storedError=w;var ne=s._reader;void 0!==ne&&(Ae(ne)?(ne._readRequests.forEach(function(ge){ge._reject(w)}),ne._readRequests=new M):(ne._readIntoRequests.forEach(function(ge){ge._reject(w)}),ne._readIntoRequests=new M),ie(ne,w))}function Nt(s){return new TypeError("ReadableStream.prototype."+s+" can only be used on a ReadableStream")}"symbol"==typeof o.asyncIterator&&Object.defineProperty(gn.prototype,o.asyncIterator,{value:gn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var wr=function(){function s(w){this.highWaterMark=w.highWaterMark}return s.prototype.size=function(w){return w.byteLength},s}(),kr=function(){function s(w){this.highWaterMark=w.highWaterMark}return s.prototype.size=function(){return 1},s}(),Rr=function(){function s(w,ne,ge){void 0===w&&(w={}),void 0===ne&&(ne={}),void 0===ge&&(ge={});var _e=ne.size,Me=ne.highWaterMark,Ue=ge.size,qe=ge.highWaterMark;if(void 0!==w.writableType)throw new RangeError("Invalid writable type specified");var lt=c(_e);if(void 0===Me&&(Me=1),Me=_(Me),void 0!==w.readableType)throw new RangeError("Invalid readable type specified");var mt,vt=c(Ue);void 0===qe&&(qe=0),qe=_(qe),function(s,w,ne,ge,_e,Me){function Ue(){return w}function qe(mt){return function(s,w){var ne=s._transformStreamController;return!0===s._backpressure?te(s._backpressureChangePromise,function(){var _e=s._writable;if("erroring"===_e._state)throw _e._storedError;return nr(ne,w)}):nr(ne,w)}(s,mt)}function rt(mt){return function(s,w){return pn(s,w),m(void 0)}(s,mt)}function lt(){return function(s){var w=s._readable,ne=s._transformStreamController,ge=ne._flushAlgorithm();return er(ne),te(ge,function(){if("errored"===w._state)throw w._storedError;var _e=w._readableStreamController;!0===Dt(_e)&&qt(_e)},function(_e){throw pn(s,_e),w._storedError})}(s)}function dt(){return function(s){return mn(s,!1),s._backpressureChangePromise}(s)}function vt(mt){return vn(s,mt),m(void 0)}s._writable=function(s,w,ne,ge,_e,Me){void 0===_e&&(_e=1),void 0===Me&&(Me=function(){return 1});var Ue=Object.create(Re.prototype);return Ne(Ue),Ke(Ue,Object.create(Le.prototype),s,w,ne,ge,_e,Me),Ue}(Ue,qe,lt,rt,ne,ge),s._readable=Ln(Ue,dt,vt,_e,Me),s._backpressure=void 0,s._backpressureChangePromise=void 0,s._backpressureChangePromise_resolve=void 0,mn(s,!0),s._transformStreamController=void 0}(this,f(function(K){mt=K}),Me,lt,qe,vt),function(s,w){var ne=Object.create(Lr.prototype),ge=function(Ue){try{return tr(ne,Ue),m(void 0)}catch(qe){return x(qe)}},_e=w.transform;if(void 0!==_e){if("function"!=typeof _e)throw new TypeError("transform is not a method");ge=function(Ue){return E(_e,w,[Ue,ne])}}var Me=G(w,"flush",0,[ne]);!function(s,w,ne,ge){w._controlledTransformStream=s,s._transformStreamController=w,w._transformAlgorithm=ne,w._flushAlgorithm=ge}(s,ne,ge,Me)}(this,w);var z=Z(w,"start",[this._transformStreamController]);mt(z)}return Object.defineProperty(s.prototype,"readable",{get:function(){if(!1===$n(this))throw rr("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"writable",{get:function(){if(!1===$n(this))throw rr("writable");return this._writable},enumerable:!0,configurable:!0}),s}();function $n(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_transformStreamController"))}function pn(s,w){It(s._readable._readableStreamController,w),vn(s,w)}function vn(s,w){er(s._transformStreamController),St(s._writable._writableStreamController,w),!0===s._backpressure&&mn(s,!1)}function mn(s,w){void 0!==s._backpressureChangePromise&&s._backpressureChangePromise_resolve(),s._backpressureChangePromise=f(function(ne){s._backpressureChangePromise_resolve=ne}),s._backpressure=w}var Lr=function(){function s(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(s.prototype,"desiredSize",{get:function(){if(!1===yn(this))throw bn("desiredSize");return ln(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),s.prototype.enqueue=function(w){if(!1===yn(this))throw bn("enqueue");tr(this,w)},s.prototype.error=function(w){if(!1===yn(this))throw bn("error");!function(s,w){pn(s._controlledTransformStream,w)}(this,w)},s.prototype.terminate=function(){if(!1===yn(this))throw bn("terminate");!function(s){var w=s._controlledTransformStream,ne=w._readable._readableStreamController;!0===Dt(ne)&&qt(ne),vn(w,new TypeError("TransformStream terminated"))}(this)},s}();function yn(s){return!(!N(s)||!Object.prototype.hasOwnProperty.call(s,"_controlledTransformStream"))}function er(s){s._transformAlgorithm=void 0,s._flushAlgorithm=void 0}function tr(s,w){var ne=s._controlledTransformStream,ge=ne._readable._readableStreamController;if(!1===Dt(ge))throw new TypeError("Readable side is not in a state that permits enqueue");try{sn(ge,w)}catch(Me){throw vn(ne,Me),ne._readable._storedError}(function(s){return!0!==Bn(s)})(ge)!==ne._backpressure&&mn(ne,!0)}function nr(s,w){return te(s._transformAlgorithm(w),void 0,function(ge){throw pn(s._controlledTransformStream,ge),ge})}function bn(s){return new TypeError("TransformStreamDefaultController.prototype."+s+" can only be used on a TransformStreamDefaultController")}function rr(s){return new TypeError("TransformStream.prototype."+s+" can only be used on a TransformStream")}r.ByteLengthQueuingStrategy=wr,r.CountQueuingStrategy=kr,r.ReadableStream=gn,r.TransformStream=Rr,r.WritableStream=Re,Object.defineProperty(r,"__esModule",{value:!0})}(A)},function(F,A,t){t(145),t(114),t(77),t(116);var r=t(43);F.exports=r.Map},function(F,A,t){"use strict";var r=t(146),o=t(150);F.exports=r("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},o)},function(F,A,t){"use strict";var r=t(10),o=t(11),b=t(52),y=t(29),I=t(147),N=t(124),O=t(123),R=t(22),W=t(14),e=t(97),V=t(85),G=t(149);F.exports=function(Z,E,T){var h=-1!==Z.indexOf("Map"),_=-1!==Z.indexOf("Weak"),c=h?"set":"add",l=o[Z],n=l&&l.prototype,i=l,u={},f=function(q){var te=n[q];y(n,q,"add"==q?function(Q){return te.call(this,0===Q?0:Q),this}:"delete"==q?function(j){return!(_&&!R(j))&&te.call(this,0===j?0:j)}:"get"==q?function(Q){return _&&!R(Q)?void 0:te.call(this,0===Q?0:Q)}:"has"==q?function(Q){return!(_&&!R(Q))&&te.call(this,0===Q?0:Q)}:function(Q,M){return te.call(this,0===Q?0:Q,M),this})};if(b(Z,"function"!=typeof l||!(_||n.forEach&&!W(function(){(new l).entries().next()}))))i=T.getConstructor(E,Z,h,c),I.REQUIRED=!0;else if(b(Z,!0)){var m=new i,x=m[c](_?{}:-0,1)!=m,S=W(function(){m.has(1)}),D=e(function(q){new l(q)}),H=!_&&W(function(){for(var q=new l,te=5;te--;)q[c](te,te);return!q.has(-0)});D||((i=E(function(q,te){O(q,i,Z);var j=G(new l,q,i);return null!=te&&N(te,j[c],j,h),j})).prototype=n,n.constructor=i),(S||H)&&(f("delete"),f("has"),h&&f("get")),(H||x)&&f(c),_&&n.clear&&delete n.clear}return u[Z]=i,r({global:!0,forced:i!=l},u),V(i,Z),_||T.setStrong(i,Z,h),i}},function(F,A,t){var r=t(39),o=t(22),b=t(23),y=t(27).f,I=t(38),N=t(148),O=I("meta"),R=0,W=Object.isExtensible||function(){return!0},e=function(T){y(T,O,{value:{objectID:"O"+ ++R,weakData:{}}})},E=F.exports={REQUIRED:!1,fastKey:function(T,h){if(!o(T))return"symbol"==typeof T?T:("string"==typeof T?"S":"P")+T;if(!b(T,O)){if(!W(T))return"F";if(!h)return"E";e(T)}return T[O].objectID},getWeakData:function(T,h){if(!b(T,O)){if(!W(T))return!0;if(!h)return!1;e(T)}return T[O].weakData},onFreeze:function(T){return N&&E.REQUIRED&&W(T)&&!b(T,O)&&e(T),T}};r[O]=!0},function(F,A,t){var r=t(14);F.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(F,A,t){var r=t(22),o=t(87);F.exports=function(b,y,I){var N,O;return o&&"function"==typeof(N=y.constructor)&&N!==I&&r(O=N.prototype)&&O!==I.prototype&&o(b,O),b}},function(F,A,t){"use strict";var r=t(27).f,o=t(71),b=t(121),y=t(62),I=t(123),N=t(124),O=t(79),R=t(122),W=t(13),e=t(147).fastKey,V=t(33),G=V.set,Z=V.getterFor;F.exports={getConstructor:function(E,T,h,_){var c=E(function(u,f){I(u,c,T),G(u,{type:T,index:o(null),first:void 0,last:void 0,size:0}),W||(u.size=0),null!=f&&N(f,u[_],u,h)}),l=Z(T),n=function(u,f,m){var D,H,x=l(u),S=i(u,f);return S?S.value=m:(x.last=S={index:H=e(f,!0),key:f,value:m,previous:D=x.last,next:void 0,removed:!1},x.first||(x.first=S),D&&(D.next=S),W?x.size++:u.size++,"F"!==H&&(x.index[H]=S)),u},i=function(u,f){var S,m=l(u),x=e(f);if("F"!==x)return m.index[x];for(S=m.first;S;S=S.next)if(S.key==f)return S};return b(c.prototype,{clear:function(){for(var m=l(this),x=m.index,S=m.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=void 0),delete x[S.index],S=S.next;m.first=m.last=void 0,W?m.size=0:this.size=0},delete:function(u){var f=this,m=l(f),x=i(f,u);if(x){var S=x.next,D=x.previous;delete m.index[x.index],x.removed=!0,D&&(D.next=S),S&&(S.previous=D),m.first==x&&(m.first=S),m.last==x&&(m.last=D),W?m.size--:f.size--}return!!x},forEach:function(f){for(var S,m=l(this),x=y(f,arguments.length>1?arguments[1]:void 0,3);S=S?S.next:m.first;)for(x(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(f){return!!i(this,f)}}),b(c.prototype,h?{get:function(f){var m=i(this,f);return m&&m.value},set:function(f,m){return n(this,0===f?0:f,m)}}:{add:function(f){return n(this,f=0===f?0:f,f)}}),W&&r(c.prototype,"size",{get:function(){return l(this).size}}),c},setStrong:function(E,T,h){var _=T+" Iterator",c=Z(T),l=Z(_);O(E,T,function(n,i){G(this,{type:_,target:n,state:c(n),kind:i,last:void 0})},function(){for(var n=l(this),i=n.kind,u=n.last;u&&u.removed;)u=u.previous;return n.target&&(n.last=u=u?u.next:n.state.first)?"keys"==i?{value:u.key,done:!1}:"values"==i?{value:u.value,done:!1}:{value:[u.key,u.value],done:!1}:(n.target=void 0,{value:void 0,done:!0})},h?"entries":"values",!h,!0),R(T)}}},function(F,A,t){t(152),t(114),t(77),t(116);var r=t(43);F.exports=r.Set},function(F,A,t){"use strict";var r=t(146),o=t(150);F.exports=r("Set",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},o)},function(F,A,t){t(114),t(154),t(116);var r=t(43);F.exports=r.WeakMap},function(F,A,t){"use strict";var V,r=t(11),o=t(121),b=t(147),y=t(146),I=t(155),N=t(22),O=t(33).enforce,R=t(34),W=!r.ActiveXObject&&"ActiveXObject"in r,e=Object.isExtensible,G=function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},Z=F.exports=y("WeakMap",G,I);if(R&&W){V=I.getConstructor(G,"WeakMap",!0),b.REQUIRED=!0;var E=Z.prototype,T=E.delete,h=E.has,_=E.get,c=E.set;o(E,{delete:function(l){if(N(l)&&!e(l)){var n=O(this);return n.frozen||(n.frozen=new V),T.call(this,l)||n.frozen.delete(l)}return T.call(this,l)},has:function(n){if(N(n)&&!e(n)){var i=O(this);return i.frozen||(i.frozen=new V),h.call(this,n)||i.frozen.has(n)}return h.call(this,n)},get:function(n){if(N(n)&&!e(n)){var i=O(this);return i.frozen||(i.frozen=new V),h.call(this,n)?_.call(this,n):i.frozen.get(n)}return _.call(this,n)},set:function(n,i){if(N(n)&&!e(n)){var u=O(this);u.frozen||(u.frozen=new V),h.call(this,n)?c.call(this,n,i):u.frozen.set(n,i)}else c.call(this,n,i);return this}})}},function(F,A,t){"use strict";var r=t(121),o=t(147).getWeakData,b=t(28),y=t(22),I=t(123),N=t(124),O=t(156),R=t(23),W=t(33),e=W.set,V=W.getterFor,G=O.find,Z=O.findIndex,E=0,T=function(c){return c.frozen||(c.frozen=new h)},h=function(){this.entries=[]},_=function(c,l){return G(c.entries,function(n){return n[0]===l})};h.prototype={get:function(c){var l=_(this,c);if(l)return l[1]},has:function(c){return!!_(this,c)},set:function(c,l){var n=_(this,c);n?n[1]=l:this.entries.push([c,l])},delete:function(c){var l=Z(this.entries,function(n){return n[0]===c});return~l&&this.entries.splice(l,1),!!~l}},F.exports={getConstructor:function(c,l,n,i){var u=c(function(x,S){I(x,u,l),e(x,{type:l,id:E++,frozen:void 0}),null!=S&&N(S,x[i],x,n)}),f=V(l),m=function(x,S,D){var H=f(x),q=o(b(S),!0);return!0===q?T(H).set(S,D):q[H.id]=D,x};return r(u.prototype,{delete:function(x){var S=f(this);if(!y(x))return!1;var D=o(x);return!0===D?T(S).delete(x):D&&R(D,S.id)&&delete D[S.id]},has:function(S){var D=f(this);if(!y(S))return!1;var H=o(S);return!0===H?T(D).has(S):H&&R(H,D.id)}}),r(u.prototype,n?{get:function(S){var D=f(this);if(y(S)){var H=o(S);return!0===H?T(D).get(S):H?H[D.id]:void 0}},set:function(S,D){return m(this,S,D)}}:{add:function(S){return m(this,S,!0)}}),u}}},function(F,A,t){var r=t(62),o=t(18),b=t(83),y=t(47),I=t(157),N=[].push,O=function(R){var W=1==R,e=2==R,V=3==R,G=4==R,Z=6==R,E=5==R||Z;return function(T,h,_,c){for(var S,D,l=b(T),n=o(l),i=r(h,_,3),u=y(n.length),f=0,m=c||I,x=W?m(T,u):e?m(T,0):void 0;u>f;f++)if((E||f in n)&&(D=i(S=n[f],f,l),R))if(W)x[f]=D;else if(D)switch(R){case 3:return!0;case 5:return S;case 6:return f;case 2:N.call(x,S)}else if(G)return!1;return Z?-1:V||G?G:x}};F.exports={forEach:O(0),map:O(1),filter:O(2),some:O(3),every:O(4),find:O(5),findIndex:O(6)}},function(F,A,t){var r=t(22),o=t(158),y=t(57)("species");F.exports=function(I,N){var O;return o(I)&&("function"!=typeof(O=I.constructor)||O!==Array&&!o(O.prototype)?r(O)&&null===(O=O[y])&&(O=void 0):O=void 0),new(void 0===O?Array:O)(0===N?0:N)}},function(F,A,t){var r=t(19);F.exports=Array.isArray||function(b){return"Array"==r(b)}},function(F,A,t){t(114),t(160),t(116);var r=t(43);F.exports=r.WeakSet},function(F,A,t){"use strict";t(146)("WeakSet",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},t(155))},function(F,A,t){t(162);var r=t(61);F.exports=r("String","codePointAt")},function(F,A,t){"use strict";var r=t(10),o=t(78).codeAt;r({target:"String",proto:!0},{codePointAt:function(y){return o(this,y)}})},function(F,A,t){t(164);var r=t(43);F.exports=r.String.fromCodePoint},function(F,A,t){var r=t(10),o=t(49),b=String.fromCharCode,y=String.fromCodePoint;r({target:"String",stat:!0,forced:!!y&&1!=y.length},{fromCodePoint:function(O){for(var V,R=[],W=arguments.length,e=0;W>e;){if(V=+arguments[e++],o(V,1114111)!==V)throw RangeError(V+" is not a valid code point");R.push(V<65536?b(V):b(55296+((V-=65536)>>10),V%1024+56320))}return R.join("")}})},function(F,A,t){t(166),t(114),t(168),t(172),t(173),t(174),t(175),t(176),t(177),t(178),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187);var r=t(43);F.exports=r.Symbol},function(F,A,t){"use strict";var r=t(10),o=t(14),b=t(158),y=t(22),I=t(83),N=t(47),O=t(93),R=t(157),W=t(167),e=t(57),V=t(133),G=e("isConcatSpreadable"),Z=9007199254740991,E="Maximum allowed index exceeded",T=V>=51||!o(function(){var l=[];return l[G]=!1,l.concat()[0]!==l}),h=W("concat"),_=function(l){if(!y(l))return!1;var n=l[G];return void 0!==n?!!n:b(l)};r({target:"Array",proto:!0,forced:!T||!h},{concat:function(n){var m,x,S,D,H,i=I(this),u=R(i,0),f=0;for(m=-1,S=arguments.length;m<S;m++)if(_(H=-1===m?i:arguments[m])){if(f+(D=N(H.length))>Z)throw TypeError(E);for(x=0;x<D;x++,f++)x in H&&O(u,f,H[x])}else{if(f>=Z)throw TypeError(E);O(u,f++,H)}return u.length=f,u}})},function(F,A,t){var r=t(14),o=t(57),b=t(133),y=o("species");F.exports=function(I){return b>=51||!r(function(){var N=[];return(N.constructor={})[y]=function(){return{foo:1}},1!==N[I](Boolean).foo})}},function(F,A,t){"use strict";var r=t(10),o=t(11),b=t(42),y=t(37),I=t(13),N=t(58),O=t(59),R=t(14),W=t(23),e=t(158),V=t(22),G=t(28),Z=t(83),E=t(17),T=t(21),h=t(16),_=t(71),c=t(73),l=t(44),n=t(169),i=t(51),u=t(12),f=t(27),m=t(15),x=t(26),S=t(29),D=t(36),H=t(35),q=t(39),te=t(38),j=t(57),Q=t(170),M=t(171),k=t(85),L=t(33),g=t(156).forEach,p=H("hidden"),d="Symbol",v="prototype",P=j("toPrimitive"),J=L.set,ie=L.getterFor(d),ae=Object[v],re=o.Symbol,se=b("JSON","stringify"),Y=u.f,$=f.f,U=n.f,X=m.f,ee=D("symbols"),ce=D("op-symbols"),de=D("string-to-symbol-registry"),Ae=D("symbol-to-string-registry"),Te=D("wks"),Pe=o.QObject,ze=!Pe||!Pe[v]||!Pe[v].findChild,Be=I&&R(function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(Re,ke,Fe){var Ne=Y(ae,ke);Ne&&delete ae[ke],$(Re,ke,Fe),Ne&&Re!==ae&&$(ae,ke,Ne)}:$,Xe=function(Re,ke){var Fe=ee[Re]=_(re[v]);return J(Fe,{type:d,tag:Re,description:ke}),I||(Fe.description=ke),Fe},et=O?function(Re){return"symbol"==typeof Re}:function(Re){return Object(Re)instanceof re},Qe=function(ke,Fe,Ne){ke===ae&&Qe(ce,Fe,Ne),G(ke);var Ge=T(Fe,!0);return G(Ne),W(ee,Ge)?(Ne.enumerable?(W(ke,p)&&ke[p][Ge]&&(ke[p][Ge]=!1),Ne=_(Ne,{enumerable:h(0,!1)})):(W(ke,p)||$(ke,p,h(1,{})),ke[p][Ge]=!0),Be(ke,Ge,Ne)):$(ke,Ge,Ne)},he=function(ke,Fe){G(ke);var Ne=E(Fe),Ge=c(Ne).concat(Se(Ne));return g(Ge,function($e){(!I||ve.call(Ne,$e))&&Qe(ke,$e,Ne[$e])}),ke},ve=function(ke){var Fe=T(ke,!0),Ne=X.call(this,Fe);return!(this===ae&&W(ee,Fe)&&!W(ce,Fe))&&(!(Ne||!W(this,Fe)||!W(ee,Fe)||W(this,p)&&this[p][Fe])||Ne)},ue=function(ke,Fe){var Ne=E(ke),Ge=T(Fe,!0);if(Ne!==ae||!W(ee,Ge)||W(ce,Ge)){var $e=Y(Ne,Ge);return $e&&W(ee,Ge)&&!(W(Ne,p)&&Ne[p][Ge])&&($e.enumerable=!0),$e}},pe=function(ke){var Fe=U(E(ke)),Ne=[];return g(Fe,function(Ge){!W(ee,Ge)&&!W(q,Ge)&&Ne.push(Ge)}),Ne},Se=function(ke){var Fe=ke===ae,Ne=U(Fe?ce:E(ke)),Ge=[];return g(Ne,function($e){W(ee,$e)&&(!Fe||W(ae,$e))&&Ge.push(ee[$e])}),Ge};N||(re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor");var ke=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,Fe=te(ke),Ne=function(Ge){this===ae&&Ne.call(ce,Ge),W(this,p)&&W(this[p],Fe)&&(this[p][Fe]=!1),Be(this,Fe,h(1,Ge))};return I&&ze&&Be(ae,Fe,{configurable:!0,set:Ne}),Xe(Fe,ke)},S(re[v],"toString",function(){return ie(this).tag}),S(re,"withoutSetter",function(Re){return Xe(te(Re),Re)}),m.f=ve,f.f=Qe,u.f=ue,l.f=n.f=pe,i.f=Se,Q.f=function(Re){return Xe(j(Re),Re)},I&&($(re[v],"description",{configurable:!0,get:function(){return ie(this).description}}),y||S(ae,"propertyIsEnumerable",ve,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!N,sham:!N},{Symbol:re}),g(c(Te),function(Re){M(Re)}),r({target:d,stat:!0,forced:!N},{for:function(Re){var ke=String(Re);if(W(de,ke))return de[ke];var Fe=re(ke);return de[ke]=Fe,Ae[Fe]=ke,Fe},keyFor:function(ke){if(!et(ke))throw TypeError(ke+" is not a symbol");if(W(Ae,ke))return Ae[ke]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),r({target:"Object",stat:!0,forced:!N,sham:!I},{create:function(ke,Fe){return void 0===Fe?_(ke):he(_(ke),Fe)},defineProperty:Qe,defineProperties:he,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:pe,getOwnPropertySymbols:Se}),r({target:"Object",stat:!0,forced:R(function(){i.f(1)})},{getOwnPropertySymbols:function(ke){return i.f(Z(ke))}}),se&&r({target:"JSON",stat:!0,forced:!N||R(function(){var Re=re();return"[null]"!=se([Re])||"{}"!=se({a:Re})||"{}"!=se(Object(Re))})},{stringify:function(ke,Fe,Ne){for(var it,Ge=[ke],$e=1;arguments.length>$e;)Ge.push(arguments[$e++]);if(it=Fe,(V(Fe)||void 0!==ke)&&!et(ke))return e(Fe)||(Fe=function(at,me){if("function"==typeof it&&(me=it.call(this,at,me)),!et(me))return me}),Ge[1]=Fe,se.apply(null,Ge)}}),re[v][P]||x(re[v],P,re[v].valueOf),k(re,d),q[p]=!0},function(F,A,t){var r=t(17),o=t(44).f,b={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];F.exports.f=function(O){return y&&"[object Window]"==b.call(O)?function(N){try{return o(N)}catch(O){return y.slice()}}(O):o(r(O))}},function(F,A,t){var r=t(57);A.f=r},function(F,A,t){var r=t(43),o=t(23),b=t(170),y=t(27).f;F.exports=function(I){var N=r.Symbol||(r.Symbol={});o(N,I)||y(N,I,{value:b.f(I)})}},function(F,A,t){t(171)("asyncIterator")},function(F,A,t){"use strict";var r=t(10),o=t(13),b=t(11),y=t(23),I=t(22),N=t(27).f,O=t(40),R=b.Symbol;if(o&&"function"==typeof R&&(!("description"in R.prototype)||void 0!==R().description)){var W={},e=function(){var h=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),_=this instanceof e?new R(h):void 0===h?R():R(h);return""===h&&(W[_]=!0),_};O(e,R);var V=e.prototype=R.prototype;V.constructor=e;var G=V.toString,Z="Symbol(test)"==String(R("test")),E=/^Symbol\((.*)\)[^)]+$/;N(V,"description",{configurable:!0,get:function(){var h=I(this)?this.valueOf():this,_=G.call(h);if(y(W,h))return"";var c=Z?_.slice(7,-1):_.replace(E,"$1");return""===c?void 0:c}}),r({global:!0,forced:!0},{Symbol:e})}},function(F,A,t){t(171)("hasInstance")},function(F,A,t){t(171)("isConcatSpreadable")},function(F,A,t){t(171)("iterator")},function(F,A,t){t(171)("match")},function(F,A,t){t(171)("matchAll")},function(F,A,t){t(171)("replace")},function(F,A,t){t(171)("search")},function(F,A,t){t(171)("species")},function(F,A,t){t(171)("split")},function(F,A,t){t(171)("toPrimitive")},function(F,A,t){t(171)("toStringTag")},function(F,A,t){t(171)("unscopables")},function(F,A,t){t(85)(Math,"Math",!0)},function(F,A,t){var r=t(11);t(85)(r.JSON,"JSON",!0)},function(F,A,t){t(189);var r=t(61);F.exports=r("String","padStart")},function(F,A,t){"use strict";var r=t(10),o=t(190).start;r({target:"String",proto:!0,forced:t(192)},{padStart:function(I){return o(this,I,arguments.length>1?arguments[1]:void 0)}})},function(F,A,t){var r=t(47),o=t(191),b=t(20),y=Math.ceil,I=function(N){return function(O,R,W){var E,T,e=String(b(O)),V=e.length,G=void 0===W?" ":String(W),Z=r(R);return Z<=V||""==G?e:((T=o.call(G,y((E=Z-V)/G.length))).length>E&&(T=T.slice(0,E)),N?e+T:T+e)}};F.exports={start:I(!1),end:I(!0)}},function(F,A,t){"use strict";var r=t(48),o=t(20);F.exports="".repeat||function(y){var I=String(o(this)),N="",O=r(y);if(O<0||O==1/0)throw RangeError("Wrong number of repetitions");for(;O>0;(O>>>=1)&&(I+=I))1&O&&(N+=I);return N}},function(F,A,t){var r=t(127);F.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(F,A,t){t(194);var r=t(61);F.exports=r("String","padEnd")},function(F,A,t){"use strict";var r=t(10),o=t(190).end;r({target:"String",proto:!0,forced:t(192)},{padEnd:function(I){return o(this,I,arguments.length>1?arguments[1]:void 0)}})},function(F,A,t){t(196);var r=t(43);F.exports=r.Object.values},function(F,A,t){var r=t(10),o=t(197).values;r({target:"Object",stat:!0},{values:function(y){return o(y)}})},function(F,A,t){var r=t(13),o=t(73),b=t(17),y=t(15).f,I=function(N){return function(O){for(var Z,R=b(O),W=o(R),e=W.length,V=0,G=[];e>V;)Z=W[V++],(!r||y.call(R,Z))&&G.push(N?[Z,R[Z]]:R[Z]);return G}};F.exports={entries:I(!0),values:I(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(207),_webgl=__w_pdfjs_require__(208);function _interopRequireDefault(F){return F&&F.__esModule?F:{default:F}}function asyncGeneratorStep(F,A,t,r,o,b,y){try{var I=F[b](y),N=I.value}catch(O){return void t(O)}I.done?A(N):Promise.resolve(N).then(r,o)}function _asyncToGenerator(F){return function(){var A=this,t=arguments;return new Promise(function(r,o){var b=F.apply(A,t);function y(N){asyncGeneratorStep(b,r,o,y,I,"next",N)}function I(N){asyncGeneratorStep(b,r,o,y,I,"throw",N)}y(void 0)})}}function _toConsumableArray(F){return _arrayWithoutHoles(F)||_iterableToArray(F)||_unsupportedIterableToArray(F)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(F){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(F))return Array.from(F)}function _arrayWithoutHoles(F){if(Array.isArray(F))return _arrayLikeToArray(F)}function _createForOfIteratorHelper(F,A){var t;if("undefined"==typeof Symbol||null==F[Symbol.iterator]){if(Array.isArray(F)||(t=_unsupportedIterableToArray(F))||A&&F&&"number"==typeof F.length){t&&(F=t);var r=0,o=function(){};return{s:o,n:function(){return r>=F.length?{done:!0}:{done:!1,value:F[r++]}},e:function(O){throw O},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var I,b=!0,y=!1;return{s:function(){t=F[Symbol.iterator]()},n:function(){var O=t.next();return b=O.done,O},e:function(O){y=!0,I=O},f:function(){try{!b&&null!=t.return&&t.return()}finally{if(y)throw I}}}}function _classCallCheck(F,A){if(!(F instanceof A))throw new TypeError("Cannot call a class as a function")}function _defineProperties(F,A){for(var t=0;t<A.length;t++){var r=A[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(F,r.key,r)}}function _createClass(F,A,t){return A&&_defineProperties(F.prototype,A),t&&_defineProperties(F,t),F}function _slicedToArray(F,A){return _arrayWithHoles(F)||_iterableToArrayLimit(F,A)||_unsupportedIterableToArray(F,A)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(F,A){if(F){if("string"==typeof F)return _arrayLikeToArray(F,A);var t=Object.prototype.toString.call(F).slice(8,-1);if("Object"===t&&F.constructor&&(t=F.constructor.name),"Map"===t||"Set"===t)return Array.from(F);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(F,A)}}function _arrayLikeToArray(F,A){(null==A||A>F.length)&&(A=F.length);for(var t=0,r=new Array(A);t<A;t++)r[t]=F[t];return r}function _iterableToArrayLimit(F,A){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(F)){var t=[],r=!0,o=!1,b=void 0;try{for(var I,y=F[Symbol.iterator]();!(r=(I=y.next()).done)&&(t.push(I.value),!A||t.length!==A);r=!0);}catch(N){o=!0,b=N}finally{try{!r&&null!=y.return&&y.return()}finally{if(o)throw b}}return t}}function _arrayWithHoles(F){if(Array.isArray(F))return F}function _typeof(F){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(F)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(F){createPDFNetworkStream=F}function getDocument(F){var t,A=new PDFDocumentLoadingTask;if("string"==typeof F)t={url:F};else if((0,_util.isArrayBuffer)(F))t={data:F};else if(F instanceof PDFDataRangeTransport)t={range:F};else{if("object"!==_typeof(F))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!F.url&&!F.data&&!F.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=F}var r=Object.create(null),o=null,b=null;for(var y in t)if("url"!==y||"undefined"==typeof window)if("range"!==y)if("worker"!==y)if("data"!==y||t[y]instanceof Uint8Array)r[y]=t[y];else{var I=t[y];if("string"==typeof I)r[y]=(0,_util.stringToBytes)(I);else if("object"!==_typeof(I)||null===I||isNaN(I.length)){if(!(0,_util.isArrayBuffer)(I))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[y]=new Uint8Array(I)}else r[y]=new Uint8Array(I)}else b=t[y];else o=t[y];else r[y]=new URL(t[y],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!b){var N={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};b=N.port?PDFWorker.fromPort(N):new PDFWorker(N),A._worker=b}var O=A.docId;return b.promise.then(function(){if(A.destroyed)throw new Error("Loading aborted");var R=_fetchDocument(b,r,o,O),W=new Promise(function(e){var V;o?V=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},o):r.data||(V=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(V)});return Promise.all([R,W]).then(function(e){var V=_slicedToArray(e,2),G=V[0],Z=V[1];if(A.destroyed)throw new Error("Loading aborted");var E=new _message_handler.MessageHandler(O,G,b.port);E.postMessageTransfers=b.postMessageTransfers;var T=new WorkerTransport(E,A,Z,r);A._transport=T,E.send("Ready",null)})}).catch(A._capability.reject),A}function _fetchDocument(F,A,t,r){return F.destroyed?Promise.reject(new Error("Worker was destroyed")):(t&&(A.length=t.length,A.initialData=t.initialData,A.progressiveDone=t.progressiveDone),F.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.5.207",source:{data:A.data,url:A.url,password:A.password,disableAutoFetch:A.disableAutoFetch,rangeChunkSize:A.rangeChunkSize,length:A.length},maxImageSize:A.maxImageSize,disableFontFace:A.disableFontFace,postMessageTransfers:F.postMessageTransfers,docBaseUrl:A.docBaseUrl,ignoreErrors:A.ignoreErrors,isEvalSupported:A.isEvalSupported,fontExtraProperties:A.fontExtraProperties}).then(function(o){if(F.destroyed)throw new Error("Worker was destroyed");return o}))}var PDFDocumentLoadingTask=(A=0,function(){function r(){_classCallCheck(this,r),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+A++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(r,[{key:"destroy",value:function(){var b=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){b._transport=null,b._worker&&(b._worker.destroy(),b._worker=null)})}},{key:"promise",get:function(){return this._capability.promise}}]),r}()),PDFDataRangeTransport=function(){function F(A,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,F),this.length=A,this.initialData=t,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(F,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,r){var b,o=_createForOfIteratorHelper(this._rangeListeners);try{for(o.s();!(b=o.n()).done;)(0,b.value)(t,r)}catch(I){o.e(I)}finally{o.f()}}},{key:"onDataProgress",value:function(t,r){var o=this;this._readyCapability.promise.then(function(){var y,b=_createForOfIteratorHelper(o._progressListeners);try{for(b.s();!(y=b.n()).done;)(0,y.value)(t,r)}catch(N){b.e(N)}finally{b.f()}})}},{key:"onDataProgressiveRead",value:function(t){var r=this;this._readyCapability.promise.then(function(){var b,o=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(o.s();!(b=o.n()).done;)(0,b.value)(t)}catch(I){o.e(I)}finally{o.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var o,r=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(r.s();!(o=r.n()).done;)(0,o.value)()}catch(y){r.e(y)}finally{r.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),F}(),A;exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function F(A,t){_classCallCheck(this,F),this._pdfInfo=A,this._transport=t}return _createClass(F,[{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(t){return t&&t.dest?t.dest:null})}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),F}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function F(A,t,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,F),this._pageIndex=A,this._pageInfo=t,this._transport=r,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(F,[{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.scale,o=t.rotation,b=void 0===o?this.rotate:o,y=t.offsetX,I=void 0===y?0:y,N=t.offsetY,O=void 0===N?0:N,R=t.dontFlip,W=void 0!==R&&R;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:b,offsetX:I,offsetY:O,dontFlip:W})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.intent,o=void 0===r?null:r;return(!this.annotationsPromise||this.annotationsIntent!==o)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,o),this.annotationsIntent=o),this.annotationsPromise}},{key:"render",value:function(t){var r=this,o=t.canvasContext,b=t.viewport,y=t.intent,I=void 0===y?"display":y,N=t.enableWebGL,O=void 0!==N&&N,R=t.renderInteractiveForms,W=void 0!==R&&R,e=t.transform,V=void 0===e?null:e,G=t.imageLayer,Z=void 0===G?null:G,E=t.canvasFactory,T=void 0===E?null:E,h=t.background,_=void 0===h?null:h;this._stats&&this._stats.time("Overall");var c="print"===I?"print":"display";this.pendingCleanup=!1,this.intentStates[c]||(this.intentStates[c]=Object.create(null));var l=this.intentStates[c];l.streamReaderCancelTimeout&&(clearTimeout(l.streamReaderCancelTimeout),l.streamReaderCancelTimeout=null);var n=T||new _display_utils.DOMCanvasFactory,i=new _webgl.WebGLContext({enable:O});l.displayReadyCapability||(l.displayReadyCapability=(0,_util.createPromiseCapability)(),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:c,renderInteractiveForms:!0===W}));var u=function(S){var D=l.renderTasks.indexOf(f);D>=0&&l.renderTasks.splice(D,1),(r.cleanupAfterRender||"print"===c)&&(r.pendingCleanup=!0),r._tryCleanup(),S?(f.capability.reject(S),r._abortOperatorList({intentState:l,reason:S})):f.capability.resolve(),r._stats&&(r._stats.timeEnd("Rendering"),r._stats.timeEnd("Overall"))},f=new InternalRenderTask({callback:u,params:{canvasContext:o,viewport:b,transform:V,imageLayer:Z,background:_},objs:this.objs,commonObjs:this.commonObjs,operatorList:l.operatorList,pageIndex:this._pageIndex,canvasFactory:n,webGLContext:i,useRequestAnimationFrame:"print"!==c,pdfBug:this._pdfBug});l.renderTasks||(l.renderTasks=[]),l.renderTasks.push(f);var m=f.task;return l.displayReadyCapability.promise.then(function(x){r.pendingCleanup?u():(r._stats&&r._stats.time("Rendering"),f.initializeGraphics(x),f.operatorListChanged())}).catch(u),m}},{key:"getOperatorList",value:function(){var r="oplist";this.intentStates[r]||(this.intentStates[r]=Object.create(null));var b,o=this.intentStates[r];return o.opListReadCapability||((b={}).operatorListChanged=function(){if(o.operatorList.lastChunk){o.opListReadCapability.resolve(o.operatorList);var y=o.renderTasks.indexOf(b);y>=0&&o.renderTasks.splice(y,1)}},o.opListReadCapability=(0,_util.createPromiseCapability)(),o.renderTasks=[],o.renderTasks.push(b),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:r})),o.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.normalizeWhitespace,o=void 0!==r&&r,b=t.disableCombineTextItems,y=void 0!==b&&b,I=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===o,combineTextItems:!0!==y},{highWaterMark:I,size:function(O){return O.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.streamTextContent(t);return new Promise(function(o,b){var I=r.getReader(),N={items:[],styles:Object.create(null)};!function y(){I.read().then(function(O){var R,W=O.value;O.done?o(N):(Object.assign(N.styles,W.styles),(R=N.items).push.apply(R,_toConsumableArray(W.items)),y())},b)}()})}},{key:"_destroy",value:function(){var t=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var r=[];return Object.keys(this.intentStates).forEach(function(o){var b=t.intentStates[o];t._abortOperatorList({intentState:b,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==o&&b.renderTasks.forEach(function(y){var I=y.capability.promise.catch(function(){});r.push(I),y.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(r)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some(function(o){var b=t.intentStates[o];return 0!==b.renderTasks.length||!b.operatorList.lastChunk})||(Object.keys(this.intentStates).forEach(function(o){delete t.intentStates[o]}),this.objs.clear(),this.annotationsPromise=null,r&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}},{key:"_startRenderPage",value:function(t,r){var o=this.intentStates[r];!o||(this._stats&&this._stats.timeEnd("Page Request"),o.displayReadyCapability&&o.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,r){for(var o=0,b=t.length;o<b;o++)r.operatorList.fnArray.push(t.fnArray[o]),r.operatorList.argsArray.push(t.argsArray[o]);r.operatorList.lastChunk=t.lastChunk;for(var y=0;y<r.renderTasks.length;y++)r.renderTasks[y].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var r=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var b=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),y=this.intentStates[t.intent];y.streamReader=b,function N(){b.read().then(function(O){var R=O.value;O.done?y.streamReader=null:r._transport.destroyed||(r._renderPageChunk(R,y),N())},function(O){if(y.streamReader=null,!r._transport.destroyed){if(y.operatorList){y.operatorList.lastChunk=!0;for(var R=0;R<y.renderTasks.length;R++)y.renderTasks[R].operatorListChanged();r._tryCleanup()}if(y.displayReadyCapability)y.displayReadyCapability.reject(O);else{if(!y.opListReadCapability)throw O;y.opListReadCapability.reject(O)}}})}()}},{key:"_abortOperatorList",value:function(t){var r=this,o=t.intentState,b=t.reason,y=t.force,I=void 0!==y&&y;if((0,_util.assert)(b instanceof Error||"object"===_typeof(b)&&null!==b,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),o.streamReader){if(!I){if(0!==o.renderTasks.length)return;if(b instanceof _display_utils.RenderingCancelledException)return void(o.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:o,reason:b,force:!0}),o.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}o.streamReader.cancel(new _util.AbortException(b&&b.message)),o.streamReader=null,!this._transport.destroyed&&(Object.keys(this.intentStates).some(function(N){return r.intentStates[N]===o&&(delete r.intentStates[N],!0)}),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),F}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function F(){var A=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,F),this._listeners=[],this._defer=A,this._deferred=Promise.resolve(void 0)}return _createClass(F,[{key:"postMessage",value:function(t,r){var o=this;if(this._defer){var y=new WeakMap,I={data:function b(N){if("object"!==_typeof(N)||null===N)return N;if(y.has(N))return y.get(N);var O,R;if((O=N.buffer)&&(0,_util.isArrayBuffer)(O))return R=r&&r.includes(O)?new N.constructor(O,N.byteOffset,N.byteLength):new N.constructor(N),y.set(N,R),R;for(var e in R=Array.isArray(N)?[]:{},y.set(N,R),N){for(var V=void 0,G=N;!(V=Object.getOwnPropertyDescriptor(G,e));)G=Object.getPrototypeOf(G);if(void 0!==V.value){if("function"==typeof V.value){if(N.hasOwnProperty&&N.hasOwnProperty(e))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(N[e]));continue}R[e]=b(V.value)}}return R}(t)};this._deferred.then(function(){o._listeners.forEach(function(N){N.call(o,I)})})}else this._listeners.forEach(function(N){N.call(o,{data:t})})}},{key:"addEventListener",value:function(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function(t,r){var o=this._listeners.indexOf(r);this._listeners.splice(o,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),F}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var F;try{F=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(A){}return F||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(F){return URL.createObjectURL(new Blob(["importScripts('"+F+"');"]))}var PDFWorker=function(){function F(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=A.name,r=void 0===t?null:t,o=A.port,b=void 0===o?null:o,y=A.verbosity,I=void 0===y?(0,_util.getVerbosityLevel)():y;if(_classCallCheck(this,F),b&&pdfWorkerPorts.has(b))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=I,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,b)return pdfWorkerPorts.set(b,this),void this._initializeFromPort(b);this._initialize()}return _createClass(F,[{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var r=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,r)||(r=createCDNWrapper(new URL(r,window.location).href));var o=new Worker(r),b=new _message_handler.MessageHandler("main","worker",o),y=function(){o.removeEventListener("error",I),b.destroy(),o.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},I=function(){t._webWorker||y()};o.addEventListener("error",I),b.on("test",function(O){o.removeEventListener("error",I),t.destroyed?y():O?(t._messageHandler=b,t._port=o,t._webWorker=o,O.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),b.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),b.destroy(),o.terminate())}),b.on("ready",function(O){if(o.removeEventListener("error",I),t.destroyed)y();else try{N()}catch(R){t._setupFakeWorker()}});var N=function(){var R=new Uint8Array([t.postMessageTransfers?255:0]);try{b.send("test",R,[R.buffer])}catch(W){(0,_util.warn)("Cannot use postMessage transfers."),R[0]=0,b.send("test",R)}};return void N()}catch(O){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(r){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var o=new LoopbackPort;t._port=o;var b="fake"+nextFakeWorkerId++,y=new _message_handler.MessageHandler(b+"_worker",b,o);r.setup(y,o);var I=new _message_handler.MessageHandler(b,b+"_worker",o);t._messageHandler=I,t._readyCapability.resolve(),I.send("configure",{verbosity:t.verbosity})}}).catch(function(r){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(r.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new F(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),F}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function F(A,t,r,o){_classCallCheck(this,F),this.messageHandler=A,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=o,this.CMapReaderFactory=new o.CMapReaderFactory({baseUrl:o.cMapUrl,isCompressed:o.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(F,[{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var r=[];this.pageCache.forEach(function(b){b&&r.push(b._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var o=this.messageHandler.sendWithPromise("Terminate",null);return r.push(o),Promise.all(r).then(function(){t.fontLoader.clear(),t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,r=this.messageHandler,o=this.loadingTask;r.on("GetReader",function(b,y){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(I){t._lastProgress={loaded:I.loaded,total:I.total}},y.onPull=function(){t._fullReader.read().then(function(I){var N=I.value;I.done?y.close():((0,_util.assert)((0,_util.isArrayBuffer)(N),"GetReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(N),1,[N]))}).catch(function(I){y.error(I)})},y.onCancel=function(I){t._fullReader.cancel(I)}}),r.on("ReaderHeadersReady",function(b){var y=(0,_util.createPromiseCapability)(),I=t._fullReader;return I.headersReady.then(function(){(!I.isStreamingSupported||!I.isRangeSupported)&&(t._lastProgress&&o.onProgress&&o.onProgress(t._lastProgress),I.onProgress=function(N){o.onProgress&&o.onProgress({loaded:N.loaded,total:N.total})}),y.resolve({isStreamingSupported:I.isStreamingSupported,isRangeSupported:I.isRangeSupported,contentLength:I.contentLength})},y.reject),y.promise}),r.on("GetRangeReader",function(b,y){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var I=t._networkStream.getRangeReader(b.begin,b.end);I?(y.onPull=function(){I.read().then(function(N){var O=N.value;N.done?y.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetRangeReader - expected an ArrayBuffer."),y.enqueue(new Uint8Array(O),1,[O]))}).catch(function(N){y.error(N)})},y.onCancel=function(N){I.cancel(N)}):y.close()}),r.on("GetDoc",function(b){var y=b.pdfInfo;t._numPages=y.numPages,o._capability.resolve(new PDFDocumentProxy(y,t))}),r.on("DocException",function(b){var y;switch(b.name){case"PasswordException":y=new _util.PasswordException(b.message,b.code);break;case"InvalidPDFException":y=new _util.InvalidPDFException(b.message);break;case"MissingPDFException":y=new _util.MissingPDFException(b.message);break;case"UnexpectedResponseException":y=new _util.UnexpectedResponseException(b.message,b.status);break;case"UnknownErrorException":y=new _util.UnknownErrorException(b.message,b.details)}o._capability.reject(y)}),r.on("PasswordRequest",function(b){if(t._passwordCapability=(0,_util.createPromiseCapability)(),o.onPassword)try{o.onPassword(function(N){t._passwordCapability.resolve({password:N})},b.code)}catch(I){t._passwordCapability.reject(I)}else t._passwordCapability.reject(new _util.PasswordException(b.message,b.code));return t._passwordCapability.promise}),r.on("DataLoaded",function(b){o.onProgress&&o.onProgress({loaded:b.length,total:b.length}),t.downloadInfoCapability.resolve(b)}),r.on("StartRenderPage",function(b){t.destroyed||t.pageCache[b.pageIndex]._startRenderPage(b.transparency,b.intent)}),r.on("commonobj",function(b){if(!t.destroyed){var y=_slicedToArray(b,3),I=y[0],N=y[1],O=y[2];if(!t.commonObjs.has(I))switch(N){case"Font":var R=t._params;if("error"in O){var W=O.error;(0,_util.warn)("Error during font loading: ".concat(W)),t.commonObjs.resolve(I,W);break}var e=null;R.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(e={registerFont:function(Z,E){globalThis.FontInspector.fontAdded(Z,E)}});var V=new _font_loader.FontFaceObject(O,{isEvalSupported:R.isEvalSupported,disableFontFace:R.disableFontFace,ignoreErrors:R.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:e});t.fontLoader.bind(V).catch(function(G){return r.sendWithPromise("FontFallback",{id:I})}).finally(function(){!R.fontExtraProperties&&V.data&&(V.data=null),t.commonObjs.resolve(I,V)});break;case"FontPath":case"FontType3Res":case"Image":t.commonObjs.resolve(I,O);break;default:throw new Error("Got unknown common object type ".concat(N))}}}),r.on("obj",function(b){if(!t.destroyed){var y=_slicedToArray(b,4),I=y[0],O=y[2],R=y[3],W=t.pageCache[y[1]];if(!W.objs.has(I)){if("Image"!==O)throw new Error("Got unknown object type ".concat(O));W.objs.resolve(I,R),R&&"data"in R&&R.data.length>8e6&&(W.cleanupAfterRender=!0)}}}),r.on("DocProgress",function(b){t.destroyed||o.onProgress&&o.onProgress({loaded:b.loaded,total:b.total})}),r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),r.on("FetchBuiltInCMap",function(b,y){if(t.destroyed)y.error(new Error("Worker was destroyed"));else{var I=!1;y.onPull=function(){I?y.close():(I=!0,t.CMapReaderFactory.fetch(b).then(function(N){y.enqueue(N,1,[N.cMapData.buffer])}).catch(function(N){y.error(N)}))}}})}},{key:"_onUnsupportedFeature",value:function(t){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var o=t-1;if(o in this.pagePromises)return this.pagePromises[o];var b=this.messageHandler.sendWithPromise("GetPage",{pageIndex:o}).then(function(y){if(r.destroyed)throw new Error("Transport destroyed");var I=new PDFPageProxy(o,y,r,r._params.pdfBug);return r.pageCache[o]=I,I});return this.pagePromises[o]=b,b}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch(function(r){return Promise.reject(new Error(r))})}},{key:"getAnnotations",value:function(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(r){return{info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var r=0,o=t.pageCache.length;r<o;r++){var b=t.pageCache[r];if(b&&!b.cleanup())throw new Error("startCleanup: Page ".concat(r+1," is currently rendering."))}t.commonObjs.clear(),t.fontLoader.clear()})}},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}]),F}(),PDFObjects=function(){function F(){_classCallCheck(this,F),this._objs=Object.create(null)}return _createClass(F,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(r)return this._ensureObj(t).capability.promise.then(r),null;var o=this._objs[t];if(!o||!o.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return o.data}},{key:"has",value:function(t){var r=this._objs[t];return!!r&&r.resolved}},{key:"resolve",value:function(t,r){var o=this._ensureObj(t);o.resolved=!0,o.data=r,o.capability.resolve(r)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),F}(),RenderTask=function(){function F(A){_classCallCheck(this,F),this._internalRenderTask=A,this.onContinue=null}return _createClass(F,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),F}(),InternalRenderTask=function(){var A=new WeakSet,t=function(){function r(o){var b=o.callback,y=o.params,I=o.objs,N=o.commonObjs,O=o.operatorList,R=o.pageIndex,W=o.canvasFactory,e=o.webGLContext,V=o.useRequestAnimationFrame,G=void 0!==V&&V,Z=o.pdfBug,E=void 0!==Z&&Z;_classCallCheck(this,r),this.callback=b,this.params=y,this.objs=I,this.commonObjs=N,this.operatorListIdx=null,this.operatorList=O,this._pageIndex=R,this.canvasFactory=W,this.webGLContext=e,this._pdfBug=E,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===G&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=y.canvasContext.canvas}return _createClass(r,[{key:"initializeGraphics",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(A.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");A.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var y=this.params,I=y.canvasContext,N=y.viewport,O=y.transform,R=y.imageLayer,W=y.background;this.gfx=new _canvas.CanvasGraphics(I,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,R),this.gfx.beginDrawing({transform:O,viewport:N,transparency:b,background:W}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&A.delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var b=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){b._nextBound().catch(b.cancel.bind(b))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(o=_asyncToGenerator(_regenerator.default.mark(function y(){return _regenerator.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!this.cancelled){N.next=2;break}return N.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&A.delete(this._canvas),this.callback()));case 4:case"end":return N.stop()}},y,this)})),function(){return o.apply(this,arguments)})}]),r;var o}();return t}(),version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FontLoader=A.FontFaceObject=void 0;var n,r=(n=t(2))&&n.__esModule?n:{default:n},o=t(5);function y(n){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function N(n,i){return(N=Object.setPrototypeOf||function(f,m){return f.__proto__=m,f})(n,i)}function R(n,i){return!i||"object"!==y(i)&&"function"!=typeof i?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):i}function V(n){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(n)}function G(n,i,u,f,m,x,S){try{var D=n[x](S),H=D.value}catch(q){return void u(q)}D.done?i(H):Promise.resolve(H).then(f,m)}function E(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function T(n,i){for(var u=0;u<i.length;u++){var f=i[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,f.key,f)}}function h(n,i,u){return i&&T(n.prototype,i),u&&T(n,u),n}var c,_=function(){function n(i){var u=i.docId,f=i.onUnsupportedFeature;E(this,n),this.constructor===n&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=u,this._onUnsupportedFeature=f,this.nativeFontFaces=[],this.styleElement=null}return h(n,[{key:"addNativeFontFace",value:function(u){this.nativeFontFaces.push(u),document.fonts.add(u)}},{key:"insertRule",value:function(u){var f=this.styleElement;f||((f=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(f));var m=f.sheet;m.insertRule(u,m.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(u){document.fonts.delete(u)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(i=function(n){return function(){var i=this,u=arguments;return new Promise(function(f,m){var x=n.apply(i,u);function S(H){G(x,f,m,S,D,"next",H)}function D(H){G(x,f,m,S,D,"throw",H)}S(void 0)})}}(r.default.mark(function f(m){var S,D,x=this;return r.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!m.attached&&!m.missingFile){q.next=2;break}return q.abrupt("return");case 2:if(m.attached=!0,!this.isFontLoadingAPISupported){q.next=19;break}if(!(S=m.createNativeFontFace())){q.next=18;break}return this.addNativeFontFace(S),q.prev=7,q.next=10,S.loaded;case 10:q.next=18;break;case 12:throw q.prev=12,q.t0=q.catch(7),this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)("Failed to load font '".concat(S.family,"': '").concat(q.t0,"'.")),m.disableFontFace=!0,q.t0;case 18:return q.abrupt("return");case 19:if(!(D=m.createFontFaceRule())){q.next=26;break}if(this.insertRule(D),!this.isSyncFontLoadingSupported){q.next=24;break}return q.abrupt("return");case 24:return q.next=26,new Promise(function(te){var j=x._queueLoadingCallback(te);x._prepareFontLoadEvent([D],[m],j)});case 26:case"end":return q.stop()}},f,this,[[7,12]])})),function(f){return i.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(u){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(u,f,m){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var u="undefined"!=typeof document&&!!document.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",u)}},{key:"isSyncFontLoadingSupported",get:function(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}}]),n;var i}();A.FontLoader=c,A.FontLoader=c=function(n){!function(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&N(n,i)}(u,n);var i=function(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var m,f=V(n);if(i){var x=V(this).constructor;m=Reflect.construct(f,arguments,x)}else m=f.apply(this,arguments);return R(this,m)}}(u);function u(f){var m;return E(this,u),(m=i.call(this,f)).loadingContext={requests:[],nextRequestId:0},m.loadTestFontId=0,m}return h(u,[{key:"_queueLoadingCallback",value:function(m){var S=this.loadingContext,D={id:"pdfjs-font-loading-".concat(S.nextRequestId++),done:!1,complete:function(){for((0,o.assert)(!D.done,"completeRequest() cannot be called twice."),D.done=!0;S.requests.length>0&&S.requests[0].done;){var H=S.requests.shift();setTimeout(H.callback,0)}},callback:m};return S.requests.push(D),D}},{key:"_prepareFontLoadEvent",value:function(m,x,S){function D(Y,$){return Y.charCodeAt($)<<24|Y.charCodeAt($+1)<<16|Y.charCodeAt($+2)<<8|255&Y.charCodeAt($+3)}function H(Y,$,U,X){return Y.substring(0,$)+X+Y.substring($+U)}var q,te,j=document.createElement("canvas");j.width=1,j.height=1;var Q=j.getContext("2d"),M=0,L="lt".concat(Date.now()).concat(this.loadTestFontId++),g=this._loadTestFont,v=1482184792,P=D(g=H(g,976,L.length,L),16);for(q=0,te=L.length-3;q<te;q+=4)P=P-v+D(L,q)|0;q<L.length&&(P=P-v+D(L+"XXX",q)|0),g=H(g,16,4,(0,o.string32)(P));var J="url(data:font/opentype;base64,".concat(btoa(g),");"),ie='@font-face {font-family:"'.concat(L,'";src:').concat(J,"}");this.insertRule(ie);var ae=[];for(q=0,te=x.length;q<te;q++)ae.push(x[q].loadedName);ae.push(L);var re=document.createElement("div");for(re.style.visibility="hidden",re.style.width=re.style.height="10px",re.style.position="absolute",re.style.top=re.style.left="0px",q=0,te=ae.length;q<te;++q){var se=document.createElement("span");se.textContent="Hi",se.style.fontFamily=ae[q],re.appendChild(se)}document.body.appendChild(re),function k(Y,$){if(++M>30)return(0,o.warn)("Load test font never loaded."),void $();Q.font="30px "+Y,Q.fillText(".",0,20),Q.getImageData(0,0,1,1).data[3]>0?$():setTimeout(k.bind(null,Y,$))}(L,function(){document.body.removeChild(re),S.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var m=!1;if("undefined"==typeof navigator)m=!0;else{var x=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);x&&x[1]>=14&&(m=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",m)}},{key:"_loadTestFont",get:function(){return(0,o.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),u}(_);var l=function(){function n(i,u){var f=u.isEvalSupported,m=void 0===f||f,x=u.disableFontFace,S=void 0!==x&&x,D=u.ignoreErrors,H=void 0!==D&&D,q=u.onUnsupportedFeature,te=void 0===q?null:q,j=u.fontRegistry,Q=void 0===j?null:j;for(var M in E(this,n),this.compiledGlyphs=Object.create(null),i)this[M]=i[M];this.isEvalSupported=!1!==m,this.disableFontFace=!0===S,this.ignoreErrors=!0===H,this._onUnsupportedFeature=te,this.fontRegistry=Q}return h(n,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var u=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),u}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var u=(0,o.bytesToString)(new Uint8Array(this.data)),f="url(data:".concat(this.mimetype,";base64,").concat(btoa(u),");"),m='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(f,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,f),m}},{key:"getPathGenerator",value:function(u,f){if(void 0!==this.compiledGlyphs[f])return this.compiledGlyphs[f];var m,x;try{m=u.get(this.loadedName+"_path_"+f)}catch(te){if(!this.ignoreErrors)throw te;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)('getPathGenerator - ignoring character: "'.concat(te,'".')),this.compiledGlyphs[f]=function(j,Q){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){for(var S,D="",H=0,q=m.length;H<q;H++)S=void 0!==(x=m[H]).args?x.args.join(","):"",D+="c."+x.cmd+"("+S+");\n";return this.compiledGlyphs[f]=new Function("c","size",D)}return this.compiledGlyphs[f]=function(te,j){for(var Q=0,M=m.length;Q<M;Q++)"scale"===(x=m[Q]).cmd&&(x.args=[j,-j]),te[x.cmd].apply(te,x.args)}}}]),n}();A.FontFaceObject=l},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.apiCompatibilityParams=void 0;var r=t(7),o=Object.create(null);r.isNodeJS&&(o.disableFontFace=!0);var b=Object.freeze(o);A.apiCompatibilityParams=b},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CanvasGraphics=void 0;var r=t(5),o=t(202);function b(c,l){var n;if("undefined"==typeof Symbol||null==c[Symbol.iterator]){if(Array.isArray(c)||(n=function(c,l){if(c){if("string"==typeof c)return I(c,l);var n=Object.prototype.toString.call(c).slice(8,-1);if("Object"===n&&c.constructor&&(n=c.constructor.name),"Map"===n||"Set"===n)return Array.from(c);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(c,l)}}(c))||l&&c&&"number"==typeof c.length){n&&(c=n);var i=0,u=function(){};return{s:u,n:function(){return i>=c.length?{done:!0}:{done:!1,value:c[i++]}},e:function(D){throw D},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,f=!0,m=!1;return{s:function(){n=c[Symbol.iterator]()},n:function(){var D=n.next();return f=D.done,D},e:function(D){m=!0,x=D},f:function(){try{!f&&null!=n.return&&n.return()}finally{if(m)throw x}}}}function I(c,l){(null==l||l>c.length)&&(l=c.length);for(var n=0,i=new Array(l);n<l;n++)i[n]=c[n];return i}var R=4096,W=.65,G=16;function Z(c){c.mozCurrentTransform||(c._originalSave=c.save,c._originalRestore=c.restore,c._originalRotate=c.rotate,c._originalScale=c.scale,c._originalTranslate=c.translate,c._originalTransform=c.transform,c._originalSetTransform=c.setTransform,c._transformMatrix=c._transformMatrix||[1,0,0,1,0,0],c._transformStack=[],Object.defineProperty(c,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(c,"mozCurrentTransformInverse",{get:function(){var n=this._transformMatrix,i=n[0],u=n[1],f=n[2],m=n[3],x=n[4],S=n[5],D=i*m-u*f,H=u*f-i*m;return[m/D,u/H,f/H,i/D,(m*x-f*S)/H,(u*x-i*S)/D]}}),c.save=function(){var n=this._transformMatrix;this._transformStack.push(n),this._transformMatrix=n.slice(0,6),this._originalSave()},c.restore=function(){var n=this._transformStack.pop();n&&(this._transformMatrix=n,this._originalRestore())},c.translate=function(n,i){var u=this._transformMatrix;u[4]=u[0]*n+u[2]*i+u[4],u[5]=u[1]*n+u[3]*i+u[5],this._originalTranslate(n,i)},c.scale=function(n,i){var u=this._transformMatrix;u[0]=u[0]*n,u[1]=u[1]*n,u[2]=u[2]*i,u[3]=u[3]*i,this._originalScale(n,i)},c.transform=function(n,i,u,f,m,x){var S=this._transformMatrix;this._transformMatrix=[S[0]*n+S[2]*i,S[1]*n+S[3]*i,S[0]*u+S[2]*f,S[1]*u+S[3]*f,S[0]*m+S[2]*x+S[4],S[1]*m+S[3]*x+S[5]],c._originalTransform(n,i,u,f,m,x)},c.setTransform=function(n,i,u,f,m,x){this._transformMatrix=[n,i,u,f,m,x],c._originalSetTransform(n,i,u,f,m,x)},c.rotate=function(n){var i=Math.cos(n),u=Math.sin(n),f=this._transformMatrix;this._transformMatrix=[f[0]*i+f[2]*u,f[1]*i+f[3]*u,f[0]*-u+f[2]*i,f[1]*-u+f[3]*i,f[4],f[5]],this._originalRotate(n)})}var E=function(){function l(n){this.canvasFactory=n,this.cache=Object.create(null)}return l.prototype={getCanvas:function(i,u,f,m){var x;return void 0!==this.cache[i]?(this.canvasFactory.reset(x=this.cache[i],u,f),x.context.setTransform(1,0,0,1,0,0)):(x=this.canvasFactory.create(u,f),this.cache[i]=x),m&&Z(x.context),x},clear:function(){for(var i in this.cache)this.canvasFactory.destroy(this.cache[i]),delete this.cache[i]}},l}(),h=function(){function l(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return l.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(i,u){this.x=i,this.y=u}},l}(),_=function(){function i(g,p,d,v,P,J){this.ctx=g,this.current=new h,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=p,this.objs=d,this.canvasFactory=v,this.webGLContext=P,this.imageLayer=J,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new E(this.canvasFactory),g&&Z(g),this._cachedGetSinglePixelWidth=null}function u(g,p){if("undefined"!=typeof ImageData&&p instanceof ImageData)g.putImageData(p,0,0);else{var se,U,X,ee,ce,d=p.height,v=p.width,P=d%G,J=(d-P)/G,ie=0===P?J:J+1,ae=g.createImageData(v,G),re=0,Y=p.data,$=ae.data;if(p.kind===r.ImageKind.GRAYSCALE_1BPP){var de=Y.byteLength,Ae=new Uint32Array($.buffer,0,$.byteLength>>2),Te=Ae.length,Pe=v+7>>3,ze=4294967295,Be=r.IsLittleEndianCached.value?4278190080:255;for(U=0;U<ie;U++){for(ee=U<J?G:P,se=0,X=0;X<ee;X++){for(var Xe=de-re,et=0,Qe=Xe>Pe?v:8*Xe-7,he=-8&Qe,ye=0,ve=0;et<he;et+=8)ve=Y[re++],Ae[se++]=128&ve?ze:Be,Ae[se++]=64&ve?ze:Be,Ae[se++]=32&ve?ze:Be,Ae[se++]=16&ve?ze:Be,Ae[se++]=8&ve?ze:Be,Ae[se++]=4&ve?ze:Be,Ae[se++]=2&ve?ze:Be,Ae[se++]=1&ve?ze:Be;for(;et<Qe;et++)0===ye&&(ve=Y[re++],ye=128),Ae[se++]=ve&ye?ze:Be,ye>>=1}for(;se<Te;)Ae[se++]=0;g.putImageData(ae,0,U*G)}}else if(p.kind===r.ImageKind.RGBA_32BPP){for(X=0,ce=v*G*4,U=0;U<J;U++)$.set(Y.subarray(re,re+ce)),re+=ce,g.putImageData(ae,0,X),X+=G;U<ie&&($.set(Y.subarray(re,re+(ce=v*P*4))),g.putImageData(ae,0,X))}else{if(p.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(p.kind));for(ce=v*(ee=G),U=0;U<ie;U++){for(U>=J&&(ce=v*(ee=P)),se=0,X=ce;X--;)$[se++]=Y[re++],$[se++]=Y[re++],$[se++]=Y[re++],$[se++]=255;g.putImageData(ae,0,U*G)}}}}function f(g,p){for(var d=p.height,v=p.width,P=d%G,J=(d-P)/G,ie=0===P?J:J+1,ae=g.createImageData(v,G),re=0,se=p.data,Y=ae.data,$=0;$<ie;$++){for(var U=$<J?G:P,X=3,ee=0;ee<U;ee++)for(var ce=0,de=0;de<v;de++){if(!ce){var Ae=se[re++];ce=128}Y[X]=Ae&ce?0:255,X+=4,ce>>=1}g.putImageData(ae,0,$*G)}}function m(g,p){for(var d=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],v=0,P=d.length;v<P;v++){var J=d[v];void 0!==g[J]&&(p[J]=g[J])}void 0!==g.setLineDash&&(p.setLineDash(g.getLineDash()),p.lineDashOffset=g.lineDashOffset)}function x(g){g.strokeStyle="#000000",g.fillStyle="#000000",g.fillRule="nonzero",g.globalAlpha=1,g.lineWidth=1,g.lineCap="butt",g.lineJoin="miter",g.miterLimit=10,g.globalCompositeOperation="source-over",g.font="10px sans-serif",void 0!==g.setLineDash&&(g.setLineDash([]),g.lineDashOffset=0)}function S(g,p,d,v){for(var P=g.length,J=3;J<P;J+=4){var ie=g[J];if(0===ie)g[J-3]=p,g[J-2]=d,g[J-1]=v;else if(ie<255){var ae=255-ie;g[J-3]=g[J-3]*ie+p*ae>>8,g[J-2]=g[J-2]*ie+d*ae>>8,g[J-1]=g[J-1]*ie+v*ae>>8}}}function D(g,p,d){for(var v=g.length,J=3;J<v;J+=4)p[J]=p[J]*(d?d[g[J]]:g[J])*.00392156862745098|0}function H(g,p,d){for(var v=g.length,P=3;P<v;P+=4){var J=77*g[P-3]+152*g[P-2]+28*g[P-1];p[P]=d?p[P]*d[J>>8]>>8:p[P]*J>>16}}function te(g,p,d,v){var P=p.canvas,J=p.context;g.setTransform(p.scaleX,0,0,p.scaleY,p.offsetX,p.offsetY);var ie=p.backdrop||null;if(!p.transferMap&&v.isEnabled){var ae=v.composeSMask({layer:d.canvas,mask:P,properties:{subtype:p.subtype,backdrop:ie}});return g.setTransform(1,0,0,1,0,0),void g.drawImage(ae,p.offsetX,p.offsetY)}(function(g,p,d,v,P,J,ie){var $,ae=!!J,re=ae?J[0]:0,se=ae?J[1]:0,Y=ae?J[2]:0;$="Luminosity"===P?H:D;for(var X=Math.min(v,Math.ceil(1048576/d)),ee=0;ee<v;ee+=X){var ce=Math.min(X,v-ee),de=g.getImageData(0,ee,d,ce),Ae=p.getImageData(0,ee,d,ce);ae&&S(de.data,re,se,Y),$(de.data,Ae.data,ie),g.putImageData(Ae,0,ee)}})(J,d,P.width,P.height,p.subtype,ie,p.transferMap),g.drawImage(P,0,0)}var j=["butt","round","square"],Q=["miter","round","bevel"],M={},k={};for(var L in i.prototype={beginDrawing:function(p){var d=p.transform,v=p.viewport,P=p.transparency,J=void 0!==P&&P,ie=p.background,ae=void 0===ie?null:ie,re=this.ctx.canvas.width,se=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=ae||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,re,se),this.ctx.restore(),J){var Y=this.cachedCanvases.getCanvas("transparent",re,se,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Y.canvas,this.ctx=Y.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx),d&&this.ctx.transform.apply(this.ctx,d),this.ctx.transform.apply(this.ctx,v.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(p,d,v,P){var J=p.argsArray,ie=p.fnArray,ae=d||0,re=J.length;if(re===ae)return ae;for(var ee,se=re-ae>10&&"function"==typeof v,Y=se?Date.now()+15:0,$=0,U=this.commonObjs,X=this.objs;;){if(void 0!==P&&ae===P.nextBreakPoint)return P.breakIt(ae,v),ae;if((ee=ie[ae])!==r.OPS.dependency)this[ee].apply(this,J[ae]);else{var de,ce=b(J[ae]);try{for(ce.s();!(de=ce.n()).done;){var Ae=de.value,Te=Ae.startsWith("g_")?U:X;if(!Te.has(Ae))return Te.get(Ae,v),ae}}catch(Pe){ce.e(Pe)}finally{ce.f()}}if(++ae===re)return ae;if(se&&++$>10){if(Date.now()>Y)return v(),ae;$=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(p){this.current.lineWidth=p,this.ctx.lineWidth=p},setLineCap:function(p){this.ctx.lineCap=j[p]},setLineJoin:function(p){this.ctx.lineJoin=Q[p]},setMiterLimit:function(p){this.ctx.miterLimit=p},setDash:function(p,d){var v=this.ctx;void 0!==v.setLineDash&&(v.setLineDash(p),v.lineDashOffset=d)},setRenderingIntent:function(p){},setFlatness:function(p){},setGState:function(p){for(var d=0,v=p.length;d<v;d++){var P=p[d],ie=P[1];switch(P[0]){case"LW":this.setLineWidth(ie);break;case"LC":this.setLineCap(ie);break;case"LJ":this.setLineJoin(ie);break;case"ML":this.setMiterLimit(ie);break;case"D":this.setDash(ie[0],ie[1]);break;case"RI":this.setRenderingIntent(ie);break;case"FL":this.setFlatness(ie);break;case"Font":this.setFont(ie[0],ie[1]);break;case"CA":this.current.strokeAlpha=P[1];break;case"ca":this.current.fillAlpha=P[1],this.ctx.globalAlpha=P[1];break;case"BM":this.ctx.globalCompositeOperation=ie;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=ie?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var p=this.current.activeSMask,J=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,p.canvas.width,p.canvas.height,!0),ie=this.ctx,ae=ie.mozCurrentTransform;this.ctx.save();var re=J.context;re.scale(1/p.scaleX,1/p.scaleY),re.translate(-p.offsetX,-p.offsetY),re.transform.apply(re,ae),p.startTransformInverse=re.mozCurrentTransformInverse,m(ie,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ie),this.groupLevel++},suspendSMaskGroup:function(){var p=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),te(this.ctx,this.current.activeSMask,p,this.webGLContext),this.ctx.restore(),this.ctx.save(),m(p,this.ctx),this.current.resumeSMaskCtx=p;var d=r.Util.transform(this.current.activeSMask.startTransformInverse,p.mozCurrentTransform);this.ctx.transform.apply(this.ctx,d),p.save(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,p.canvas.width,p.canvas.height),p.restore()},resumeSMaskGroup:function(){var d=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(d),this.groupLevel++},endSMaskGroup:function(){var p=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),te(this.ctx,this.current.activeSMask,p,this.webGLContext),this.ctx.restore(),m(p,this.ctx);var d=r.Util.transform(this.current.activeSMask.startTransformInverse,p.mozCurrentTransform);this.ctx.transform.apply(this.ctx,d)},save:function(){this.ctx.save();var p=this.current;this.stateStack.push(p),this.current=p.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(p,d,v,P,J,ie){this.ctx.transform(p,d,v,P,J,ie),this._cachedGetSinglePixelWidth=null},constructPath:function(p,d){for(var v=this.ctx,P=this.current,J=P.x,ie=P.y,ae=0,re=0,se=p.length;ae<se;ae++)switch(0|p[ae]){case r.OPS.rectangle:J=d[re++],ie=d[re++];var Y=d[re++],$=d[re++];0===Y&&(Y=this.getSinglePixelWidth()),0===$&&($=this.getSinglePixelWidth());var U=J+Y,X=ie+$;this.ctx.moveTo(J,ie),this.ctx.lineTo(U,ie),this.ctx.lineTo(U,X),this.ctx.lineTo(J,X),this.ctx.lineTo(J,ie),this.ctx.closePath();break;case r.OPS.moveTo:J=d[re++],ie=d[re++],v.moveTo(J,ie);break;case r.OPS.lineTo:J=d[re++],ie=d[re++],v.lineTo(J,ie);break;case r.OPS.curveTo:v.bezierCurveTo(d[re],d[re+1],d[re+2],d[re+3],J=d[re+4],ie=d[re+5]),re+=6;break;case r.OPS.curveTo2:v.bezierCurveTo(J,ie,d[re],d[re+1],d[re+2],d[re+3]),J=d[re+2],ie=d[re+3],re+=4;break;case r.OPS.curveTo3:v.bezierCurveTo(d[re],d[re+1],J=d[re+2],ie=d[re+3],J,ie),re+=4;break;case r.OPS.closePath:v.closePath()}P.setCurrentPoint(J,ie)},closePath:function(){this.ctx.closePath()},stroke:function(p){p=void 0===p||p;var d=this.ctx,v=this.current.strokeColor;if(d.globalAlpha=this.current.strokeAlpha,v&&v.hasOwnProperty("type")&&"Pattern"===v.type){d.save();var J=r.Util.singularValueDecompose2dScale(d.mozCurrentTransform)[0];d.strokeStyle=v.getPattern(d,this),d.lineWidth=Math.max(this.getSinglePixelWidth()*W,this.current.lineWidth*J),d.stroke(),d.restore()}else d.lineWidth=Math.max(this.getSinglePixelWidth()*W,this.current.lineWidth),d.stroke();p&&this.consumePath(),d.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(p){p=void 0===p||p;var d=this.ctx,v=this.current.fillColor,J=!1;this.current.patternFill&&(d.save(),this.baseTransform&&d.setTransform.apply(d,this.baseTransform),d.fillStyle=v.getPattern(d,this),J=!0),this.pendingEOFill?(d.fill("evenodd"),this.pendingEOFill=!1):d.fill(),J&&d.restore(),p&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=M},eoClip:function(){this.pendingClip=k},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var p=this.pendingTextPaths,d=this.ctx;if(void 0!==p){d.save(),d.beginPath();for(var v=0;v<p.length;v++){var P=p[v];d.setTransform.apply(d,P.transform),d.translate(P.x,P.y),P.addToPath(d,P.fontSize)}d.restore(),d.clip(),d.beginPath(),delete this.pendingTextPaths}else d.beginPath()},setCharSpacing:function(p){this.current.charSpacing=p},setWordSpacing:function(p){this.current.wordSpacing=p},setHScale:function(p){this.current.textHScale=p/100},setLeading:function(p){this.current.leading=-p},setFont:function(p,d){var v=this.commonObjs.get(p),P=this.current;if(!v)throw new Error("Can't find font for ".concat(p));if(P.fontMatrix=v.fontMatrix?v.fontMatrix:r.FONT_IDENTITY_MATRIX,(0===P.fontMatrix[0]||0===P.fontMatrix[3])&&(0,r.warn)("Invalid font matrix for font "+p),d<0?(d=-d,P.fontDirection=-1):P.fontDirection=1,this.current.font=v,this.current.fontSize=d,!v.isType3Font){var ie="normal";v.black?ie="900":v.bold&&(ie="bold");var ae=v.italic?"italic":"normal",re='"'.concat(v.loadedName||"sans-serif",'", ').concat(v.fallbackName),se=d;d<16?se=16:d>100&&(se=100),this.current.fontSizeScale=d/se,this.ctx.font="".concat(ae," ").concat(ie," ").concat(se,"px ").concat(re)}},setTextRenderingMode:function(p){this.current.textRenderingMode=p},setTextRise:function(p){this.current.textRise=p},moveText:function(p,d){this.current.x=this.current.lineX+=p,this.current.y=this.current.lineY+=d},setLeadingMoveText:function(p,d){this.setLeading(-d),this.moveText(p,d)},setTextMatrix:function(p,d,v,P,J,ie){this.current.textMatrix=[p,d,v,P,J,ie],this.current.textMatrixScale=Math.sqrt(p*p+d*d),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(p,d,v,P){var X,J=this.ctx,ie=this.current,ae=ie.font,re=ie.textRenderingMode,se=ie.fontSize/ie.fontSizeScale,Y=re&r.TextRenderingMode.FILL_STROKE_MASK,$=!!(re&r.TextRenderingMode.ADD_TO_PATH_FLAG),U=ie.patternFill&&!ae.missingFile;(ae.disableFontFace||$||U)&&(X=ae.getPathGenerator(this.commonObjs,p)),ae.disableFontFace||U?(J.save(),J.translate(d,v),J.beginPath(),X(J,se),P&&J.setTransform.apply(J,P),(Y===r.TextRenderingMode.FILL||Y===r.TextRenderingMode.FILL_STROKE)&&J.fill(),(Y===r.TextRenderingMode.STROKE||Y===r.TextRenderingMode.FILL_STROKE)&&J.stroke(),J.restore()):((Y===r.TextRenderingMode.FILL||Y===r.TextRenderingMode.FILL_STROKE)&&J.fillText(p,d,v),(Y===r.TextRenderingMode.STROKE||Y===r.TextRenderingMode.FILL_STROKE)&&J.strokeText(p,d,v)),$&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:J.mozCurrentTransform,x:d,y:v,fontSize:se,addToPath:X})},get isFontSubpixelAAEnabled(){var p=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;p.scale(1.5,1),p.fillText("I",0,10);for(var d=p.getImageData(0,0,10,10).data,v=!1,P=3;P<d.length;P+=4)if(d[P]>0&&d[P]<255){v=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",v)},showText:function(p){var d=this.current,v=d.font;if(v.isType3Font)return this.showType3Text(p);var P=d.fontSize;if(0!==P){var Ae,J=this.ctx,ie=d.fontSizeScale,ae=d.charSpacing,re=d.wordSpacing,se=d.fontDirection,Y=d.textHScale*se,$=p.length,U=v.vertical,X=U?1:-1,ee=v.defaultVMetrics,ce=P*d.fontMatrix[0],de=d.textRenderingMode===r.TextRenderingMode.FILL&&!v.disableFontFace&&!d.patternFill;if(J.save(),d.patternFill){J.save();var Te=d.fillColor.getPattern(J,this);Ae=J.mozCurrentTransform,J.restore(),J.fillStyle=Te}J.transform.apply(J,d.textMatrix),J.translate(d.x,d.y+d.textRise),J.scale(Y,se>0?-1:1);var Pe=d.lineWidth,ze=d.textMatrixScale;if(0===ze||0===Pe){var Be=d.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Be===r.TextRenderingMode.STROKE||Be===r.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Pe=this.getSinglePixelWidth()*W)}else Pe/=ze;1!==ie&&(J.scale(ie,ie),Pe/=ie),J.lineWidth=Pe;var et,Xe=0;for(et=0;et<$;++et){var Qe=p[et];if((0,r.isNum)(Qe))Xe+=X*Qe*P/1e3;else{var pe,Se,Fe,Ne,he=!1,ye=(Qe.isSpace?re:0)+ae,ve=Qe.fontChar,ue=Qe.accent,ke=Qe.width;if(U?(Fe=Qe.vmetric||ee,Ne=Qe.vmetric?Fe[1]:.5*ke,ke=Fe?-Fe[0]:ke,pe=(Ne=-Ne*ce)/ie,Se=(Xe+Fe[2]*ce)/ie):(pe=Xe/ie,Se=0),v.remeasure&&ke>0){var $e=1e3*J.measureText(ve).width/P*ie;if(ke<$e&&this.isFontSubpixelAAEnabled){var it=ke/$e;he=!0,J.save(),J.scale(it,1),pe/=it}else ke!==$e&&(pe+=(ke-$e)/2e3*P/ie)}(Qe.isInFont||v.missingFile)&&(de&&!ue?J.fillText(ve,pe,Se):(this.paintChar(ve,pe,Se,Ae),ue&&this.paintChar(ue.fontChar,pe+ue.offset.x/ie,Se-ue.offset.y/ie,Ae))),Xe+=U?ke*ce-ye*se:ke*ce+ye*se,he&&J.restore()}}U?d.y-=Xe:d.x+=Xe*Y,J.restore()}},showType3Text:function(p){var ee,ce,de,Ae,d=this.ctx,v=this.current,P=v.font,J=v.fontSize,ie=v.fontDirection,ae=P.vertical?1:-1,re=v.charSpacing,se=v.wordSpacing,Y=v.textHScale*ie,$=v.fontMatrix||r.FONT_IDENTITY_MATRIX,U=p.length;if(v.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==J){for(this._cachedGetSinglePixelWidth=null,d.save(),d.transform.apply(d,v.textMatrix),d.translate(v.x,v.y),d.scale(Y,ie),ee=0;ee<U;++ee)if((0,r.isNum)(ce=p[ee]))this.ctx.translate(Ae=ae*ce*J/1e3,0),v.x+=Ae*Y;else{var Te=(ce.isSpace?se:0)+re,Pe=P.charProcOperatorList[ce.operatorListId];if(Pe){this.processingType3=ce,this.save(),d.scale(J,J),d.transform.apply(d,$),this.executeOperatorList(Pe),this.restore();var ze=r.Util.applyTransform([ce.width,0],$);d.translate(de=ze[0]*J+Te,0),v.x+=de*Y}else(0,r.warn)('Type3 character "'.concat(ce.operatorListId,'" is not available.'))}d.restore(),this.processingType3=null}},setCharWidth:function(p,d){},setCharWidthAndBounds:function(p,d,v,P,J,ie){this.ctx.rect(v,P,J-v,ie-P),this.clip(),this.endPath()},getColorN_Pattern:function(p){var v,d=this;if("TilingPattern"===p[0]){var P=p[1],J=this.baseTransform||this.ctx.mozCurrentTransform.slice();v=new o.TilingPattern(p,P,this.ctx,{createCanvasGraphics:function(re){return new i(re,d.commonObjs,d.objs,d.canvasFactory,d.webGLContext)}},J)}else v=(0,o.getShadingPatternFromIR)(p);return v},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(p,d,v){var P=r.Util.makeCssRgb(p,d,v);this.ctx.strokeStyle=P,this.current.strokeColor=P},setFillRGBColor:function(p,d,v){var P=r.Util.makeCssRgb(p,d,v);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1},shadingFill:function(p){var d=this.ctx;this.save();var v=(0,o.getShadingPatternFromIR)(p);d.fillStyle=v.getPattern(d,this,!0);var P=d.mozCurrentTransformInverse;if(P){var J=d.canvas,ie=J.width,ae=J.height,re=r.Util.applyTransform([0,0],P),se=r.Util.applyTransform([0,ae],P),Y=r.Util.applyTransform([ie,0],P),$=r.Util.applyTransform([ie,ae],P),U=Math.min(re[0],se[0],Y[0],$[0]),X=Math.min(re[1],se[1],Y[1],$[1]),ee=Math.max(re[0],se[0],Y[0],$[0]),ce=Math.max(re[1],se[1],Y[1],$[1]);this.ctx.fillRect(U,X,ee-U,ce-X)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(p,d){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(p)&&6===p.length&&this.transform.apply(this,p),this.baseTransform=this.ctx.mozCurrentTransform,d&&(this.ctx.rect(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(p){this.save();var d=this.ctx;p.isolated||(0,r.info)("TODO: Support non-isolated groups."),p.knockout&&(0,r.warn)("Knockout groups not supported.");var v=d.mozCurrentTransform;if(p.matrix&&d.transform.apply(d,p.matrix),!p.bbox)throw new Error("Bounding box is required.");var P=r.Util.getAxialAlignedBoundingBox(p.bbox,d.mozCurrentTransform);P=r.Util.intersect(P,[0,0,d.canvas.width,d.canvas.height])||[0,0,0,0];var ie=Math.floor(P[0]),ae=Math.floor(P[1]),re=Math.max(Math.ceil(P[2])-ie,1),se=Math.max(Math.ceil(P[3])-ae,1),Y=1,$=1;re>R&&(Y=re/R,re=R),se>R&&($=se/R,se=R);var U="groupAt"+this.groupLevel;p.smask&&(U+="_smask_"+this.smaskCounter++%2);var X=this.cachedCanvases.getCanvas(U,re,se,!0),ee=X.context;ee.scale(1/Y,1/$),ee.translate(-ie,-ae),ee.transform.apply(ee,v),p.smask?this.smaskStack.push({canvas:X.canvas,context:ee,offsetX:ie,offsetY:ae,scaleX:Y,scaleY:$,subtype:p.smask.subtype,backdrop:p.smask.backdrop,transferMap:p.smask.transferMap||null,startTransformInverse:null}):(d.setTransform(1,0,0,1,0,0),d.translate(ie,ae),d.scale(Y,$)),m(d,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(d),this.groupLevel++,this.current.activeSMask=null},endGroup:function(p){this.groupLevel--;var d=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,p.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(d.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(p,d,v){this.save(),x(this.ctx),this.current=new h,Array.isArray(p)&&4===p.length&&(this.ctx.rect(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.clip(),this.endPath()),this.transform.apply(this,d),this.transform.apply(this,v)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(p){var d=this.ctx,v=p.width,P=p.height,J=this.current.fillColor,ie=this.current.patternFill,ae=this.processingType3;if(ae&&void 0===ae.compiled&&(ae.compiled=v<=1e3&&P<=1e3?function(c){var u,f,m,Q,n=c.width,i=c.height,x=n+1,S=new Uint8Array(x*(i+1)),D=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),H=n+7&-8,q=c.data,te=new Uint8Array(H*i),j=0;for(u=0,Q=q.length;u<Q;u++)for(var M=128,k=q[u];M>0;)te[j++]=k&M?0:255,M>>=1;var L=0;for(0!==te[j=0]&&(S[0]=1,++L),f=1;f<n;f++)te[j]!==te[j+1]&&(S[f]=te[j]?2:1,++L),j++;for(0!==te[j]&&(S[f]=2,++L),u=1;u<i;u++){m=u*x,te[(j=u*H)-H]!==te[j]&&(S[m]=te[j]?1:8,++L);var g=(te[j]?4:0)+(te[j-H]?8:0);for(f=1;f<n;f++)D[g=(g>>2)+(te[j+1]?4:0)+(te[j-H+1]?8:0)]&&(S[m+f]=D[g],++L),j++;if(te[j-H]!==te[j]&&(S[m+f]=te[j]?2:4,++L),L>1e3)return null}for(m=u*x,0!==te[j=H*(i-1)]&&(S[m]=8,++L),f=1;f<n;f++)te[j]!==te[j+1]&&(S[m+f]=te[j]?4:8,++L),j++;if(0!==te[j]&&(S[m+f]=4,++L),L>1e3)return null;var p=new Int32Array([0,x,-1,0,-x,0,0,0,1]),d=[];for(u=0;L&&u<=i;u++){for(var v=u*x,P=v+n;v<P&&!S[v];)v++;if(v!==P){var re,J=[v%x,u],ie=S[v],ae=v;do{var se=p[ie];do{v+=se}while(!S[v]);5!==(re=S[v])&&10!==re?(ie=re,S[v]=0):S[v]&=(ie=re&51*ie>>4)>>2|ie<<2,J.push(v%x),J.push(v/x|0),S[v]||--L}while(ae!==v);d.push(J),--u}}return function(U){U.save(),U.scale(1/n,-1/i),U.translate(0,-i),U.beginPath();for(var X=0,ee=d.length;X<ee;X++){var ce=d[X];U.moveTo(ce[0],ce[1]);for(var de=2,Ae=ce.length;de<Ae;de+=2)U.lineTo(ce[de],ce[de+1])}U.fill(),U.beginPath(),U.restore()}}({data:p.data,width:v,height:P}):null),ae&&ae.compiled)ae.compiled(d);else{var re=this.cachedCanvases.getCanvas("maskCanvas",v,P),se=re.context;se.save(),f(se,p),se.globalCompositeOperation="source-in",se.fillStyle=ie?J.getPattern(se,this):J,se.fillRect(0,0,v,P),se.restore(),this.paintInlineImageXObject(re.canvas)}},paintImageMaskXObjectRepeat:function(p,d,v,P){var J=p.width,ie=p.height,ae=this.current.fillColor,re=this.current.patternFill,se=this.cachedCanvases.getCanvas("maskCanvas",J,ie),Y=se.context;Y.save(),f(Y,p),Y.globalCompositeOperation="source-in",Y.fillStyle=re?ae.getPattern(Y,this):ae,Y.fillRect(0,0,J,ie),Y.restore();for(var $=this.ctx,U=0,X=P.length;U<X;U+=2)$.save(),$.transform(d,0,0,v,P[U],P[U+1]),$.scale(1,-1),$.drawImage(se.canvas,0,0,J,ie,0,-1,1,1),$.restore()},paintImageMaskXObjectGroup:function(p){for(var d=this.ctx,v=this.current.fillColor,P=this.current.patternFill,J=0,ie=p.length;J<ie;J++){var ae=p[J],re=ae.width,se=ae.height,Y=this.cachedCanvases.getCanvas("maskCanvas",re,se),$=Y.context;$.save(),f($,ae),$.globalCompositeOperation="source-in",$.fillStyle=P?v.getPattern($,this):v,$.fillRect(0,0,re,se),$.restore(),d.save(),d.transform.apply(d,ae.transform),d.scale(1,-1),d.drawImage(Y.canvas,0,0,re,se,0,-1,1,1),d.restore()}},paintImageXObject:function(p){var d=p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p);d?this.paintInlineImageXObject(d):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(p,d,v,P){var J=p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p);if(J){for(var ie=J.width,ae=J.height,re=[],se=0,Y=P.length;se<Y;se+=2)re.push({transform:[d,0,0,v,P[se],P[se+1]],x:0,y:0,w:ie,h:ae});this.paintInlineImageXObjectGroup(J,re)}else(0,r.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(p){var d=p.width,v=p.height,P=this.ctx;this.save(),P.scale(1/d,-1/v);var U,X,J=P.mozCurrentTransformInverse,ie=J[0],ae=J[1],re=Math.max(Math.sqrt(ie*ie+ae*ae),1),se=J[2],Y=J[3],$=Math.max(Math.sqrt(se*se+Y*Y),1);if("function"==typeof HTMLElement&&p instanceof HTMLElement||!p.data)U=p;else{var ee=(X=this.cachedCanvases.getCanvas("inlineImage",d,v)).context;u(ee,p),U=X.canvas}for(var ce=d,de=v,Ae="prescale1";re>2&&ce>1||$>2&&de>1;){var Te=ce,Pe=de;re>2&&ce>1&&(re/=ce/(Te=Math.ceil(ce/2))),$>2&&de>1&&($/=de/(Pe=Math.ceil(de/2))),(ee=(X=this.cachedCanvases.getCanvas(Ae,Te,Pe)).context).clearRect(0,0,Te,Pe),ee.drawImage(U,0,0,ce,de,0,0,Te,Pe),U=X.canvas,ce=Te,de=Pe,Ae="prescale1"===Ae?"prescale2":"prescale1"}if(P.drawImage(U,0,0,ce,de,0,-v,d,v),this.imageLayer){var ze=this.getCanvasPosition(0,-v);this.imageLayer.appendImage({imgData:p,left:ze[0],top:ze[1],width:d/J[0],height:v/J[3]})}this.restore()},paintInlineImageXObjectGroup:function(p,d){var v=this.ctx,P=p.width,J=p.height,ie=this.cachedCanvases.getCanvas("inlineImage",P,J);u(ie.context,p);for(var re=0,se=d.length;re<se;re++){var Y=d[re];if(v.save(),v.transform.apply(v,Y.transform),v.scale(1,-1),v.drawImage(ie.canvas,Y.x,Y.y,Y.w,Y.h,0,-1,1,1),this.imageLayer){var $=this.getCanvasPosition(Y.x,Y.y);this.imageLayer.appendImage({imgData:p,left:$[0],top:$[1],width:P,height:J})}v.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,r.warn)("Unsupported 'paintXObject' command.")},markPoint:function(p){},markPointProps:function(p,d){},beginMarkedContent:function(p){},beginMarkedContentProps:function(p,d){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var p=this.ctx;this.pendingClip&&(this.pendingClip===k?p.clip("evenodd"):p.clip(),this.pendingClip=null),p.beginPath()},getSinglePixelWidth:function(p){if(null===this._cachedGetSinglePixelWidth){var d=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(d[0]*d[0]+d[1]*d[1],d[2]*d[2]+d[3]*d[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(p,d){var v=this.ctx.mozCurrentTransform;return[v[0]*p+v[2]*d+v[4],v[1]*p+v[3]*d+v[5]]}},r.OPS)i.prototype[r.OPS[L]]=i.prototype[L];return i}();A.CanvasGraphics=_},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getShadingPatternFromIR=function(O){var R=o[O[0]];if(!R)throw new Error("Unknown IR type: ".concat(O[0]));return R.fromIR(O)},A.TilingPattern=void 0;var r=t(5),o={};function b(O,R){if(R&&"undefined"!=typeof Path2D){var W=R[2]-R[0],e=R[3]-R[1],V=new Path2D;V.rect(R[0],R[1],W,e),O.clip(V)}}o.RadialAxial={fromIR:function(R){var W=R[1],e=R[2],V=R[3],G=R[4],Z=R[5],E=R[6],T=R[7];return{type:"Pattern",getPattern:function(_){var c;b(_,e),"axial"===W?c=_.createLinearGradient(G[0],G[1],Z[0],Z[1]):"radial"===W&&(c=_.createRadialGradient(G[0],G[1],E,Z[0],Z[1],T));for(var l=0,n=V.length;l<n;++l){var i=V[l];c.addColorStop(i[0],i[1])}return c}}}};var y=function(){function R(V,G,Z,E,T,h,_,c){var f,l=G.coords,n=G.colors,i=V.data,u=4*V.width;l[Z+1]>l[E+1]&&(f=Z,Z=E,E=f,f=h,h=_,_=f),l[E+1]>l[T+1]&&(f=E,E=T,T=f,f=_,_=c,c=f),l[Z+1]>l[E+1]&&(f=Z,Z=E,E=f,f=h,h=_,_=f);var m=(l[Z]+G.offsetX)*G.scaleX,x=(l[Z+1]+G.offsetY)*G.scaleY,S=(l[E]+G.offsetX)*G.scaleX,D=(l[E+1]+G.offsetY)*G.scaleY,H=(l[T]+G.offsetX)*G.scaleX,q=(l[T+1]+G.offsetY)*G.scaleY;if(!(x>=q))for(var J,ie,ae,re,se,Y,$,U,te=n[h],j=n[h+1],Q=n[h+2],M=n[_],k=n[_+1],L=n[_+2],g=n[c],p=n[c+1],d=n[c+2],v=Math.round(x),P=Math.round(q),X=v;X<=P;X++){if(X<D){var ee;J=m-(m-S)*(ee=X<x?0:x===D?1:(x-X)/(x-D)),ie=te-(te-M)*ee,ae=j-(j-k)*ee,re=Q-(Q-L)*ee}else{var ce;J=S-(S-H)*(ce=X>q?1:D===q?0:(D-X)/(D-q)),ie=M-(M-g)*ce,ae=k-(k-p)*ce,re=L-(L-d)*ce}var de=void 0;se=m-(m-H)*(de=X<x?0:X>q?1:(x-X)/(x-q)),Y=te-(te-g)*de,$=j-(j-p)*de,U=Q-(Q-d)*de;for(var Ae=Math.round(Math.min(J,se)),Te=Math.round(Math.max(J,se)),Pe=u*X+4*Ae,ze=Ae;ze<=Te;ze++)(de=(J-ze)/(J-se))<0?de=0:de>1&&(de=1),i[Pe++]=ie-(ie-Y)*de|0,i[Pe++]=ae-(ae-$)*de|0,i[Pe++]=re-(re-U)*de|0,i[Pe++]=255}}function W(V,G,Z){var h,_,E=G.coords,T=G.colors;switch(G.type){case"lattice":var c=G.verticesPerRow,l=Math.floor(E.length/c)-1,n=c-1;for(h=0;h<l;h++)for(var i=h*c,u=0;u<n;u++,i++)R(V,Z,E[i],E[i+1],E[i+c],T[i],T[i+1],T[i+c]),R(V,Z,E[i+c+1],E[i+1],E[i+c],T[i+c+1],T[i+1],T[i+c]);break;case"triangles":for(h=0,_=E.length;h<_;h+=3)R(V,Z,E[h],E[h+1],E[h+2],T[h],T[h+1],T[h+2]);break;default:throw new Error("illegal figure")}}return function(V,G,Z,E,T,h,_,c){var M,k,L,g,u=Math.floor(V[0]),f=Math.floor(V[1]),m=Math.ceil(V[2])-u,x=Math.ceil(V[3])-f,S=Math.min(Math.ceil(Math.abs(m*G[0]*1.1)),3e3),D=Math.min(Math.ceil(Math.abs(x*G[1]*1.1)),3e3),H=m/S,q=x/D,te={coords:Z,colors:E,offsetX:-u,offsetY:-f,scaleX:1/H,scaleY:1/q},j=S+4,Q=D+4;if(c.isEnabled)M=c.drawFigures({width:S,height:D,backgroundColor:h,figures:T,context:te}),(k=_.getCanvas("mesh",j,Q,!1)).context.drawImage(M,2,2),M=k.canvas;else{var p=(k=_.getCanvas("mesh",j,Q,!1)).context,d=p.createImageData(S,D);if(h){var v=d.data;for(L=0,g=v.length;L<g;L+=4)v[L]=h[0],v[L+1]=h[1],v[L+2]=h[2],v[L+3]=255}for(L=0;L<T.length;L++)W(d,T[L],te);p.putImageData(d,2,2),M=k.canvas}return{canvas:M,offsetX:u-2*H,offsetY:f-2*q,scaleX:H,scaleY:q}}}();o.Mesh={fromIR:function(R){var W=R[2],e=R[3],V=R[4],G=R[5],Z=R[6],E=R[7],T=R[8];return{type:"Pattern",getPattern:function(_,c,l){var n;if(b(_,E),l)n=r.Util.singularValueDecompose2dScale(_.mozCurrentTransform);else if(n=r.Util.singularValueDecompose2dScale(c.baseTransform),Z){var i=r.Util.singularValueDecompose2dScale(Z);n=[n[0]*i[0],n[1]*i[1]]}var u=y(G,n,W,e,V,l?null:T,c.cachedCanvases,c.webGLContext);return l||(_.setTransform.apply(_,c.baseTransform),Z&&_.transform.apply(_,Z)),_.translate(u.offsetX,u.offsetY),_.scale(u.scaleX,u.scaleY),_.createPattern(u.canvas,"no-repeat")}}}},o.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var N=function(){function e(V,G,Z,E,T){this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=G,this.canvasGraphicsFactory=E,this.baseTransform=T,this.type="Pattern",this.ctx=Z}return e.prototype={createPatternCanvas:function(G){var Z=this.operatorList,E=this.bbox,T=this.xstep,h=this.ystep,_=this.paintType,l=this.color,n=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);var i=E[0],u=E[1],f=E[2],m=E[3],x=r.Util.singularValueDecompose2dScale(this.matrix),S=r.Util.singularValueDecompose2dScale(this.baseTransform),D=[x[0]*S[0],x[1]*S[1]],H=this.getSizeAndScale(T,this.ctx.canvas.width,D[0]),q=this.getSizeAndScale(h,this.ctx.canvas.height,D[1]),te=G.cachedCanvases.getCanvas("pattern",H.size,q.size,!0),Q=n.createCanvasGraphics(te.context);return Q.groupLevel=G.groupLevel,this.setFillAndStrokeStyleToContext(Q,_,l),Q.transform(H.scale,0,0,q.scale,0,0),Q.transform(1,0,0,1,-i,-u),this.clipBbox(Q,E,i,u,f,m),Q.executeOperatorList(Z),this.ctx.transform(1,0,0,1,i,u),this.ctx.scale(1/H.scale,1/q.scale),te.canvas},getSizeAndScale:function(G,Z,E){G=Math.abs(G);var T=Math.max(3e3,Z),h=Math.ceil(G*E);return h>=T?h=T:E=h/G,{scale:E,size:h}},clipBbox:function(G,Z,E,T,h,_){Array.isArray(Z)&&4===Z.length&&(G.ctx.rect(E,T,h-E,_-T),G.clip(),G.endPath())},setFillAndStrokeStyleToContext:function(G,Z,E){var T=G.ctx,h=G.current;switch(Z){case 1:var _=this.ctx;T.fillStyle=_.fillStyle,T.strokeStyle=_.strokeStyle,h.fillColor=_.fillStyle,h.strokeColor=_.strokeStyle;break;case 2:var c=r.Util.makeCssRgb(E[0],E[1],E[2]);T.fillStyle=c,T.strokeStyle=c,h.fillColor=c,h.strokeColor=c;break;default:throw new r.FormatError("Unsupported paint type: ".concat(Z))}},getPattern:function(G,Z){(G=this.ctx).setTransform.apply(G,this.baseTransform),G.transform.apply(G,this.matrix);var E=this.createPatternCanvas(Z);return G.createPattern(E,"repeat")}},e}();A.TilingPattern=N},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GlobalWorkerOptions=void 0;var r=Object.create(null);A.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MessageHandler=void 0;var E,r=(E=t(2))&&E.__esModule?E:{default:E},o=t(5);function y(E,T,h,_,c,l,n){try{var i=E[l](n),u=i.value}catch(f){return void h(f)}i.done?T(u):Promise.resolve(u).then(_,c)}function O(E,T){for(var h=0;h<T.length;h++){var _=T[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}function W(E){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(E)}function G(E){if("object"!==W(E)||null===E)return E;switch(E.name){case"AbortException":return new o.AbortException(E.message);case"MissingPDFException":return new o.MissingPDFException(E.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new o.UnknownErrorException(E.message,E.details);default:return new o.UnknownErrorException(E.message,E.toString())}}var Z=function(){function E(T,h,_){var c=this;(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,E),this.sourceName=T,this.targetName=h,this.comObj=_,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(l){var n=l.data;if(n.targetName===c.sourceName){if(n.stream)return void c._processStreamMessage(n);if(n.callback){var i=n.callbackId,u=c.callbackCapabilities[i];if(!u)throw new Error("Cannot resolve callback ".concat(i));if(delete c.callbackCapabilities[i],1===n.callback)u.resolve(n.data);else{if(2!==n.callback)throw new Error("Unexpected callback case");u.reject(G(n.reason))}return}var f=c.actionHandler[n.action];if(!f)throw new Error("Unknown action from worker: ".concat(n.action));if(n.callbackId){var m=c.sourceName,x=n.sourceName;return void new Promise(function(S){S(f(n.data))}).then(function(S){_.postMessage({sourceName:m,targetName:x,callback:1,callbackId:n.callbackId,data:S})},function(S){_.postMessage({sourceName:m,targetName:x,callback:2,callbackId:n.callbackId,reason:G(S)})})}if(n.streamId)return void c._createStreamSink(n);f(n.data)}},_.addEventListener("message",this._onComObjOnMessage)}return function(E,T,h){T&&O(E.prototype,T)}(E,[{key:"on",value:function(h,_){var c=this.actionHandler;if(c[h])throw new Error('There is already an actionName called "'.concat(h,'"'));c[h]=_}},{key:"send",value:function(h,_,c){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:_},c)}},{key:"sendWithPromise",value:function(h,_,c){var l=this.callbackId++,n=(0,o.createPromiseCapability)();this.callbackCapabilities[l]=n;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:l,data:_},c)}catch(i){n.reject(i)}return n.promise}},{key:"sendWithStream",value:function(h,_,c,l){var n=this,i=this.streamId++,u=this.sourceName,f=this.targetName,m=this.comObj;return new ReadableStream({start:function(S){var D=(0,o.createPromiseCapability)();return n.streamControllers[i]={controller:S,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},n._postMessage({sourceName:u,targetName:f,action:h,streamId:i,data:_,desiredSize:S.desiredSize},l),D.promise},pull:function(S){var D=(0,o.createPromiseCapability)();return n.streamControllers[i].pullCall=D,m.postMessage({sourceName:u,targetName:f,stream:6,streamId:i,desiredSize:S.desiredSize}),D.promise},cancel:function(S){(0,o.assert)(S instanceof Error,"cancel must have a valid reason");var D=(0,o.createPromiseCapability)();return n.streamControllers[i].cancelCall=D,n.streamControllers[i].isClosed=!0,m.postMessage({sourceName:u,targetName:f,stream:1,streamId:i,reason:G(S)}),D.promise}},c)}},{key:"_createStreamSink",value:function(h){var _=this,c=this.actionHandler[h.action],l=h.streamId,n=this.sourceName,i=h.sourceName,u=this.comObj,f={enqueue:function(x){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,D=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var H=this.desiredSize;this.desiredSize-=S,H>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),_._postMessage({sourceName:n,targetName:i,stream:4,streamId:l,chunk:x},D)}},close:function(){this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:n,targetName:i,stream:3,streamId:l}),delete _.streamSinks[l])},error:function(x){(0,o.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,u.postMessage({sourceName:n,targetName:i,stream:5,streamId:l,reason:G(x)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[l]=f,new Promise(function(m){m(c(h.data,f))}).then(function(){u.postMessage({sourceName:n,targetName:i,stream:8,streamId:l,success:!0})},function(m){u.postMessage({sourceName:n,targetName:i,stream:8,streamId:l,reason:G(m)})})}},{key:"_processStreamMessage",value:function(h){var _=h.streamId,c=this.sourceName,l=h.sourceName,n=this.comObj;switch(h.stream){case 8:h.success?this.streamControllers[_].startCall.resolve():this.streamControllers[_].startCall.reject(G(h.reason));break;case 7:h.success?this.streamControllers[_].pullCall.resolve():this.streamControllers[_].pullCall.reject(G(h.reason));break;case 6:if(!this.streamSinks[_]){n.postMessage({sourceName:c,targetName:l,stream:7,streamId:_,success:!0});break}this.streamSinks[_].desiredSize<=0&&h.desiredSize>0&&this.streamSinks[_].sinkCapability.resolve(),this.streamSinks[_].desiredSize=h.desiredSize;var i=this.streamSinks[h.streamId].onPull;new Promise(function(f){f(i&&i())}).then(function(){n.postMessage({sourceName:c,targetName:l,stream:7,streamId:_,success:!0})},function(f){n.postMessage({sourceName:c,targetName:l,stream:7,streamId:_,reason:G(f)})});break;case 4:if((0,o.assert)(this.streamControllers[_],"enqueue should have stream controller"),this.streamControllers[_].isClosed)break;this.streamControllers[_].controller.enqueue(h.chunk);break;case 3:if((0,o.assert)(this.streamControllers[_],"close should have stream controller"),this.streamControllers[_].isClosed)break;this.streamControllers[_].isClosed=!0,this.streamControllers[_].controller.close(),this._deleteStreamController(_);break;case 5:(0,o.assert)(this.streamControllers[_],"error should have stream controller"),this.streamControllers[_].controller.error(G(h.reason)),this._deleteStreamController(_);break;case 2:h.success?this.streamControllers[_].cancelCall.resolve():this.streamControllers[_].cancelCall.reject(G(h.reason)),this._deleteStreamController(_);break;case 1:if(!this.streamSinks[_])break;var u=this.streamSinks[h.streamId].onCancel;new Promise(function(f){f(u&&u(G(h.reason)))}).then(function(){n.postMessage({sourceName:c,targetName:l,stream:2,streamId:_,success:!0})},function(f){n.postMessage({sourceName:c,targetName:l,stream:2,streamId:_,reason:G(f)})}),this.streamSinks[_].sinkCapability.reject(G(h.reason)),this.streamSinks[_].isCancelled=!0,delete this.streamSinks[_];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(T=function(E){return function(){var T=this,h=arguments;return new Promise(function(_,c){var l=E.apply(T,h);function n(u){y(l,_,c,n,i,"next",u)}function i(u){y(l,_,c,n,i,"throw",u)}n(void 0)})}}(r.default.mark(function _(c){return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.allSettled([this.streamControllers[c].startCall,this.streamControllers[c].pullCall,this.streamControllers[c].cancelCall].map(function(i){return i&&i.promise}));case 2:delete this.streamControllers[c];case 3:case"end":return n.stop()}},_,this)})),function(_){return T.apply(this,arguments)})},{key:"_postMessage",value:function(h,_){_&&this.postMessageTransfers?this.comObj.postMessage(h,_):this.comObj.postMessage(h)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),E;var T}();A.MessageHandler=Z},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Metadata=void 0;var r=t(5),o=t(206);function b(E,T){return function(E){if(Array.isArray(E))return E}(E)||function(E,T){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(E)){var h=[],_=!0,c=!1,l=void 0;try{for(var i,n=E[Symbol.iterator]();!(_=(i=n.next()).done)&&(h.push(i.value),!T||h.length!==T);_=!0);}catch(u){c=!0,l=u}finally{try{!_&&null!=n.return&&n.return()}finally{if(c)throw l}}return h}}(E,T)||R(E,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(E,T){if(E){if("string"==typeof E)return W(E,T);var h=Object.prototype.toString.call(E).slice(8,-1);if("Object"===h&&E.constructor&&(h=E.constructor.name),"Map"===h||"Set"===h)return Array.from(E);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return W(E,T)}}function W(E,T){(null==T||T>E.length)&&(T=E.length);for(var h=0,_=new Array(T);h<T;h++)_[h]=E[h];return _}function V(E,T){for(var h=0;h<T.length;h++){var _=T[h];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(E,_.key,_)}}A.Metadata=function(){function E(T){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,E),(0,r.assert)("string"==typeof T,"Metadata: input is not a string"),T=this._repair(T);var _=(new o.SimpleXMLParser).parseFromString(T);this._metadataMap=new Map,_&&this._parse(_)}return function(E,T,h){T&&V(E.prototype,T)}(E,[{key:"_repair",value:function(h){return h.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(_,c){for(var l=c.replace(/\\([0-3])([0-7])([0-7])/g,function(m,x,S,D){return String.fromCharCode(64*x+8*S+1*D)}).replace(/&(amp|apos|gt|lt|quot);/g,function(m,x){switch(x){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(x," isn't defined."))}),n="",i=0,u=l.length;i<u;i+=2){var f=256*l.charCodeAt(i)+l.charCodeAt(i+1);n+=f>=32&&f<127&&60!==f&&62!==f&&38!==f?String.fromCharCode(f):"&#x"+(65536+f).toString(16).substring(1)+";"}return">"+n})}},{key:"_parse",value:function(h){var _=h.documentElement;if("rdf:rdf"!==_.nodeName.toLowerCase())for(_=_.firstChild;_&&"rdf:rdf"!==_.nodeName.toLowerCase();)_=_.nextSibling;var c=_?_.nodeName.toLowerCase():null;if(_&&"rdf:rdf"===c&&_.hasChildNodes())for(var l=_.childNodes,n=0,i=l.length;n<i;n++){var u=l[n];if("rdf:description"===u.nodeName.toLowerCase())for(var f=0,m=u.childNodes.length;f<m;f++)if("#text"!==u.childNodes[f].nodeName.toLowerCase()){var x=u.childNodes[f],S=x.nodeName.toLowerCase();this._metadataMap.set(S,x.textContent.trim())}}}},{key:"get",value:function(h){return this._metadataMap.has(h)?this._metadataMap.get(h):null}},{key:"getAll",value:function(){var c,h=Object.create(null),_=function(E,T){var h;if("undefined"==typeof Symbol||null==E[Symbol.iterator]){if(Array.isArray(E)||(h=R(E))){h&&(E=h);var _=0,c=function(){};return{s:c,n:function(){return _>=E.length?{done:!0}:{done:!1,value:E[_++]}},e:function(f){throw f},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,n=!1;return{s:function(){h=E[Symbol.iterator]()},n:function(){var f=h.next();return l=f.done,f},e:function(f){n=!0,i=f},f:function(){try{!l&&null!=h.return&&h.return()}finally{if(n)throw i}}}}(this._metadataMap);try{for(_.s();!(c=_.n()).done;){var l=b(c.value,2);h[l[0]]=l[1]}}catch(u){_.e(u)}finally{_.f()}return h}},{key:"has",value:function(h){return this._metadataMap.has(h)}}]),E}()},function(F,A,t){"use strict";function r(S){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(S)}function I(S,D){(null==D||D>S.length)&&(D=S.length);for(var H=0,q=new Array(D);H<D;H++)q[H]=S[H];return q}function R(S,D,H){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(te,j,Q){var M=function(S,D){for(;!Object.prototype.hasOwnProperty.call(S,D)&&null!==(S=h(S)););return S}(te,j);if(M){var k=Object.getOwnPropertyDescriptor(M,j);return k.get?k.get.call(Q):k.value}},R(S,D,H||S)}function V(S,D){return(V=Object.setPrototypeOf||function(q,te){return q.__proto__=te,q})(S,D)}function Z(S,D){return!D||"object"!==r(D)&&"function"!=typeof D?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S):D}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(S)}function _(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}function c(S,D){for(var H=0;H<D.length;H++){var q=D[H];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(S,q.key,q)}}function l(S,D,H){return D&&c(S.prototype,D),H&&c(S,H),S}Object.defineProperty(A,"__esModule",{value:!0}),A.SimpleXMLParser=void 0;function i(S,D){var H=S[D];return" "===H||"\n"===H||"\r"===H||"\t"===H}var f=function(){function S(){_(this,S)}return l(S,[{key:"_resolveEntities",value:function(H){var q=this;return H.replace(/&([^;]+);/g,function(te,j){if("#x"===j.substring(0,2))return String.fromCharCode(parseInt(j.substring(2),16));if("#"===j.substring(0,1))return String.fromCharCode(parseInt(j.substring(1),10));switch(j){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return q.onResolveEntity(j)})}},{key:"_parseContent",value:function(H,q){var te=[],j=q;function Q(){for(;j<H.length&&i(H,j);)++j}for(;j<H.length&&!i(H,j)&&">"!==H[j]&&"/"!==H[j];)++j;var M=H.substring(q,j);for(Q();j<H.length&&">"!==H[j]&&"/"!==H[j]&&"?"!==H[j];){Q();for(var L,k="";j<H.length&&!i(H,j)&&"="!==H[j];)k+=H[j],++j;if(Q(),"="!==H[j])return null;++j,Q();var g=H[j];if('"'!==g&&"'"!==g)return null;var p=H.indexOf(g,++j);if(p<0)return null;L=H.substring(j,p),te.push({name:k,value:this._resolveEntities(L)}),j=p+1,Q()}return{name:M,attributes:te,parsed:j-q}}},{key:"_parseProcessingInstruction",value:function(H,q){for(var te=q;te<H.length&&!i(H,te)&&">"!==H[te]&&"/"!==H[te];)++te;var Q=H.substring(q,te);!function(){for(;te<H.length&&i(H,te);)++te}();for(var M=te;te<H.length&&("?"!==H[te]||">"!==H[te+1]);)++te;return{name:Q,value:H.substring(M,te),parsed:te-q}}},{key:"parseXml",value:function(H){for(var q=0;q<H.length;){var j=q;if("<"===H[q]){var M=void 0;switch(H[++j]){case"/":if(++j,(M=H.indexOf(">",j))<0)return void this.onError(-9);this.onEndElement(H.substring(j,M)),j=M+1;break;case"?":++j;var k=this._parseProcessingInstruction(H,j);if("?>"!==H.substring(j+k.parsed,j+k.parsed+2))return void this.onError(-3);this.onPi(k.name,k.value),j+=k.parsed+2;break;case"!":if("--"===H.substring(j+1,j+3)){if((M=H.indexOf("--\x3e",j+3))<0)return void this.onError(-5);this.onComment(H.substring(j+3,M)),j=M+3}else if("[CDATA["===H.substring(j+1,j+8)){if((M=H.indexOf("]]>",j+8))<0)return void this.onError(-2);this.onCdata(H.substring(j+8,M)),j=M+3}else{if("DOCTYPE"!==H.substring(j+1,j+8))return void this.onError(-6);var L=H.indexOf("[",j+8),g=!1;if((M=H.indexOf(">",j+8))<0)return void this.onError(-4);if(L>0&&M>L){if((M=H.indexOf("]>",j+8))<0)return void this.onError(-4);g=!0}var p=H.substring(j+8,M+(g?1:0));this.onDoctype(p),j=M+(g?2:1)}break;default:var d=this._parseContent(H,j);if(null===d)return void this.onError(-6);var v=!1;if("/>"===H.substring(j+d.parsed,j+d.parsed+2))v=!0;else if(">"!==H.substring(j+d.parsed,j+d.parsed+1))return void this.onError(-9);this.onBeginElement(d.name,d.attributes,v),j+=d.parsed+(v?2:1)}}else{for(;j<H.length&&"<"!==H[j];)j++;var P=H.substring(q,j);this.onText(this._resolveEntities(P))}q=j}}},{key:"onResolveEntity",value:function(H){return"&".concat(H,";")}},{key:"onPi",value:function(H,q){}},{key:"onComment",value:function(H){}},{key:"onCdata",value:function(H){}},{key:"onDoctype",value:function(H){}},{key:"onText",value:function(H){}},{key:"onBeginElement",value:function(H,q,te){}},{key:"onEndElement",value:function(H){}},{key:"onError",value:function(H){}}]),S}(),m=function(){function S(D,H){_(this,S),this.nodeName=D,this.nodeValue=H,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return l(S,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var H=this.parentNode.childNodes;if(H){var q=H.indexOf(this);if(-1!==q)return H[q+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(H){return H.textContent}).join(""):this.nodeValue||""}}]),S}();A.SimpleXMLParser=function(S){!function(S,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(D&&D.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),D&&V(S,D)}(H,S);var D=function(S){var D=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}();return function(){var te,q=h(S);if(D){var j=h(this).constructor;te=Reflect.construct(q,arguments,j)}else te=q.apply(this,arguments);return Z(this,te)}}(H);function H(){var q;return _(this,H),(q=D.call(this))._currentFragment=null,q._stack=null,q._errorCode=0,q}return l(H,[{key:"parseFromString",value:function(te){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(te),0===this._errorCode){var Q=function(S,D){return function(S){if(Array.isArray(S))return S}(S)||function(S,D){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(S)){var H=[],q=!0,te=!1,j=void 0;try{for(var M,Q=S[Symbol.iterator]();!(q=(M=Q.next()).done)&&(H.push(M.value),!D||H.length!==D);q=!0);}catch(k){te=!0,j=k}finally{try{!q&&null!=Q.return&&Q.return()}finally{if(te)throw j}}return H}}(S,D)||function(S,D){if(S){if("string"==typeof S)return I(S,D);var H=Object.prototype.toString.call(S).slice(8,-1);if("Object"===H&&S.constructor&&(H=S.constructor.name),"Map"===H||"Set"===H)return Array.from(S);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return I(S,D)}}(S,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this._currentFragment,1)[0];if(Q)return{documentElement:Q}}}},{key:"onResolveEntity",value:function(te){return"apos"===te?"'":R(h(H.prototype),"onResolveEntity",this).call(this,te)}},{key:"onText",value:function(te){if(!function(S){for(var D=0,H=S.length;D<H;D++)if(!i(S,D))return!1;return!0}(te)){var j=new m("#text",te);this._currentFragment.push(j)}}},{key:"onCdata",value:function(te){var j=new m("#text",te);this._currentFragment.push(j)}},{key:"onBeginElement",value:function(te,j,Q){var M=new m(te);M.childNodes=[],this._currentFragment.push(M),!Q&&(this._stack.push(this._currentFragment),this._currentFragment=M.childNodes)}},{key:"onEndElement",value:function(te){this._currentFragment=this._stack.pop()||[];var j=this._currentFragment[this._currentFragment.length-1];if(j)for(var Q=0,M=j.childNodes.length;Q<M;Q++)j.childNodes[Q].parentNode=j}},{key:"onError",value:function(te){this._errorCode=te}}]),H}(f)},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PDFDataTransportStream=void 0;var T,r=(T=t(2))&&T.__esModule?T:{default:T},o=t(5);function y(T,h,_,c,l,n,i){try{var u=T[n](i),f=u.value}catch(m){return void _(m)}u.done?h(f):Promise.resolve(f).then(c,l)}function I(T){return function(){var h=this,_=arguments;return new Promise(function(c,l){var n=T.apply(h,_);function i(f){y(n,c,l,i,u,"next",f)}function u(f){y(n,c,l,i,u,"throw",f)}i(void 0)})}}function N(T,h){var _;if("undefined"==typeof Symbol||null==T[Symbol.iterator]){if(Array.isArray(T)||(_=function(T,h){if(T){if("string"==typeof T)return R(T,h);var _=Object.prototype.toString.call(T).slice(8,-1);if("Object"===_&&T.constructor&&(_=T.constructor.name),"Map"===_||"Set"===_)return Array.from(T);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return R(T,h)}}(T))||h&&T&&"number"==typeof T.length){_&&(T=_);var c=0,l=function(){};return{s:l,n:function(){return c>=T.length?{done:!0}:{done:!1,value:T[c++]}},e:function(m){throw m},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,n=!0,i=!1;return{s:function(){_=T[Symbol.iterator]()},n:function(){var m=_.next();return n=m.done,m},e:function(m){i=!0,u=m},f:function(){try{!n&&null!=_.return&&_.return()}finally{if(i)throw u}}}}function R(T,h){(null==h||h>T.length)&&(h=T.length);for(var _=0,c=new Array(h);_<h;_++)c[_]=T[_];return c}function W(T,h){if(!(T instanceof h))throw new TypeError("Cannot call a class as a function")}function e(T,h){for(var _=0;_<h.length;_++){var c=h[_];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(T,c.key,c)}}function V(T,h,_){return h&&e(T.prototype,h),_&&e(T,_),T}var G=function(){function T(h,_){var c=this;W(this,T),(0,o.assert)(_,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=h.progressiveDone||!1;var l=h.initialData;if(l&&l.length>0){var n=new Uint8Array(l).buffer;this._queuedChunks.push(n)}this._pdfDataRangeTransport=_,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._contentLength=h.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(i,u){c._onReceiveData({begin:i,chunk:u})}),this._pdfDataRangeTransport.addProgressListener(function(i,u){c._onProgress({loaded:i,total:u})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(i){c._onReceiveData({chunk:i})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){c._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return V(T,[{key:"_onReceiveData",value:function(_){var c=new Uint8Array(_.chunk).buffer;if(void 0===_.begin)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{var l=this._rangeReaders.some(function(n){return n._begin===_.begin&&(n._enqueue(c),!0)});(0,o.assert)(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(_){if(void 0===_.total){var c=this._rangeReaders[0];c&&c.onProgress&&c.onProgress({loaded:_.loaded})}else{var l=this._fullRequestReader;l&&l.onProgress&&l.onProgress({loaded:_.loaded,total:_.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(_){var c=this._rangeReaders.indexOf(_);c>=0&&this._rangeReaders.splice(c,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var _=this._queuedChunks;return this._queuedChunks=null,new Z(this,_,this._progressiveDone)}},{key:"getRangeReader",value:function(_,c){if(c<=this._progressiveDataLength)return null;var l=new E(this,_,c);return this._pdfDataRangeTransport.requestDataRange(_,c),this._rangeReaders.push(l),l}},{key:"cancelAllRequests",value:function(_){this._fullRequestReader&&this._fullRequestReader.cancel(_),this._rangeReaders.slice(0).forEach(function(l){l.cancel(_)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),T}();A.PDFDataTransportStream=G;var Z=function(){function T(h,_){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];W(this,T),this._stream=h,this._done=c||!1,this._filename=null,this._queuedChunks=_||[],this._loaded=0;var n,l=N(this._queuedChunks);try{for(l.s();!(n=l.n()).done;){var i=n.value;this._loaded+=i.byteLength}}catch(u){l.e(u)}finally{l.f()}this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}return V(T,[{key:"_enqueue",value:function(_){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunks.push(_),this._loaded+=_.byteLength)}},{key:"read",value:(h=I(r.default.mark(function c(){var l,n;return r.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this._queuedChunks.length>0)){u.next=3;break}return l=this._queuedChunks.shift(),u.abrupt("return",{value:l,done:!1});case 3:if(!this._done){u.next=5;break}return u.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,o.createPromiseCapability)(),this._requests.push(n),u.abrupt("return",n.promise);case 8:case"end":return u.stop()}},c,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(_){this._done=!0,this._requests.forEach(function(c){c.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),T;var h}(),E=function(){function T(h,_,c){W(this,T),this._stream=h,this._begin=_,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return V(T,[{key:"_enqueue",value:function(_){this._done||(0===this._requests.length?this._queuedChunk=_:(this._requests.shift().resolve({value:_,done:!1}),this._requests.forEach(function(l){l.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(h=I(r.default.mark(function c(){var l,n;return r.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this._queuedChunk){u.next=4;break}return l=this._queuedChunk,this._queuedChunk=null,u.abrupt("return",{value:l,done:!1});case 4:if(!this._done){u.next=6;break}return u.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),u.abrupt("return",n.promise);case 9:case"end":return u.stop()}},c,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(_){this._done=!0,this._requests.forEach(function(c){c.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),T;var h}()},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.WebGLContext=void 0;var r=t(5);function b(O,R){for(var W=0;W<R.length;W++){var e=R[W];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(O,e.key,e)}}A.WebGLContext=function(){function O(R){var W=R.enable,e=void 0!==W&&W;(function(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")})(this,O),this._enabled=!0===e}return function(O,R,W){R&&b(O.prototype,R)}(O,[{key:"composeSMask",value:function(W){return N.composeSMask(W.layer,W.mask,W.properties)}},{key:"drawFigures",value:function(W){return N.drawFigures(W.width,W.height,W.backgroundColor,W.figures,W.context)}},{key:"clear",value:function(){N.cleanup()}},{key:"isEnabled",get:function(){var W=this._enabled;return W&&(W=N.tryInitGL()),(0,r.shadow)(this,"isEnabled",W)}}]),O}();var N=function(){function R(S,D,H){var q=S.createShader(H);if(S.shaderSource(q,D),S.compileShader(q),!S.getShaderParameter(q,S.COMPILE_STATUS)){var j=S.getShaderInfoLog(q);throw new Error("Error during shader compilation: "+j)}return q}function W(S,D){return R(S,D,S.VERTEX_SHADER)}function e(S,D){return R(S,D,S.FRAGMENT_SHADER)}function V(S,D){for(var H=S.createProgram(),q=0,te=D.length;q<te;++q)S.attachShader(H,D[q]);if(S.linkProgram(H),!S.getProgramParameter(H,S.LINK_STATUS)){var Q=S.getProgramInfoLog(H);throw new Error("Error during program linking: "+Q)}return H}function G(S,D,H){S.activeTexture(H);var q=S.createTexture();return S.bindTexture(S.TEXTURE_2D,q),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST),S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,D),q}var Z,E;function T(){Z||(E=document.createElement("canvas"),Z=E.getContext("webgl",{premultipliedalpha:!1}))}var c=null,f=null;return{tryInitGL:function(){try{return T(),!!Z}catch(D){}return!1},composeSMask:function(S,D,H){var q=S.width,te=S.height;c||function(){var S,D;T(),S=E,E=null,D=Z,Z=null;var te=V(D,[W(D,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),e(D,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);D.useProgram(te);var j={};j.gl=D,j.canvas=S,j.resolutionLocation=D.getUniformLocation(te,"u_resolution"),j.positionLocation=D.getAttribLocation(te,"a_position"),j.backdropLocation=D.getUniformLocation(te,"u_backdrop"),j.subtypeLocation=D.getUniformLocation(te,"u_subtype");var Q=D.getAttribLocation(te,"a_texCoord"),M=D.getUniformLocation(te,"u_image"),k=D.getUniformLocation(te,"u_mask"),L=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,L),D.bufferData(D.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),D.STATIC_DRAW),D.enableVertexAttribArray(Q),D.vertexAttribPointer(Q,2,D.FLOAT,!1,0,0),D.uniform1i(M,0),D.uniform1i(k,1),c=j}();var j=c,Q=j.canvas,M=j.gl;Q.width=q,Q.height=te,M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.uniform2f(j.resolutionLocation,q,te),H.backdrop?M.uniform4f(j.resolutionLocation,H.backdrop[0],H.backdrop[1],H.backdrop[2],1):M.uniform4f(j.resolutionLocation,0,0,0,0),M.uniform1i(j.subtypeLocation,"Luminosity"===H.subtype?1:0);var k=G(M,S,M.TEXTURE0),L=G(M,D,M.TEXTURE1),g=M.createBuffer();return M.bindBuffer(M.ARRAY_BUFFER,g),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,0,q,0,0,te,0,te,q,0,q,te]),M.STATIC_DRAW),M.enableVertexAttribArray(j.positionLocation),M.vertexAttribPointer(j.positionLocation,2,M.FLOAT,!1,0,0),M.clearColor(0,0,0,0),M.enable(M.BLEND),M.blendFunc(M.ONE,M.ONE_MINUS_SRC_ALPHA),M.clear(M.COLOR_BUFFER_BIT),M.drawArrays(M.TRIANGLES,0,6),M.flush(),M.deleteTexture(k),M.deleteTexture(L),M.deleteBuffer(g),Q},drawFigures:function(S,D,H,q,te){f||function(){var S,D;T(),S=E,E=null,D=Z,Z=null;var te=V(D,[W(D,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),e(D,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);D.useProgram(te);var j={};j.gl=D,j.canvas=S,j.resolutionLocation=D.getUniformLocation(te,"u_resolution"),j.scaleLocation=D.getUniformLocation(te,"u_scale"),j.offsetLocation=D.getUniformLocation(te,"u_offset"),j.positionLocation=D.getAttribLocation(te,"a_position"),j.colorLocation=D.getAttribLocation(te,"a_color"),f=j}();var j=f,Q=j.canvas,M=j.gl;Q.width=S,Q.height=D,M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.uniform2f(j.resolutionLocation,S,D);var L,g,p,k=0;for(L=0,g=q.length;L<g;L++)switch(q[L].type){case"lattice":k+=((p=q[L].coords.length/q[L].verticesPerRow|0)-1)*(q[L].verticesPerRow-1)*6;break;case"triangles":k+=q[L].coords.length}var d=new Float32Array(2*k),v=new Uint8Array(3*k),P=te.coords,J=te.colors,ie=0,ae=0;for(L=0,g=q.length;L<g;L++){var re=q[L],se=re.coords,Y=re.colors;switch(re.type){case"lattice":var $=re.verticesPerRow;p=se.length/$|0;for(var U=1;U<p;U++)for(var X=U*$+1,ee=1;ee<$;ee++,X++)d[ie]=P[se[X-$-1]],d[ie+1]=P[se[X-$-1]+1],d[ie+2]=P[se[X-$]],d[ie+3]=P[se[X-$]+1],d[ie+4]=P[se[X-1]],d[ie+5]=P[se[X-1]+1],v[ae]=J[Y[X-$-1]],v[ae+1]=J[Y[X-$-1]+1],v[ae+2]=J[Y[X-$-1]+2],v[ae+3]=J[Y[X-$]],v[ae+4]=J[Y[X-$]+1],v[ae+5]=J[Y[X-$]+2],v[ae+6]=J[Y[X-1]],v[ae+7]=J[Y[X-1]+1],v[ae+8]=J[Y[X-1]+2],d[ie+6]=d[ie+2],d[ie+7]=d[ie+3],d[ie+8]=d[ie+4],d[ie+9]=d[ie+5],d[ie+10]=P[se[X]],d[ie+11]=P[se[X]+1],v[ae+9]=v[ae+3],v[ae+10]=v[ae+4],v[ae+11]=v[ae+5],v[ae+12]=v[ae+6],v[ae+13]=v[ae+7],v[ae+14]=v[ae+8],v[ae+15]=J[Y[X]],v[ae+16]=J[Y[X]+1],v[ae+17]=J[Y[X]+2],ie+=12,ae+=18;break;case"triangles":for(var ce=0,de=se.length;ce<de;ce++)d[ie]=P[se[ce]],d[ie+1]=P[se[ce]+1],v[ae]=J[Y[ce]],v[ae+1]=J[Y[ce]+1],v[ae+2]=J[Y[ce]+2],ie+=2,ae+=3}}H?M.clearColor(H[0]/255,H[1]/255,H[2]/255,1):M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT);var Ae=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,Ae),M.bufferData(M.ARRAY_BUFFER,d,M.STATIC_DRAW),M.enableVertexAttribArray(j.positionLocation),M.vertexAttribPointer(j.positionLocation,2,M.FLOAT,!1,0,0);var Te=M.createBuffer();return M.bindBuffer(M.ARRAY_BUFFER,Te),M.bufferData(M.ARRAY_BUFFER,v,M.STATIC_DRAW),M.enableVertexAttribArray(j.colorLocation),M.vertexAttribPointer(j.colorLocation,3,M.UNSIGNED_BYTE,!1,0,0),M.uniform2f(j.scaleLocation,te.scaleX,te.scaleY),M.uniform2f(j.offsetLocation,te.offsetX,te.offsetY),M.drawArrays(M.TRIANGLES,0,k),M.flush(),M.deleteBuffer(Ae),M.deleteBuffer(Te),Q},cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),f&&f.canvas&&(f.canvas.width=0,f.canvas.height=0),c=null,f=null}}}()},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AnnotationLayer=void 0;var r=t(1),o=t(5);function b(Y,$){var U;if("undefined"==typeof Symbol||null==Y[Symbol.iterator]){if(Array.isArray(Y)||(U=function(Y,$){if(Y){if("string"==typeof Y)return I(Y,$);var U=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===U&&Y.constructor&&(U=Y.constructor.name),"Map"===U||"Set"===U)return Array.from(Y);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return I(Y,$)}}(Y))||$&&Y&&"number"==typeof Y.length){U&&(Y=U);var X=0,ee=function(){};return{s:ee,n:function(){return X>=Y.length?{done:!0}:{done:!1,value:Y[X++]}},e:function(Pe){throw Pe},f:ee}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ae,ce=!0,de=!1;return{s:function(){U=Y[Symbol.iterator]()},n:function(){var Pe=U.next();return ce=Pe.done,Pe},e:function(Pe){de=!0,Ae=Pe},f:function(){try{!ce&&null!=U.return&&U.return()}finally{if(de)throw Ae}}}}function I(Y,$){(null==$||$>Y.length)&&($=Y.length);for(var U=0,X=new Array($);U<$;U++)X[U]=Y[U];return X}function N(Y,$,U){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(ee,ce,de){var Ae=function(Y,$){for(;!Object.prototype.hasOwnProperty.call(Y,$)&&null!==(Y=T(Y)););return Y}(ee,ce);if(Ae){var Te=Object.getOwnPropertyDescriptor(Ae,ce);return Te.get?Te.get.call(de):Te.value}},N(Y,$,U||Y)}function R(Y){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(Y)}function W(Y,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create($&&$.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),$&&e(Y,$)}function e(Y,$){return(e=Object.setPrototypeOf||function(X,ee){return X.__proto__=ee,X})(Y,$)}function V(Y){var $=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Y){return!1}}();return function(){var ee,X=T(Y);if($){var ce=T(this).constructor;ee=Reflect.construct(X,arguments,ce)}else ee=X.apply(this,arguments);return G(this,ee)}}function G(Y,$){return!$||"object"!==R($)&&"function"!=typeof $?Z(Y):$}function Z(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function T(Y){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(Y)}function h(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")}function _(Y,$){for(var U=0;U<$.length;U++){var X=$[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Y,X.key,X)}}function c(Y,$,U){return $&&_(Y.prototype,$),U&&_(Y,U),Y}var l=function(){function Y(){h(this,Y)}return c(Y,null,[{key:"create",value:function(U){switch(U.data.annotationType){case o.AnnotationType.LINK:return new i(U);case o.AnnotationType.TEXT:return new u(U);case o.AnnotationType.WIDGET:switch(U.data.fieldType){case"Tx":return new m(U);case"Btn":return U.data.radioButton?new S(U):U.data.checkBox?new x(U):new D(U);case"Ch":return new H(U)}return new f(U);case o.AnnotationType.POPUP:return new q(U);case o.AnnotationType.FREETEXT:return new j(U);case o.AnnotationType.LINE:return new Q(U);case o.AnnotationType.SQUARE:return new M(U);case o.AnnotationType.CIRCLE:return new k(U);case o.AnnotationType.POLYLINE:return new L(U);case o.AnnotationType.CARET:return new p(U);case o.AnnotationType.INK:return new d(U);case o.AnnotationType.POLYGON:return new g(U);case o.AnnotationType.HIGHLIGHT:return new v(U);case o.AnnotationType.UNDERLINE:return new P(U);case o.AnnotationType.SQUIGGLY:return new J(U);case o.AnnotationType.STRIKEOUT:return new ie(U);case o.AnnotationType.STAMP:return new ae(U);case o.AnnotationType.FILEATTACHMENT:return new re(U);default:return new n(U)}}}]),Y}(),n=function(){function Y($){var U=arguments.length>1&&void 0!==arguments[1]&&arguments[1],X=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,Y),this.isRenderable=U,this.data=$.data,this.layer=$.layer,this.page=$.page,this.viewport=$.viewport,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderInteractiveForms=$.renderInteractiveForms,this.svgFactory=$.svgFactory,U&&(this.container=this._createContainer(X))}return c(Y,[{key:"_createContainer",value:function(){var U=arguments.length>0&&void 0!==arguments[0]&&arguments[0],X=this.data,ee=this.page,ce=this.viewport,de=document.createElement("section"),Ae=X.rect[2]-X.rect[0],Te=X.rect[3]-X.rect[1];de.setAttribute("data-annotation-id",X.id);var Pe=o.Util.normalizeRect([X.rect[0],ee.view[3]-X.rect[1]+ee.view[1],X.rect[2],ee.view[3]-X.rect[3]+ee.view[1]]);if(de.style.transform="matrix(".concat(ce.transform.join(","),")"),de.style.transformOrigin="-".concat(Pe[0],"px -").concat(Pe[1],"px"),!U&&X.borderStyle.width>0){de.style.borderWidth="".concat(X.borderStyle.width,"px"),X.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(Ae-=2*X.borderStyle.width,Te-=2*X.borderStyle.width);var ze=X.borderStyle.horizontalCornerRadius,Be=X.borderStyle.verticalCornerRadius;if(ze>0||Be>0){var Xe="".concat(ze,"px / ").concat(Be,"px");de.style.borderRadius=Xe}switch(X.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:de.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:de.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:de.style.borderBottomStyle="solid"}X.color?de.style.borderColor=o.Util.makeCssRgb(0|X.color[0],0|X.color[1],0|X.color[2]):de.style.borderWidth=0}return de.style.left="".concat(Pe[0],"px"),de.style.top="".concat(Pe[1],"px"),de.style.width="".concat(Ae,"px"),de.style.height="".concat(Te,"px"),de}},{key:"_createPopup",value:function(U,X,ee){X||((X=document.createElement("div")).style.height=U.style.height,X.style.width=U.style.width,U.appendChild(X));var de=new te({container:U,trigger:X,color:ee.color,title:ee.title,modificationDate:ee.modificationDate,contents:ee.contents,hideWrapper:!0}).render();de.style.left=U.style.width,U.appendChild(de)}},{key:"render",value:function(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]),Y}(),i=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.url||X.data.dest||X.data.action))}return c(U,[{key:"render",value:function(){this.container.className="linkAnnotation";var ee=this.data,ce=this.linkService,de=document.createElement("a");return ee.url?(0,r.addLinkAttributes)(de,{url:ee.url,target:ee.newWindow?r.LinkTarget.BLANK:ce.externalLinkTarget,rel:ce.externalLinkRel,enabled:ce.externalLinkEnabled}):ee.action?this._bindNamedAction(de,ee.action):this._bindLink(de,ee.dest),this.container.appendChild(de),this.container}},{key:"_bindLink",value:function(ee,ce){var de=this;ee.href=this.linkService.getDestinationHash(ce),ee.onclick=function(){return ce&&de.linkService.navigateTo(ce),!1},ce&&(ee.className="internalLink")}},{key:"_bindNamedAction",value:function(ee,ce){var de=this;ee.href=this.linkService.getAnchorUrl(""),ee.onclick=function(){return de.linkService.executeNamedAction(ce),!1},ee.className="internalLink"}}]),U}(n),u=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents))}return c(U,[{key:"render",value:function(){this.container.className="textAnnotation";var ee=document.createElement("img");return ee.style.height=this.container.style.height,ee.style.width=this.container.style.width,ee.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ee.alt="[{{type}} Annotation]",ee.dataset.l10nId="text_annotation_type",ee.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,ee,this.data),this.container.appendChild(ee),this.container}}]),U}(n),f=function(Y){W(U,Y);var $=V(U);function U(){return h(this,U),$.apply(this,arguments)}return c(U,[{key:"render",value:function(){return this.container}}]),U}(n),m=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,X.renderInteractiveForms||!X.data.hasAppearance&&!!X.data.fieldValue)}return c(U,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var ce=null;if(this.renderInteractiveForms){if(this.data.multiLine?(ce=document.createElement("textarea")).textContent=this.data.fieldValue:((ce=document.createElement("input")).type="text",ce.setAttribute("value",this.data.fieldValue)),ce.disabled=this.data.readOnly,ce.name=this.data.fieldName,null!==this.data.maxLen&&(ce.maxLength=this.data.maxLen),this.data.comb){var Ae=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;ce.classList.add("comb"),ce.style.letterSpacing="calc(".concat(Ae,"px - 1ch)")}}else{(ce=document.createElement("div")).textContent=this.data.fieldValue,ce.style.verticalAlign="middle",ce.style.display="table-cell";var Te=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(Te=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(ce,Te)}return null!==this.data.textAlignment&&(ce.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(ce),this.container}},{key:"_setTextStyle",value:function(ee,ce){var de=ee.style;if(de.fontSize="".concat(this.data.fontSize,"px"),de.direction=this.data.fontDirection<0?"rtl":"ltr",ce){var Ae="normal";ce.black?Ae="900":ce.bold&&(Ae="bold"),de.fontWeight=Ae,de.fontStyle=ce.italic?"italic":"normal";var Te=ce.loadedName?'"'.concat(ce.loadedName,'", '):"";de.fontFamily=Te+(ce.fallbackName||"Helvetica, sans-serif")}}}]),U}(f),x=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,X.renderInteractiveForms)}return c(U,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var ee=document.createElement("input");return ee.disabled=this.data.readOnly,ee.type="checkbox",ee.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&ee.setAttribute("checked",!0),this.container.appendChild(ee),this.container}}]),U}(f),S=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,X.renderInteractiveForms)}return c(U,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var ee=document.createElement("input");return ee.disabled=this.data.readOnly,ee.type="radio",ee.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&ee.setAttribute("checked",!0),this.container.appendChild(ee),this.container}}]),U}(f),D=function(Y){W(U,Y);var $=V(U);function U(){return h(this,U),$.apply(this,arguments)}return c(U,[{key:"render",value:function(){var ee=N(T(U.prototype),"render",this).call(this);return ee.className="buttonWidgetAnnotation pushButton",ee}}]),U}(i),H=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,X.renderInteractiveForms)}return c(U,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var ee=document.createElement("select");ee.disabled=this.data.readOnly,ee.name=this.data.fieldName,this.data.combo||(ee.size=this.data.options.length,this.data.multiSelect&&(ee.multiple=!0));var de,ce=b(this.data.options);try{for(ce.s();!(de=ce.n()).done;){var Ae=de.value,Te=document.createElement("option");Te.textContent=Ae.displayValue,Te.value=Ae.exportValue,this.data.fieldValue.includes(Ae.displayValue)&&Te.setAttribute("selected",!0),ee.appendChild(Te)}}catch(Pe){ce.e(Pe)}finally{ce.f()}return this.container.appendChild(ee),this.container}}]),U}(f),q=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!(!X.data.title&&!X.data.contents))}return c(U,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var ce='[data-annotation-id="'.concat(this.data.parentId,'"]'),de=this.layer.querySelector(ce);if(!de)return this.container;var Ae=new te({container:this.container,trigger:de,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),Te=parseFloat(de.style.left),Pe=parseFloat(de.style.width);return this.container.style.transformOrigin="-".concat(Te+Pe,"px -").concat(de.style.top),this.container.style.left="".concat(Te+Pe,"px"),this.container.appendChild(Ae.render()),this.container}}]),U}(n),te=function(){function Y($){h(this,Y),this.container=$.container,this.trigger=$.trigger,this.color=$.color,this.title=$.title,this.modificationDate=$.modificationDate,this.contents=$.contents,this.hideWrapper=$.hideWrapper||!1,this.pinned=!1}return c(Y,[{key:"render",value:function(){var X=document.createElement("div");X.className="popupWrapper",this.hideElement=this.hideWrapper?X:this.container,this.hideElement.setAttribute("hidden",!0);var ee=document.createElement("div");ee.className="popup";var ce=this.color;ce&&(ee.style.backgroundColor=o.Util.makeCssRgb(0|.7*(255-ce[0])+ce[0],0|.7*(255-ce[1])+ce[1],0|.7*(255-ce[2])+ce[2]));var Pe=document.createElement("h1");Pe.textContent=this.title,ee.appendChild(Pe);var ze=r.PDFDateString.toDateObject(this.modificationDate);if(ze){var Be=document.createElement("span");Be.textContent="{{date}}, {{time}}",Be.dataset.l10nId="annotation_date_string",Be.dataset.l10nArgs=JSON.stringify({date:ze.toLocaleDateString(),time:ze.toLocaleTimeString()}),ee.appendChild(Be)}var Xe=this._formatContents(this.contents);return ee.appendChild(Xe),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),ee.addEventListener("click",this._hide.bind(this,!0)),X.appendChild(ee),X}},{key:"_formatContents",value:function(U){for(var X=document.createElement("p"),ee=U.split(/(?:\r\n?|\n)/),ce=0,de=ee.length;ce<de;++ce)X.appendChild(document.createTextNode(ee[ce])),ce<de-1&&X.appendChild(document.createElement("br"));return X}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var U=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var U=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];U&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),Y}(),j=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),Q=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){this.container.className="lineAnnotation";var ee=this.data,Ae=this.svgFactory.create(ee.rect[2]-ee.rect[0],ee.rect[3]-ee.rect[1]),Te=this.svgFactory.createElement("svg:line");return Te.setAttribute("x1",ee.rect[2]-ee.lineCoordinates[0]),Te.setAttribute("y1",ee.rect[3]-ee.lineCoordinates[1]),Te.setAttribute("x2",ee.rect[2]-ee.lineCoordinates[2]),Te.setAttribute("y2",ee.rect[3]-ee.lineCoordinates[3]),Te.setAttribute("stroke-width",ee.borderStyle.width||1),Te.setAttribute("stroke","transparent"),Ae.appendChild(Te),this.container.append(Ae),this._createPopup(this.container,Te,ee),this.container}}]),U}(n),M=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){this.container.className="squareAnnotation";var ee=this.data,ce=ee.rect[2]-ee.rect[0],de=ee.rect[3]-ee.rect[1],Ae=this.svgFactory.create(ce,de),Te=ee.borderStyle.width,Pe=this.svgFactory.createElement("svg:rect");return Pe.setAttribute("x",Te/2),Pe.setAttribute("y",Te/2),Pe.setAttribute("width",ce-Te),Pe.setAttribute("height",de-Te),Pe.setAttribute("stroke-width",Te||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","none"),Ae.appendChild(Pe),this.container.append(Ae),this._createPopup(this.container,Pe,ee),this.container}}]),U}(n),k=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){this.container.className="circleAnnotation";var ee=this.data,ce=ee.rect[2]-ee.rect[0],de=ee.rect[3]-ee.rect[1],Ae=this.svgFactory.create(ce,de),Te=ee.borderStyle.width,Pe=this.svgFactory.createElement("svg:ellipse");return Pe.setAttribute("cx",ce/2),Pe.setAttribute("cy",de/2),Pe.setAttribute("rx",ce/2-Te/2),Pe.setAttribute("ry",de/2-Te/2),Pe.setAttribute("stroke-width",Te||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","none"),Ae.appendChild(Pe),this.container.append(Ae),this._createPopup(this.container,Pe,ee),this.container}}]),U}(n),L=function(Y){W(U,Y);var $=V(U);function U(X){var ee;return h(this,U),(ee=$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)).containerClassName="polylineAnnotation",ee.svgElementName="svg:polyline",ee}return c(U,[{key:"render",value:function(){this.container.className=this.containerClassName;var ze,ee=this.data,Ae=this.svgFactory.create(ee.rect[2]-ee.rect[0],ee.rect[3]-ee.rect[1]),Te=[],Pe=b(ee.vertices);try{for(Pe.s();!(ze=Pe.n()).done;){var Be=ze.value;Te.push(Be.x-ee.rect[0]+","+(ee.rect[3]-Be.y))}}catch(he){Pe.e(he)}finally{Pe.f()}Te=Te.join(" ");var Qe=this.svgFactory.createElement(this.svgElementName);return Qe.setAttribute("points",Te),Qe.setAttribute("stroke-width",ee.borderStyle.width||1),Qe.setAttribute("stroke","transparent"),Qe.setAttribute("fill","none"),Ae.appendChild(Qe),this.container.append(Ae),this._createPopup(this.container,Qe,ee),this.container}}]),U}(n),g=function(Y){W(U,Y);var $=V(U);function U(X){var ee;return h(this,U),(ee=$.call(this,X)).containerClassName="polygonAnnotation",ee.svgElementName="svg:polygon",ee}return U}(L),p=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),d=function(Y){W(U,Y);var $=V(U);function U(X){var ee;return h(this,U),(ee=$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)).containerClassName="inkAnnotation",ee.svgElementName="svg:polyline",ee}return c(U,[{key:"render",value:function(){this.container.className=this.containerClassName;var Pe,ee=this.data,Ae=this.svgFactory.create(ee.rect[2]-ee.rect[0],ee.rect[3]-ee.rect[1]),Te=b(ee.inkLists);try{for(Te.s();!(Pe=Te.n()).done;){var et,Be=[],Xe=b(Pe.value);try{for(Xe.s();!(et=Xe.n()).done;){var Qe=et.value,ye=ee.rect[3]-Qe.y;Be.push("".concat(Qe.x-ee.rect[0],",").concat(ye))}}catch(ue){Xe.e(ue)}finally{Xe.f()}Be=Be.join(" ");var ve=this.svgFactory.createElement(this.svgElementName);ve.setAttribute("points",Be),ve.setAttribute("stroke-width",ee.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","none"),this._createPopup(this.container,ve,ee),Ae.appendChild(ve)}}catch(ue){Te.e(ue)}finally{Te.f()}return this.container.append(Ae),this.container}}]),U}(n),v=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),P=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),J=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),ie=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),ae=function(Y){W(U,Y);var $=V(U);function U(X){return h(this,U),$.call(this,X,!!(X.data.hasPopup||X.data.title||X.data.contents),!0)}return c(U,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),U}(n),re=function(Y){W(U,Y);var $=V(U);function U(X){var ee;h(this,U);var ce=(ee=$.call(this,X,!0)).data.file,de=ce.filename,Ae=ce.content;return ee.filename=(0,r.getFilenameFromUrl)(de),ee.content=Ae,ee.linkService.eventBus&&ee.linkService.eventBus.dispatch("fileattachmentannotation",{source:Z(ee),id:(0,o.stringToPDFString)(de),filename:de,content:Ae}),ee}return c(U,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var ee=document.createElement("div");return ee.style.height=this.container.style.height,ee.style.width=this.container.style.width,ee.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,ee,this.data),this.container.appendChild(ee),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,o.warn)("Download cannot be started due to unavailable download manager")}}]),U}(n);A.AnnotationLayer=function(){function Y(){h(this,Y)}return c(Y,null,[{key:"render",value:function(U){var de,X=[],ee=[],ce=b(U.annotations);try{for(ce.s();!(de=ce.n()).done;){var Ae=de.value;if(Ae){if(Ae.annotationType===o.AnnotationType.POPUP){ee.push(Ae);continue}X.push(Ae)}}}catch(Xe){ce.e(Xe)}finally{ce.f()}ee.length&&X.push.apply(X,ee);for(var Te=0,Pe=X;Te<Pe.length;Te++){var Be=l.create({data:Pe[Te],layer:U.div,page:U.page,viewport:U.viewport,linkService:U.linkService,downloadManager:U.downloadManager,imageResourcesPath:U.imageResourcesPath||"",renderInteractiveForms:U.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory});Be.isRenderable&&U.div.appendChild(Be.render())}}},{key:"update",value:function(U){var ee,X=b(U.annotations);try{for(X.s();!(ee=X.n()).done;){var de=U.div.querySelector('[data-annotation-id="'.concat(ee.value.id,'"]'));de&&(de.style.transform="matrix(".concat(U.viewport.transform.join(","),")"))}}catch(Ae){X.e(Ae)}finally{X.f()}U.div.removeAttribute("hidden")}}]),Y}()},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.renderTextLayer=void 0;var r=t(5),o=function(){var I=/\S/;function O(T,h,_){var c=document.createElement("span"),l={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(T._textDivs.push(c),function(T){return!I.test(T)}(h.str))return l.isWhitespace=!0,void T._textDivProperties.set(c,l);var n=r.Util.transform(T._viewport.transform,h.transform),i=Math.atan2(n[1],n[0]),u=_[h.fontName];u.vertical&&(i+=Math.PI/2);var x,S,f=Math.sqrt(n[2]*n[2]+n[3]*n[3]),m=f;u.ascent?m*=u.ascent:u.descent&&(m*=1+u.descent),0===i?(x=n[4],S=n[5]-m):(x=n[4]+m*Math.sin(i),S=n[5]-m*Math.cos(i)),c.style.left="".concat(x,"px"),c.style.top="".concat(S,"px"),c.style.fontSize="".concat(f,"px"),c.style.fontFamily=u.fontFamily,c.textContent=h.str,T._fontInspectorEnabled&&(c.dataset.fontName=h.fontName),0!==i&&(l.angle=i*(180/Math.PI));var D=!1;if(h.str.length>1)D=!0;else if(h.transform[0]!==h.transform[3]){var H=Math.abs(h.transform[0]),q=Math.abs(h.transform[3]);H!==q&&Math.max(H,q)/Math.min(H,q)>1.5&&(D=!0)}if(D&&(l.canvasWidth=u.vertical?h.height*T._viewport.scale:h.width*T._viewport.scale),T._textDivProperties.set(c,l),T._textContentStream&&T._layoutText(c),T._enhanceTextSelection){var te=1,j=0;0!==i&&(te=Math.cos(i),j=Math.sin(i));var k,L,Q=(u.vertical?h.height:h.width)*T._viewport.scale,M=f;L=0!==i?r.Util.getAxialAlignedBoundingBox([0,0,Q,M],k=[te,j,-j,te,x,S]):[x,S,x+Q,S+M],T._bounds.push({left:L[0],top:L[1],right:L[2],bottom:L[3],div:c,size:[Q,M],m:k})}}function R(T){if(!T._canceled){var h=T._textDivs,_=T._capability,c=h.length;if(c>1e5)return T._renderingDone=!0,void _.resolve();if(!T._textContentStream)for(var l=0;l<c;l++)T._layoutText(h[l]);T._renderingDone=!0,_.resolve()}}function W(T,h,_){for(var c=0,l=0;l<_;l++){var n=T[h++];n>0&&(c=c?Math.min(n,c):n)}return c}function G(T,h){h.sort(function(l,n){return l.x1-n.x1||l.index-n.index});var c=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];h.forEach(function(l){for(var n=0;n<c.length&&c[n].end<=l.y1;)n++;for(var i=c.length-1;i>=0&&c[i].start>=l.y2;)i--;var u,f,m,x,S=-1/0;for(m=n;m<=i;m++){var D;(D=(f=(u=c[m]).boundary).x2>l.x1?f.index>l.index?f.x1New:l.x1:void 0===f.x2New?(f.x2+l.x1)/2:f.x2New)>S&&(S=D)}for(l.x1New=S,m=n;m<=i;m++)void 0===(f=(u=c[m]).boundary).x2New?f.x2>l.x1?f.index>l.index&&(f.x2New=f.x2):f.x2New=S:f.x2New>S&&(f.x2New=Math.max(S,f.x2));var H=[],q=null;for(m=n;m<=i;m++){var te=(f=(u=c[m]).boundary).x2>l.x2?f:l;q===te?H[H.length-1].end=u.end:(H.push({start:u.start,end:u.end,boundary:te}),q=te)}for(c[n].start<l.y1&&(H[0].start=l.y1,H.unshift({start:c[n].start,end:l.y1,boundary:c[n].boundary})),l.y2<c[i].end&&(H[H.length-1].end=l.y2,H.push({start:l.y2,end:c[i].end,boundary:c[i].boundary})),m=n;m<=i;m++)if(void 0===(f=(u=c[m]).boundary).x2New){var j=!1;for(x=n-1;!j&&x>=0&&c[x].start>=f.y1;x--)j=c[x].boundary===f;for(x=i+1;!j&&x<c.length&&c[x].end<=f.y2;x++)j=c[x].boundary===f;for(x=0;!j&&x<H.length;x++)j=H[x].boundary===f;j||(f.x2New=S)}Array.prototype.splice.apply(c,[n,i-n+1].concat(H))}),c.forEach(function(l){var n=l.boundary;void 0===n.x2New&&(n.x2New=Math.max(T,n.x2))})}function Z(T){var h=this,c=T.textContentStream,l=T.container,n=T.viewport,i=T.textDivs,u=T.textContentItemsStr,f=T.enhanceTextSelection;this._textContent=T.textContent,this._textContentStream=c,this._container=l,this._viewport=n,this._textDivs=i||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!f,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){h._layoutTextCtx&&(h._layoutTextCtx.canvas.width=0,h._layoutTextCtx.canvas.height=0,h._layoutTextCtx=null)}).catch(function(){})}return Z.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(h,_){for(var c=0,l=h.length;c<l;c++)this._textContentItemsStr.push(h[c].str),O(this,h[c],_)},_layoutText:function(h){var _=this._textDivProperties.get(h);if(!_.isWhitespace){var c="";if(0!==_.canvasWidth){var l=h.style,n=l.fontSize,i=l.fontFamily;(n!==this._layoutTextLastFontSize||i!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(n," ").concat(i),this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=i);var f=this._layoutTextCtx.measureText(h.textContent).width;f>0&&(_.scale=_.canvasWidth/f,c="scaleX(".concat(_.scale,")"))}0!==_.angle&&(c="rotate(".concat(_.angle,"deg) ").concat(c)),c.length>0&&(this._enhanceTextSelection&&(_.originalTransform=c),h.style.transform=c),this._textDivProperties.set(h,_),this._container.appendChild(h)}},_render:function(h){var _=this,c=(0,r.createPromiseCapability)(),l=Object.create(null),n=document.createElement("canvas");if(n.mozOpaque=!0,this._layoutTextCtx=n.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),c.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function m(){_._reader.read().then(function(x){var S=x.value;x.done?c.resolve():(Object.assign(l,S.styles),_._processItems(S.items,l),m())},c.reject)}()}c.promise.then(function(){l=null,h?_._renderTimer=setTimeout(function(){R(_),_._renderTimer=null},h):R(_)},this._capability.reject)},expandTextDivs:function(h){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(T){for(var h=T._bounds,_=T._viewport,c=function(T,h,_){var c=_.map(function(n,i){return{x1:n.left,y1:n.top,x2:n.right,y2:n.bottom,index:i,x1New:void 0,x2New:void 0}});G(T,c);var l=new Array(_.length);return c.forEach(function(n){l[n.index]={left:n.x1New,top:0,right:n.x2New,bottom:0}}),_.map(function(n,i){var u=l[i],f=c[i];f.x1=n.top,f.y1=T-u.right,f.x2=n.bottom,f.y2=T-u.left,f.index=i,f.x1New=void 0,f.x2New=void 0}),G(h,c),c.forEach(function(n){var i=n.index;l[i].top=n.x1New,l[i].bottom=n.x2New}),l}(_.width,_.height,h),l=0;l<c.length;l++){var n=h[l].div,i=T._textDivProperties.get(n);if(0!==i.angle){var u=c[l],f=h[l],m=f.m,x=m[0],S=m[1],D=[[0,0],[0,f.size[1]],[f.size[0],0],f.size],H=new Float64Array(64);D.forEach(function(te,j){var Q=r.Util.applyTransform(te,m);H[j+0]=x&&(u.left-Q[0])/x,H[j+4]=S&&(u.top-Q[1])/S,H[j+8]=x&&(u.right-Q[0])/x,H[j+12]=S&&(u.bottom-Q[1])/S,H[j+16]=S&&(u.left-Q[0])/-S,H[j+20]=x&&(u.top-Q[1])/x,H[j+24]=S&&(u.right-Q[0])/-S,H[j+28]=x&&(u.bottom-Q[1])/x,H[j+32]=x&&(u.left-Q[0])/-x,H[j+36]=S&&(u.top-Q[1])/-S,H[j+40]=x&&(u.right-Q[0])/-x,H[j+44]=S&&(u.bottom-Q[1])/-S,H[j+48]=S&&(u.left-Q[0])/S,H[j+52]=x&&(u.top-Q[1])/-x,H[j+56]=S&&(u.right-Q[0])/S,H[j+60]=x&&(u.bottom-Q[1])/-x});var q=1+Math.min(Math.abs(x),Math.abs(S));i.paddingLeft=W(H,32,16)/q,i.paddingTop=W(H,48,16)/q,i.paddingRight=W(H,0,16)/q,i.paddingBottom=W(H,16,16)/q,T._textDivProperties.set(n,i)}else i.paddingLeft=h[l].left-c[l].left,i.paddingTop=h[l].top-c[l].top,i.paddingRight=c[l].right-h[l].right,i.paddingBottom=c[l].bottom-h[l].bottom,T._textDivProperties.set(n,i)}}(this),this._bounds=null);for(var _=[],c=[],l=0,n=this._textDivs.length;l<n;l++){var i=this._textDivs[l],u=this._textDivProperties.get(i);u.isWhitespace||(h?(_.length=0,c.length=0,u.originalTransform&&_.push(u.originalTransform),u.paddingTop>0?(c.push("".concat(u.paddingTop,"px")),_.push("translateY(".concat(-u.paddingTop,"px)"))):c.push(0),c.push(u.paddingRight>0?"".concat(u.paddingRight/u.scale,"px"):0),c.push(u.paddingBottom>0?"".concat(u.paddingBottom,"px"):0),u.paddingLeft>0?(c.push("".concat(u.paddingLeft/u.scale,"px")),_.push("translateX(".concat(-u.paddingLeft/u.scale,"px)"))):c.push(0),i.style.padding=c.join(" "),_.length&&(i.style.transform=_.join(" "))):(i.style.padding=null,i.style.transform=u.originalTransform))}}}},function(T){var h=new Z({textContent:T.textContent,textContentStream:T.textContentStream,container:T.container,viewport:T.viewport,textDivs:T.textDivs,textContentItemsStr:T.textContentItemsStr,enhanceTextSelection:T.enhanceTextSelection});return h._render(T.timeout),h}}();A.renderTextLayer=o},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SVGGraphics=void 0;var r=t(5),o=t(1),b=t(7);function R(Q,M){return function(Q){if(Array.isArray(Q))return Q}(Q)||function(Q,M){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Q)){var k=[],L=!0,g=!1,p=void 0;try{for(var v,d=Q[Symbol.iterator]();!(L=(v=d.next()).done)&&(k.push(v.value),!M||k.length!==M);L=!0);}catch(P){g=!0,p=P}finally{try{!L&&null!=d.return&&d.return()}finally{if(g)throw p}}return k}}(Q,M)||Z(Q,M)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(Q,M){var k;if("undefined"==typeof Symbol||null==Q[Symbol.iterator]){if(Array.isArray(Q)||(k=Z(Q))||M&&Q&&"number"==typeof Q.length){k&&(Q=k);var L=0,g=function(){};return{s:g,n:function(){return L>=Q.length?{done:!0}:{done:!1,value:Q[L++]}},e:function(J){throw J},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,p=!0,d=!1;return{s:function(){k=Q[Symbol.iterator]()},n:function(){var J=k.next();return p=J.done,J},e:function(J){d=!0,v=J},f:function(){try{!p&&null!=k.return&&k.return()}finally{if(d)throw v}}}}function Z(Q,M){if(Q){if("string"==typeof Q)return E(Q,M);var k=Object.prototype.toString.call(Q).slice(8,-1);if("Object"===k&&Q.constructor&&(k=Q.constructor.name),"Map"===k||"Set"===k)return Array.from(Q);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return E(Q,M)}}function E(Q,M){(null==M||M>Q.length)&&(M=Q.length);for(var k=0,L=new Array(M);k<M;k++)L[k]=Q[k];return L}function T(Q,M){if(!(Q instanceof M))throw new TypeError("Cannot call a class as a function")}function h(Q,M){for(var k=0;k<M.length;k++){var L=M[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(Q,L.key,L)}}function _(Q,M,k){return M&&h(Q.prototype,M),k&&h(Q,k),Q}var c=function(){throw new Error("Not implemented: SVGGraphics")};A.SVGGraphics=c;var n=function(M){if(Number.isInteger(M))return M.toString();var k=M.toFixed(10),L=k.length-1;if("0"!==k[L])return k;do{L--}while("0"===k[L]);return k.substring(0,"."===k[L]?L:L+1)},i=function(M){if(0===M[4]&&0===M[5]){if(0===M[1]&&0===M[2])return 1===M[0]&&1===M[3]?"":"scale(".concat(n(M[0])," ").concat(n(M[3]),")");if(M[0]===M[3]&&M[1]===-M[2]){var k=180*Math.acos(M[0])/Math.PI;return"rotate(".concat(n(k),")")}}else if(1===M[0]&&0===M[1]&&0===M[2]&&1===M[3])return"translate(".concat(n(M[4])," ").concat(n(M[5]),")");return"matrix(".concat(n(M[0])," ").concat(n(M[1])," ").concat(n(M[2])," ").concat(n(M[3])," ").concat(n(M[4])," ")+"".concat(n(M[5]),")")},u_fontStyle="normal",u_fontWeight="normal",u_fillColor="#000000",x=["butt","round","square"],S=["miter","round","bevel"],D=function(){for(var Q=new Uint8Array([137,80,78,71,13,10,26,10]),k=new Int32Array(256),L=0;L<256;L++){for(var g=L,p=0;p<8;p++)g=1&g?3988292384^g>>1&2147483647:g>>1&2147483647;k[L]=g}function v(re,se,Y,$){var U=$,X=se.length;Y[U]=X>>24&255,Y[U+1]=X>>16&255,Y[U+2]=X>>8&255,Y[U+3]=255&X,Y[U+=4]=255&re.charCodeAt(0),Y[U+1]=255&re.charCodeAt(1),Y[U+2]=255&re.charCodeAt(2),Y[U+3]=255&re.charCodeAt(3),Y.set(se,U+=4);var ee=function(re,se,Y){for(var $=-1,U=se;U<Y;U++)$=$>>>8^k[255&($^re[U])];return-1^$}(Y,$+4,U+=se.length);Y[U]=ee>>24&255,Y[U+1]=ee>>16&255,Y[U+2]=ee>>8&255,Y[U+3]=255&ee}function ie(re){var se=re.length,Y=65535,$=Math.ceil(se/Y),U=new Uint8Array(2+se+5*$+4),X=0;U[X++]=120,U[X++]=156;for(var ee=0;se>Y;)U[X++]=0,U[X++]=255,U[X++]=255,U[X++]=0,U[X++]=0,U.set(re.subarray(ee,ee+Y),X),X+=Y,ee+=Y,se-=Y;U[X++]=1,U[X++]=255&se,U[X++]=se>>8&255,U[X++]=255&~se,U[X++]=(65535&~se)>>8&255,U.set(re.subarray(ee),X),X+=re.length-ee;var ce=function(re,se,Y){for(var $=1,U=0,X=0;X<Y;++X)U=(U+($=($+(255&re[X]))%65521))%65521;return U<<16|$}(re,0,re.length);return U[X++]=ce>>24&255,U[X++]=ce>>16&255,U[X++]=ce>>8&255,U[X++]=255&ce,U}return function(se,Y,$){return function(re,se,Y,$){var ee,ce,de,U=re.width,X=re.height,Ae=re.data;switch(se){case r.ImageKind.GRAYSCALE_1BPP:ce=0,ee=1,de=U+7>>3;break;case r.ImageKind.RGB_24BPP:ce=2,ee=8,de=3*U;break;case r.ImageKind.RGBA_32BPP:ce=6,ee=8,de=4*U;break;default:throw new Error("invalid format")}for(var Te=new Uint8Array((1+de)*X),Pe=0,ze=0,Be=0;Be<X;++Be)Te[Pe++]=0,Te.set(Ae.subarray(ze,ze+de),Pe),ze+=de,Pe+=de;if(se===r.ImageKind.GRAYSCALE_1BPP&&$){Pe=0;for(var Xe=0;Xe<X;Xe++){Pe++;for(var et=0;et<de;et++)Te[Pe++]^=255}}var Qe=new Uint8Array([U>>24&255,U>>16&255,U>>8&255,255&U,X>>24&255,X>>16&255,X>>8&255,255&X,ee,ce,0,0,0]),he=function(re){if(!b.isNodeJS)return ie(re);try{var se;se=parseInt(process.versions.node)>=8?re:Buffer.from(re);var Y=__webpack_require__(33074).deflateSync(se,{level:9});return Y instanceof Uint8Array?Y:new Uint8Array(Y)}catch($){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+$)}return ie(re)}(Te),ve=new Uint8Array(Q.length+36+Qe.length+he.length),ue=0;return ve.set(Q,ue),v("IHDR",Qe,ve,ue+=Q.length),v("IDATA",he,ve,ue+=12+Qe.length),ue+=12+he.length,v("IEND",new Uint8Array(0),ve,ue),(0,r.createObjectURL)(ve,"image/png",Y)}(se,void 0===se.kind?r.ImageKind.GRAYSCALE_1BPP:se.kind,Y,$)}}(),H=function(){function Q(){T(this,Q),this.fontSizeScale=1,this.fontWeight=u_fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=u_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _(Q,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(k,L){this.x=k,this.y=L}}]),Q}(),q=0,te=0,j=0;A.SVGGraphics=c=function(){function Q(M,k){var L=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var g in T(this,Q),this.svgFactory=new o.DOMSVGFactory,this.current=new H,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=M,this.objs=k,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!L,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[g]]=g}return _(Q,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var k=this.current;this.extraStack.push(k),this.current=k.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(k){this.save(),this.executeOpTree(k),this.restore()}},{key:"loadDependencies",value:function(k){for(var L=this,g=k.fnArray,p=k.argsArray,d=0,v=g.length;d<v;d++)if(g[d]===r.OPS.dependency){var J,P=G(p[d]);try{var ie=function(){var re=J.value,se=re.startsWith("g_")?L.commonObjs:L.objs,Y=new Promise(function($){se.get(re,$)});L.current.dependencies.push(Y)};for(P.s();!(J=P.n()).done;)ie()}catch(ae){P.e(ae)}finally{P.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(k,L,g,p,d,v){this.transformMatrix=r.Util.transform(this.transformMatrix,[k,L,g,p,d,v]),this.tgrp=null}},{key:"getSVG",value:function(k,L){var g=this;this.viewport=L;var p=this._initialize(L);return this.loadDependencies(k).then(function(){return g.transformMatrix=r.IDENTITY_MATRIX,g.executeOpTree(g.convertOpList(k)),p})}},{key:"convertOpList",value:function(k){for(var L=this._operatorIdMapping,g=k.argsArray,p=k.fnArray,d=[],v=0,P=p.length;v<P;v++){var J=p[v];d.push({fnId:J,fn:L[J],args:g[v]})}return function(M){var p,k=[],L=[],g=G(M);try{for(g.s();!(p=g.n()).done;){var d=p.value;"save"!==d.fn?"restore"===d.fn?k=L.pop():k.push(d):(k.push({fnId:92,fn:"group",items:[]}),L.push(k),k=k[k.length-1].items)}}catch(v){g.e(v)}finally{g.f()}return k}(d)}},{key:"executeOpTree",value:function(k){var g,L=G(k);try{for(L.s();!(g=L.n()).done;){var p=g.value,d=p.fn,P=p.args;switch(0|p.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(P);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(P[0],P[1]);break;case r.OPS.setFont:this.setFont(P);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(P[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(P[0],P[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(P[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(P[0]);break;case r.OPS.setHScale:this.setHScale(P[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(P[0],P[1],P[2],P[3],P[4],P[5]);break;case r.OPS.setTextRise:this.setTextRise(P[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(P[0]);break;case r.OPS.setLineWidth:this.setLineWidth(P[0]);break;case r.OPS.setLineJoin:this.setLineJoin(P[0]);break;case r.OPS.setLineCap:this.setLineCap(P[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(P[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(P[0],P[1],P[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(P[0],P[1],P[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(P);break;case r.OPS.setFillColorN:this.setFillColorN(P);break;case r.OPS.shadingFill:this.shadingFill(P[0]);break;case r.OPS.setDash:this.setDash(P[0],P[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(P[0]);break;case r.OPS.setFlatness:this.setFlatness(P[0]);break;case r.OPS.setGState:this.setGState(P[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(P[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(P[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(P[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(P[0],P[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(P[0],P[1],P[2],P[3],P[4],P[5]);break;case r.OPS.constructPath:this.constructPath(P[0],P[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(p.items);break;default:(0,r.warn)("Unimplemented operator ".concat(d))}}}catch(J){L.e(J)}finally{L.f()}}},{key:"setWordSpacing",value:function(k){this.current.wordSpacing=k}},{key:"setCharSpacing",value:function(k){this.current.charSpacing=k}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(k,L,g,p,d,v){var P=this.current;P.textMatrix=P.lineMatrix=[k,L,g,p,d,v],P.textMatrixScale=Math.sqrt(k*k+L*L),P.x=P.lineX=0,P.y=P.lineY=0,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size","".concat(n(P.fontSize),"px")),P.tspan.setAttributeNS(null,"y",n(-P.y)),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtElement.appendChild(P.tspan)}},{key:"beginText",value:function(){var k=this.current;k.x=k.lineX=0,k.y=k.lineY=0,k.textMatrix=r.IDENTITY_MATRIX,k.lineMatrix=r.IDENTITY_MATRIX,k.textMatrixScale=1,k.tspan=this.svgFactory.createElement("svg:tspan"),k.txtElement=this.svgFactory.createElement("svg:text"),k.txtgrp=this.svgFactory.createElement("svg:g"),k.xcoords=[],k.ycoords=[]}},{key:"moveText",value:function(k,L){var g=this.current;g.x=g.lineX+=k,g.y=g.lineY+=L,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size","".concat(n(g.fontSize),"px")),g.tspan.setAttributeNS(null,"y",n(-g.y))}},{key:"showText",value:function(k){var L=this.current,g=L.font,p=L.fontSize;if(0!==p){var X,d=L.fontSizeScale,v=L.charSpacing,P=L.wordSpacing,J=L.fontDirection,ie=L.textHScale*J,ae=g.vertical,re=ae?1:-1,se=g.defaultVMetrics,Y=p*L.fontMatrix[0],$=0,U=G(k);try{for(U.s();!(X=U.n()).done;){var ee=X.value;if(null!==ee)if((0,r.isNum)(ee))$+=re*ee*p/1e3;else{var ce=(ee.isSpace?P:0)+v,de=ee.fontChar,Ae=void 0,Te=void 0,Pe=ee.width;if(ae){var ze=void 0,Be=ee.vmetric||se;ze=ee.vmetric?Be[1]:.5*Pe,Pe=Be?-Be[0]:Pe,Ae=(ze=-ze*Y)/d,Te=($+Be[2]*Y)/d}else Ae=$/d,Te=0;(ee.isInFont||g.missingFile)&&(L.xcoords.push(L.x+Ae),ae&&L.ycoords.push(-L.y+Te),L.tspan.textContent+=de),$+=ae?Pe*Y-ce*J:Pe*Y+ce*J}else $+=J*P}}catch(ve){U.e(ve)}finally{U.f()}L.tspan.setAttributeNS(null,"x",L.xcoords.map(n).join(" ")),L.tspan.setAttributeNS(null,"y",ae?L.ycoords.map(n).join(" "):n(-L.y)),ae?L.y-=$:L.x+=$*ie,L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size","".concat(n(L.fontSize),"px")),L.fontStyle!==u_fontStyle&&L.tspan.setAttributeNS(null,"font-style",L.fontStyle),L.fontWeight!==u_fontWeight&&L.tspan.setAttributeNS(null,"font-weight",L.fontWeight);var Qe=L.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;Qe===r.TextRenderingMode.FILL||Qe===r.TextRenderingMode.FILL_STROKE?(L.fillColor!==u_fillColor&&L.tspan.setAttributeNS(null,"fill",L.fillColor),L.fillAlpha<1&&L.tspan.setAttributeNS(null,"fill-opacity",L.fillAlpha)):L.tspan.setAttributeNS(null,"fill",L.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Qe===r.TextRenderingMode.STROKE||Qe===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(L.tspan,1/(L.textMatrixScale||1));var ye=L.textMatrix;0!==L.textRise&&((ye=ye.slice())[5]+=L.textRise),L.txtElement.setAttributeNS(null,"transform","".concat(i(ye)," scale(").concat(n(ie),", -1)")),L.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),L.txtElement.appendChild(L.tspan),L.txtgrp.appendChild(L.txtElement),this._ensureTransformGroup().appendChild(L.txtElement)}}},{key:"setLeadingMoveText",value:function(k,L){this.setLeading(-L),this.moveText(k,L)}},{key:"addFontStyle",value:function(k){if(!k.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var L=(0,r.createObjectURL)(k.data,k.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(k.loadedName,'";')+" src: url(".concat(L,"); }\n")}},{key:"setFont",value:function(k){var L=this.current,g=this.commonObjs.get(k[0]),p=k[1];L.font=g,this.embedFonts&&!g.missingFile&&!this.embeddedFonts[g.loadedName]&&(this.addFontStyle(g),this.embeddedFonts[g.loadedName]=g),L.fontMatrix=g.fontMatrix?g.fontMatrix:r.FONT_IDENTITY_MATRIX;var d="normal";g.black?d="900":g.bold&&(d="bold");var v=g.italic?"italic":"normal";p<0?(p=-p,L.fontDirection=-1):L.fontDirection=1,L.fontSize=p,L.fontFamily=g.loadedName,L.fontWeight=d,L.fontStyle=v,L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"y",n(-L.y)),L.xcoords=[],L.ycoords=[]}},{key:"endText",value:function(){var k=this.current;k.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&k.txtElement&&k.txtElement.hasChildNodes()&&(k.element=k.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(k){k>0&&(this.current.lineWidth=k)}},{key:"setLineCap",value:function(k){this.current.lineCap=x[k]}},{key:"setLineJoin",value:function(k){this.current.lineJoin=S[k]}},{key:"setMiterLimit",value:function(k){this.current.miterLimit=k}},{key:"setStrokeAlpha",value:function(k){this.current.strokeAlpha=k}},{key:"setStrokeRGBColor",value:function(k,L,g){this.current.strokeColor=r.Util.makeCssRgb(k,L,g)}},{key:"setFillAlpha",value:function(k){this.current.fillAlpha=k}},{key:"setFillRGBColor",value:function(k,L,g){this.current.fillColor=r.Util.makeCssRgb(k,L,g),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(k){this.current.strokeColor=this._makeColorN_Pattern(k)}},{key:"setFillColorN",value:function(k){this.current.fillColor=this._makeColorN_Pattern(k)}},{key:"shadingFill",value:function(k){var L=this.viewport.width,g=this.viewport.height,p=r.Util.inverseTransform(this.transformMatrix),d=r.Util.applyTransform([0,0],p),v=r.Util.applyTransform([0,g],p),P=r.Util.applyTransform([L,0],p),J=r.Util.applyTransform([L,g],p),ie=Math.min(d[0],v[0],P[0],J[0]),ae=Math.min(d[1],v[1],P[1],J[1]),re=Math.max(d[0],v[0],P[0],J[0]),se=Math.max(d[1],v[1],P[1],J[1]),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x",ie),Y.setAttributeNS(null,"y",ae),Y.setAttributeNS(null,"width",re-ie),Y.setAttributeNS(null,"height",se-ae),Y.setAttributeNS(null,"fill",this._makeShadingPattern(k)),this.current.fillAlpha<1&&Y.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Y)}},{key:"_makeColorN_Pattern",value:function(k){return"TilingPattern"===k[0]?this._makeTilingPattern(k):this._makeShadingPattern(k)}},{key:"_makeTilingPattern",value:function(k){var L=k[1],g=k[2],p=k[3]||r.IDENTITY_MATRIX,d=R(k[4],4),v=d[0],P=d[1],J=d[2],ie=d[3],ae=k[5],re=k[6],se=k[7],Y="shading".concat(j++),U=R(r.Util.applyTransform([v,P],p),2),X=U[0],ee=U[1],de=R(r.Util.applyTransform([J,ie],p),2),Ae=de[0],Te=de[1],ze=R(r.Util.singularValueDecompose2dScale(p),2),et=ae*ze[0],Qe=re*ze[1],he=this.svgFactory.createElement("svg:pattern");he.setAttributeNS(null,"id",Y),he.setAttributeNS(null,"patternUnits","userSpaceOnUse"),he.setAttributeNS(null,"width",et),he.setAttributeNS(null,"height",Qe),he.setAttributeNS(null,"x","".concat(X)),he.setAttributeNS(null,"y","".concat(ee));var ye=this.svg,ve=this.transformMatrix,ue=this.current.fillColor,pe=this.current.strokeColor,Se=this.svgFactory.create(Ae-X,Te-ee);if(this.svg=Se,this.transformMatrix=p,2===se){var Ie=r.Util.makeCssRgb.apply(r.Util,function(Q){return function(Q){if(Array.isArray(Q))return E(Q)}(Q)||function(Q){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Q))return Array.from(Q)}(Q)||Z(Q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(L));this.current.fillColor=Ie,this.current.strokeColor=Ie}return this.executeOpTree(this.convertOpList(g)),this.svg=ye,this.transformMatrix=ve,this.current.fillColor=ue,this.current.strokeColor=pe,he.appendChild(Se.childNodes[0]),this.defs.appendChild(he),"url(#".concat(Y,")")}},{key:"_makeShadingPattern",value:function(k){switch(k[0]){case"RadialAxial":var p,L="shading".concat(j++),g=k[3];switch(k[1]){case"axial":var d=k[4],v=k[5];(p=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",L),p.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),p.setAttributeNS(null,"x1",d[0]),p.setAttributeNS(null,"y1",d[1]),p.setAttributeNS(null,"x2",v[0]),p.setAttributeNS(null,"y2",v[1]);break;case"radial":var P=k[4],J=k[5],ie=k[6],ae=k[7];(p=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",L),p.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),p.setAttributeNS(null,"cx",J[0]),p.setAttributeNS(null,"cy",J[1]),p.setAttributeNS(null,"r",ae),p.setAttributeNS(null,"fx",P[0]),p.setAttributeNS(null,"fy",P[1]),p.setAttributeNS(null,"fr",ie);break;default:throw new Error("Unknown RadialAxial type: ".concat(k[1]))}var se,re=G(g);try{for(re.s();!(se=re.n()).done;){var Y=se.value,$=this.svgFactory.createElement("svg:stop");$.setAttributeNS(null,"offset",Y[0]),$.setAttributeNS(null,"stop-color",Y[1]),p.appendChild($)}}catch(U){re.e(U)}finally{re.f()}return this.defs.appendChild(p),"url(#".concat(L,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(k[0]))}}},{key:"setDash",value:function(k,L){this.current.dashArray=k,this.current.dashPhase=L}},{key:"constructPath",value:function(k,L){var ie,g=this.current,p=g.x,d=g.y,v=[],P=0,J=G(k);try{for(J.s();!(ie=J.n()).done;)switch(0|ie.value){case r.OPS.rectangle:p=L[P++],d=L[P++];var Y=p+L[P++],$=d+L[P++];v.push("M",n(p),n(d),"L",n(Y),n(d),"L",n(Y),n($),"L",n(p),n($),"Z");break;case r.OPS.moveTo:p=L[P++],d=L[P++],v.push("M",n(p),n(d));break;case r.OPS.lineTo:p=L[P++],d=L[P++],v.push("L",n(p),n(d));break;case r.OPS.curveTo:p=L[P+4],d=L[P+5],v.push("C",n(L[P]),n(L[P+1]),n(L[P+2]),n(L[P+3]),n(p),n(d)),P+=6;break;case r.OPS.curveTo2:v.push("C",n(p),n(d),n(L[P]),n(L[P+1]),n(L[P+2]),n(L[P+3])),p=L[P+2],d=L[P+3],P+=4;break;case r.OPS.curveTo3:p=L[P+2],d=L[P+3],v.push("C",n(L[P]),n(L[P+1]),n(p),n(d),n(p),n(d)),P+=4;break;case r.OPS.closePath:v.push("Z")}}catch(U){J.e(U)}finally{J.f()}v=v.join(" "),g.path&&k.length>0&&k[0]!==r.OPS.rectangle&&k[0]!==r.OPS.moveTo?v=g.path.getAttributeNS(null,"d")+v:(g.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(g.path)),g.path.setAttributeNS(null,"d",v),g.path.setAttributeNS(null,"fill","none"),g.element=g.path,g.setCurrentPoint(p,d)}},{key:"endPath",value:function(){var k=this.current;if(k.path=null,this.pendingClip){if(!k.element)return void(this.pendingClip=null);var L="clippath".concat(q++),g=this.svgFactory.createElement("svg:clipPath");g.setAttributeNS(null,"id",L),g.setAttributeNS(null,"transform",i(this.transformMatrix));var p=k.element.cloneNode(!0);p.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,g.appendChild(p),this.defs.appendChild(g),k.activeClipUrl&&(k.clipGroup=null,this.extraStack.forEach(function(d){d.clipGroup=null}),g.setAttributeNS(null,"clip-path",k.activeClipUrl)),k.activeClipUrl="url(#".concat(L,")"),this.tgrp=null}}},{key:"clip",value:function(k){this.pendingClip=k}},{key:"closePath",value:function(){var k=this.current;if(k.path){var L="".concat(k.path.getAttributeNS(null,"d"),"Z");k.path.setAttributeNS(null,"d",L)}}},{key:"setLeading",value:function(k){this.current.leading=-k}},{key:"setTextRise",value:function(k){this.current.textRise=k}},{key:"setTextRenderingMode",value:function(k){this.current.textRenderingMode=k}},{key:"setHScale",value:function(k){this.current.textHScale=k/100}},{key:"setRenderingIntent",value:function(k){}},{key:"setFlatness",value:function(k){}},{key:"setGState",value:function(k){var g,L=G(k);try{for(L.s();!(g=L.n()).done;){var p=R(g.value,2),d=p[0],v=p[1];switch(d){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v);break;case"CA":this.setStrokeAlpha(v);break;case"ca":this.setFillAlpha(v);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(d))}}}catch(P){L.e(P)}finally{L.f()}}},{key:"fill",value:function(){var k=this.current;k.element&&(k.element.setAttributeNS(null,"fill",k.fillColor),k.element.setAttributeNS(null,"fill-opacity",k.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var k=this.current;k.element&&(this._setStrokeAttributes(k.element),k.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(k){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,g=this.current,p=g.dashArray;1!==L&&p.length>0&&(p=p.map(function(d){return L*d})),k.setAttributeNS(null,"stroke",g.strokeColor),k.setAttributeNS(null,"stroke-opacity",g.strokeAlpha),k.setAttributeNS(null,"stroke-miterlimit",n(g.miterLimit)),k.setAttributeNS(null,"stroke-linecap",g.lineCap),k.setAttributeNS(null,"stroke-linejoin",g.lineJoin),k.setAttributeNS(null,"stroke-width",n(L*g.lineWidth)+"px"),k.setAttributeNS(null,"stroke-dasharray",p.map(n).join(" ")),k.setAttributeNS(null,"stroke-dashoffset",n(L*g.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var k=this.svgFactory.createElement("svg:rect");k.setAttributeNS(null,"x","0"),k.setAttributeNS(null,"y","0"),k.setAttributeNS(null,"width","1px"),k.setAttributeNS(null,"height","1px"),k.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(k)}},{key:"paintImageXObject",value:function(k){var L=this.objs.get(k);L?this.paintInlineImageXObject(L):(0,r.warn)("Dependent image with object ID ".concat(k," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(k,L){var g=k.width,p=k.height,d=D(k,this.forceDataSchema,!!L),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width",n(g)),v.setAttributeNS(null,"height",n(p)),this.current.element=v,this.clip("nonzero");var P=this.svgFactory.createElement("svg:image");P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d),P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y",n(-p)),P.setAttributeNS(null,"width",n(g)+"px"),P.setAttributeNS(null,"height",n(p)+"px"),P.setAttributeNS(null,"transform","scale(".concat(n(1/g)," ").concat(n(-1/p),")")),L?L.appendChild(P):this._ensureTransformGroup().appendChild(P)}},{key:"paintImageMaskXObject",value:function(k){var L=this.current,g=k.width,p=k.height,d=L.fillColor;L.maskId="mask".concat(te++);var v=this.svgFactory.createElement("svg:mask");v.setAttributeNS(null,"id",L.maskId);var P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width",n(g)),P.setAttributeNS(null,"height",n(p)),P.setAttributeNS(null,"fill",d),P.setAttributeNS(null,"mask","url(#".concat(L.maskId,")")),this.defs.appendChild(v),this._ensureTransformGroup().appendChild(P),this.paintInlineImageXObject(k,v)}},{key:"paintFormXObjectBegin",value:function(k,L){if(Array.isArray(k)&&6===k.length&&this.transform(k[0],k[1],k[2],k[3],k[4],k[5]),L){var g=L[2]-L[0],p=L[3]-L[1],d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",L[0]),d.setAttributeNS(null,"y",L[1]),d.setAttributeNS(null,"width",n(g)),d.setAttributeNS(null,"height",n(p)),this.current.element=d,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(k){var L=this.svgFactory.create(k.width,k.height),g=this.svgFactory.createElement("svg:defs");L.appendChild(g),this.defs=g;var p=this.svgFactory.createElement("svg:g");return p.setAttributeNS(null,"transform",i(k.transform)),L.appendChild(p),this.svg=p,L}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var k=this.svgFactory.createElement("svg:g");k.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(k),this.current.clipGroup=k}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",i(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),Q}()},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PDFNodeStream=void 0;var Q,r=(Q=t(2))&&Q.__esModule?Q:{default:Q},o=t(5),b=t(213);function I(Q){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(Q)}function N(Q,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(M&&M.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),M&&O(Q,M)}function O(Q,M){return(O=Object.setPrototypeOf||function(L,g){return L.__proto__=g,L})(Q,M)}function R(Q){var M=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Q){return!1}}();return function(){var g,L=G(Q);if(M){var p=G(this).constructor;g=Reflect.construct(L,arguments,p)}else g=L.apply(this,arguments);return W(this,g)}}function W(Q,M){return!M||"object"!==I(M)&&"function"!=typeof M?function(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(Q):M}function G(Q){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)})(Q)}function Z(Q,M,k,L,g,p,d){try{var v=Q[p](d),P=v.value}catch(J){return void k(J)}v.done?M(P):Promise.resolve(P).then(L,g)}function E(Q){return function(){var M=this,k=arguments;return new Promise(function(L,g){var p=Q.apply(M,k);function d(P){Z(p,L,g,d,v,"next",P)}function v(P){Z(p,L,g,d,v,"throw",P)}d(void 0)})}}function T(Q,M){if(!(Q instanceof M))throw new TypeError("Cannot call a class as a function")}function h(Q,M){for(var k=0;k<M.length;k++){var L=M[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(Q,L.key,L)}}function _(Q,M,k){return M&&h(Q.prototype,M),k&&h(Q,k),Q}var c=__webpack_require__(36599),l=__webpack_require__(35358),n=__webpack_require__(61822),i=__webpack_require__(31127),u=/^file:\/\/\/[a-zA-Z]:\//,m=function(){function Q(M){T(this,Q),this.source=M,this.url=function(Q){var M=i.parse(Q);return"file:"===M.protocol||M.host?M:/^[a-z]:[/\\]/i.test(Q)?i.parse("file:///".concat(Q)):(M.host||(M.protocol="file:"),M)}(M.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&M.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _(Q,[{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new te(this):new H(this),this._fullRequestReader}},{key:"getRangeReader",value:function(k,L){if(L<=this._progressiveDataLength)return null;var g=this.isFsUrl?new j(this,k,L):new q(this,k,L);return this._rangeRequestReaders.push(g),g}},{key:"cancelAllRequests",value:function(k){this._fullRequestReader&&this._fullRequestReader.cancel(k),this._rangeRequestReaders.slice(0).forEach(function(g){g.cancel(k)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),Q}();A.PDFNodeStream=m;var x=function(){function Q(M){T(this,Q),this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null;var k=M.source;this._contentLength=k.length,this._loaded=0,this._filename=null,this._disableRange=k.disableRange||!1,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}return _(Q,[{key:"read",value:(M=E(r.default.mark(function L(){var g,p;return r.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._readCapability.promise;case 2:if(!this._done){v.next=4;break}return v.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){v.next=6;break}throw this._storedError;case 6:if(null!==(g=this._readableStream.read())){v.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),v.abrupt("return",this.read());case 10:return this._loaded+=g.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),p=new Uint8Array(g).buffer,v.abrupt("return",{value:p,done:!1});case 14:case"end":return v.stop()}},L,this)})),function(){return M.apply(this,arguments)})},{key:"cancel",value:function(k){this._readableStream?this._readableStream.destroy(k):this._error(k)}},{key:"_error",value:function(k){this._storedError=k,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(k){var L=this;this._readableStream=k,k.on("readable",function(){L._readCapability.resolve()}),k.on("end",function(){k.destroy(),L._done=!0,L._readCapability.resolve()}),k.on("error",function(g){L._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),Q;var M}(),S=function(){function Q(M){T(this,Q),this._url=M.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!M.source.disableStream}return _(Q,[{key:"read",value:(M=E(r.default.mark(function L(){var g,p;return r.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._readCapability.promise;case 2:if(!this._done){v.next=4;break}return v.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){v.next=6;break}throw this._storedError;case 6:if(null!==(g=this._readableStream.read())){v.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),v.abrupt("return",this.read());case 10:return this._loaded+=g.length,this.onProgress&&this.onProgress({loaded:this._loaded}),p=new Uint8Array(g).buffer,v.abrupt("return",{value:p,done:!1});case 14:case"end":return v.stop()}},L,this)})),function(){return M.apply(this,arguments)})},{key:"cancel",value:function(k){this._readableStream?this._readableStream.destroy(k):this._error(k)}},{key:"_error",value:function(k){this._storedError=k,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(k){var L=this;this._readableStream=k,k.on("readable",function(){L._readCapability.resolve()}),k.on("end",function(){k.destroy(),L._done=!0,L._readCapability.resolve()}),k.on("error",function(g){L._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),Q;var M}();function D(Q,M){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:M}}var H=function(Q){N(k,Q);var M=R(k);function k(L){var g;T(this,k);var p=function(v){if(404===v.statusCode){var P=new o.MissingPDFException('Missing PDF "'.concat(g._url,'".'));return g._storedError=P,void g._headersCapability.reject(P)}g._headersCapability.resolve(),g._setReadableStream(v);var J=function(Y){return g._readableStream.headers[Y.toLowerCase()]},ie=(0,b.validateRangeRequestCapabilities)({getResponseHeader:J,isHttp:L.isHttp,rangeChunkSize:g._rangeChunkSize,disableRange:g._disableRange}),re=ie.suggestedLength;g._isRangeSupported=ie.allowRangeRequests,g._contentLength=re||g._contentLength,g._filename=(0,b.extractFilenameFromHeader)(J)};return(g=M.call(this,L))._request=null,g._request="http:"===g._url.protocol?l.request(D(g._url,L.httpHeaders),p):n.request(D(g._url,L.httpHeaders),p),g._request.on("error",function(d){g._storedError=d,g._headersCapability.reject(d)}),g._request.end(),g}return k}(x),q=function(Q){N(k,Q);var M=R(k);function k(L,g,p){var d;for(var v in T(this,k),(d=M.call(this,L))._httpHeaders={},L.httpHeaders){var P=L.httpHeaders[v];void 0!==P&&(d._httpHeaders[v]=P)}d._httpHeaders.Range="bytes=".concat(g,"-").concat(p-1);var J=function(ae){if(404!==ae.statusCode)d._setReadableStream(ae);else{var re=new o.MissingPDFException('Missing PDF "'.concat(d._url,'".'));d._storedError=re}};return d._request=null,d._request="http:"===d._url.protocol?l.request(D(d._url,d._httpHeaders),J):n.request(D(d._url,d._httpHeaders),J),d._request.on("error",function(ie){d._storedError=ie}),d._request.end(),d}return k}(S),te=function(Q){N(k,Q);var M=R(k);function k(L){var g;T(this,k),g=M.call(this,L);var p=decodeURIComponent(g._url.path);return u.test(g._url.href)&&(p=p.replace(/^\//,"")),c.lstat(p,function(d,v){if(d)return"ENOENT"===d.code&&(d=new o.MissingPDFException('Missing PDF "'.concat(p,'".'))),g._storedError=d,void g._headersCapability.reject(d);g._contentLength=v.size,g._setReadableStream(c.createReadStream(p)),g._headersCapability.resolve()}),g}return k}(x),j=function(Q){N(k,Q);var M=R(k);function k(L,g,p){var d;T(this,k),d=M.call(this,L);var v=decodeURIComponent(d._url.path);return u.test(d._url.href)&&(v=v.replace(/^\//,"")),d._setReadableStream(c.createReadStream(v,{start:g,end:p-1})),d}return k}(S)},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.createResponseStatusError=function(O,R){return 404===O||0===O&&R.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+R+'".'):new r.UnexpectedResponseException("Unexpected server response ("+O+') while retrieving PDF "'+R+'".',O)},A.extractFilenameFromHeader=function(O){var R=O("Content-Disposition");if(R){var W=(0,o.getFilenameFromContentDispositionHeader)(R);if(W.includes("%"))try{W=decodeURIComponent(W)}catch(e){}if(/\.pdf$/i.test(W))return W}return null},A.validateRangeRequestCapabilities=function(O){var R=O.getResponseHeader,W=O.isHttp,e=O.rangeChunkSize,V=O.disableRange;(0,r.assert)(e>0,"Range chunk size must be larger than zero");var G={allowRangeRequests:!1,suggestedLength:void 0},Z=parseInt(R("Content-Length"),10);return!Number.isInteger(Z)||(G.suggestedLength=Z,Z<=2*e)||V||!W||"bytes"!==R("Accept-Ranges")||"identity"!==(R("Content-Encoding")||"identity")||(G.allowRangeRequests=!0),G},A.validateResponseStatus=function(O){return 200===O||206===O};var r=t(5),o=t(214)},function(F,A,t){"use strict";function r(R,W){return function(R){if(Array.isArray(R))return R}(R)||function(R,W){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(R)){var e=[],V=!0,G=!1,Z=void 0;try{for(var T,E=R[Symbol.iterator]();!(V=(T=E.next()).done)&&(e.push(T.value),!W||e.length!==W);V=!0);}catch(h){G=!0,Z=h}finally{try{!V&&null!=E.return&&E.return()}finally{if(G)throw Z}}return e}}(R,W)||function(R,W){if(R){if("string"==typeof R)return y(R,W);var e=Object.prototype.toString.call(R).slice(8,-1);if("Object"===e&&R.constructor&&(e=R.constructor.name),"Map"===e||"Set"===e)return Array.from(R);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(R,W)}}(R,W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(R,W){(null==W||W>R.length)&&(W=R.length);for(var e=0,V=new Array(W);e<W;e++)V[e]=R[e];return V}Object.defineProperty(A,"__esModule",{value:!0}),A.getFilenameFromContentDispositionHeader=function(R){var W=!0,e=E("filename\\*","i").exec(R);if(e){var V=c(e=e[1]);return h(V=n(V=l(V=unescape(V))))}if(e=function(i){for(var f,u=[],m=E("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(f=m.exec(i));){var S=r(f,4),D=S[1],H=S[2],q=S[3];if((D=parseInt(D,10))in u){if(0===D)break}else u[D]=[H,q]}for(var te=[],j=0;j<u.length&&j in u;++j){var Q=r(u[j],2),M=Q[0],k=Q[1];k=c(k),M&&(k=unescape(k),0===j&&(k=l(k))),te.push(k)}return te.join("")}(R))return h(n(e));if(e=E("filename","i").exec(R)){var Z=c(e=e[1]);return h(Z=n(Z))}function E(i,u){return new RegExp("(?:^|;)\\s*"+i+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function T(i,u){if(i){if(!/^[\x00-\xFF]+$/.test(u))return u;try{var f=new TextDecoder(i,{fatal:!0}),m=Array.from(u,function(x){return 255&x.charCodeAt(0)});u=f.decode(new Uint8Array(m)),W=!1}catch(x){if(/^utf-?8$/i.test(i))try{u=decodeURIComponent(escape(u)),W=!1}catch(S){}}}return u}function h(i){return W&&/[\x80-\xff]/.test(i)&&(i=T("utf-8",i),W&&(i=T("iso-8859-1",i))),i}function c(i){if(i.startsWith('"')){for(var u=i.slice(1).split('\\"'),f=0;f<u.length;++f){var m=u[f].indexOf('"');-1!==m&&(u[f]=u[f].slice(0,m),u.length=f+1),u[f]=u[f].replace(/\\(.)/g,"$1")}i=u.join('"')}return i}function l(i){var u=i.indexOf("'");return-1===u?i:T(i.slice(0,u),i.slice(u+1).replace(/^[^']*'/,""))}function n(i){return!i.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(i)?i:i.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,f,m,x){if("q"===m||"Q"===m)return T(f,x=(x=x.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(S,D){return String.fromCharCode(parseInt(D,16))}));try{x=atob(x)}catch(S){}return T(f,x)})}return""}},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PDFNetworkStream=void 0;var _,r=(_=t(2))&&_.__esModule?_:{default:_},o=t(5),b=t(213);function I(_,c,l,n,i,u,f){try{var m=_[u](f),x=m.value}catch(S){return void l(S)}m.done?c(x):Promise.resolve(x).then(n,i)}function N(_){return function(){var c=this,l=arguments;return new Promise(function(n,i){var u=_.apply(c,l);function f(x){I(u,n,i,f,m,"next",x)}function m(x){I(u,n,i,f,m,"throw",x)}f(void 0)})}}function O(_,c){if(!(_ instanceof c))throw new TypeError("Cannot call a class as a function")}function R(_,c){for(var l=0;l<c.length;l++){var n=c[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(_,n.key,n)}}function W(_,c,l){return c&&R(_.prototype,c),l&&R(_,l),_}var Z=function(){function _(c,l){O(this,_),this.url=c,l=l||{},this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&l.httpHeaders||{},this.withCredentials=l.withCredentials||!1,this.getXhr=l.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return W(_,[{key:"requestRange",value:function(l,n,i){var u={begin:l,end:n};for(var f in i)u[f]=i[f];return this.request(u)}},{key:"requestFull",value:function(l){return this.request(l)}},{key:"request",value:function(l){var n=this.getXhr(),i=this.currXhrId++,u=this.pendingRequests[i]={xhr:n};for(var f in n.open("GET",this.url),n.withCredentials=this.withCredentials,this.httpHeaders){var m=this.httpHeaders[f];void 0!==m&&n.setRequestHeader(f,m)}return this.isHttp&&"begin"in l&&"end"in l?(n.setRequestHeader("Range","bytes=".concat(l.begin,"-").concat(l.end-1)),u.expectedStatus=206):u.expectedStatus=200,n.responseType="arraybuffer",l.onError&&(n.onerror=function(x){l.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),u.onHeadersReceived=l.onHeadersReceived,u.onDone=l.onDone,u.onError=l.onError,u.onProgress=l.onProgress,n.send(null),i}},{key:"onProgress",value:function(l,n){var i=this.pendingRequests[l];!i||i.onProgress&&i.onProgress(n)}},{key:"onStateChange",value:function(l,n){var i=this.pendingRequests[l];if(i){var u=i.xhr;if(u.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),4===u.readyState&&l in this.pendingRequests){if(delete this.pendingRequests[l],0===u.status&&this.isHttp)return void(i.onError&&i.onError(u.status));var f=u.status||200;if((200!==f||206!==i.expectedStatus)&&f!==i.expectedStatus)return void(i.onError&&i.onError(u.status));var x=function(_){var c=_.response;return"string"!=typeof c?c:(0,o.stringToBytes)(c).buffer}(u);if(206===f){var S=u.getResponseHeader("Content-Range"),D=/bytes (\d+)-(\d+)\/(\d+)/.exec(S);i.onDone({begin:parseInt(D[1],10),chunk:x})}else x?i.onDone({begin:0,chunk:x}):i.onError&&i.onError(u.status)}}}},{key:"hasPendingRequests",value:function(){for(var l in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(l){return this.pendingRequests[l].xhr}},{key:"isPendingRequest",value:function(l){return l in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var l in this.pendingRequests)this.abortRequest(0|l)}},{key:"abortRequest",value:function(l){var n=this.pendingRequests[l].xhr;delete this.pendingRequests[l],n.abort()}}]),_}(),E=function(){function _(c){O(this,_),this._source=c,this._manager=new Z(c.url,{httpHeaders:c.httpHeaders,withCredentials:c.withCredentials}),this._rangeChunkSize=c.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return W(_,[{key:"_onRangeRequestReaderClosed",value:function(l){var n=this._rangeRequestReaders.indexOf(l);n>=0&&this._rangeRequestReaders.splice(n,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(l,n){var i=new h(this._manager,l,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}},{key:"cancelAllRequests",value:function(l){this._fullRequestReader&&this._fullRequestReader.cancel(l),this._rangeRequestReaders.slice(0).forEach(function(i){i.cancel(l)})}}]),_}();A.PDFNetworkStream=E;var T=function(){function _(c,l){O(this,_),this._manager=c;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._fullRequestId=c.requestFull(n),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._contentLength=l.length,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return W(_,[{key:"_onHeadersReceived",value:function(){var l=this._fullRequestId,n=this._manager.getRequestXhr(l),i=function(S){return n.getResponseHeader(S)},u=(0,b.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),m=u.suggestedLength;u.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=m||this._contentLength,this._filename=(0,b.extractFilenameFromHeader)(i),this._isRangeSupported&&this._manager.abortRequest(l),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(l){l&&(this._requests.length>0?this._requests.shift().resolve({value:l.chunk,done:!1}):this._cachedChunks.push(l.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(i){i.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(l){var i=(0,b.createResponseStatusError)(l,this._url);this._storedError=i,this._headersReceivedCapability.reject(i),this._requests.forEach(function(u){u.reject(i)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(l){this.onProgress&&this.onProgress({loaded:l.loaded,total:l.lengthComputable?l.total:this._contentLength})}},{key:"read",value:(c=N(r.default.mark(function n(){var i,u;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!this._storedError){m.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){m.next=5;break}return i=this._cachedChunks.shift(),m.abrupt("return",{value:i,done:!1});case 5:if(!this._done){m.next=7;break}return m.abrupt("return",{value:void 0,done:!0});case 7:return u=(0,o.createPromiseCapability)(),this._requests.push(u),m.abrupt("return",u.promise);case 10:case"end":return m.stop()}},n,this)})),function(){return c.apply(this,arguments)})},{key:"cancel",value:function(l){this._done=!0,this._headersReceivedCapability.reject(l),this._requests.forEach(function(n){n.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),_;var c}(),h=function(){function _(c,l,n){O(this,_),this._manager=c;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=c.requestRange(l,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return W(_,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(l){var n=l.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0,this._requests.forEach(function(u){u.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(l){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:l.loaded})}},{key:"read",value:(c=N(r.default.mark(function n(){var i,u;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(null===this._queuedChunk){m.next=4;break}return i=this._queuedChunk,this._queuedChunk=null,m.abrupt("return",{value:i,done:!1});case 4:if(!this._done){m.next=6;break}return m.abrupt("return",{value:void 0,done:!0});case 6:return u=(0,o.createPromiseCapability)(),this._requests.push(u),m.abrupt("return",u.promise);case 9:case"end":return m.stop()}},n,this)})),function(){return c.apply(this,arguments)})},{key:"cancel",value:function(l){this._done=!0,this._requests.forEach(function(n){n.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),_;var c}()},function(F,A,t){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PDFFetchStream=void 0;var T,r=(T=t(2))&&T.__esModule?T:{default:T},o=t(5),b=t(213);function I(T,h,_,c,l,n,i){try{var u=T[n](i),f=u.value}catch(m){return void _(m)}u.done?h(f):Promise.resolve(f).then(c,l)}function N(T){return function(){var h=this,_=arguments;return new Promise(function(c,l){var n=T.apply(h,_);function i(f){I(n,c,l,i,u,"next",f)}function u(f){I(n,c,l,i,u,"throw",f)}i(void 0)})}}function O(T,h){if(!(T instanceof h))throw new TypeError("Cannot call a class as a function")}function R(T,h){for(var _=0;_<h.length;_++){var c=h[_];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(T,c.key,c)}}function W(T,h,_){return h&&R(T.prototype,h),_&&R(T,_),T}function e(T,h,_){return{method:"GET",headers:T,signal:_&&_.signal,mode:"cors",credentials:h?"include":"same-origin",redirect:"follow"}}function V(T){var h=new Headers;for(var _ in T){var c=T[_];void 0!==c&&h.append(_,c)}return h}var G=function(){function T(h){O(this,T),this.source=h,this.isHttp=/^https?:/i.test(h.url),this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return W(T,[{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Z(this),this._fullRequestReader}},{key:"getRangeReader",value:function(_,c){if(c<=this._progressiveDataLength)return null;var l=new E(this,_,c);return this._rangeRequestReaders.push(l),l}},{key:"cancelAllRequests",value:function(_){this._fullRequestReader&&this._fullRequestReader.cancel(_),this._rangeRequestReaders.slice(0).forEach(function(l){l.cancel(_)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),T}();A.PDFFetchStream=G;var Z=function(){function T(h){var _=this;O(this,T),this._stream=h,this._reader=null,this._loaded=0,this._filename=null;var c=h.source;this._withCredentials=c.withCredentials||!1,this._contentLength=c.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=c.disableRange||!1,this._rangeChunkSize=c.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._headers=V(this._stream.httpHeaders);var l=c.url;fetch(l,e(this._headers,this._withCredentials,this._abortController)).then(function(n){if(!(0,b.validateResponseStatus)(n.status))throw(0,b.createResponseStatusError)(n.status,l);_._reader=n.body.getReader(),_._headersCapability.resolve();var i=function(S){return n.headers.get(S)},u=(0,b.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:_._stream.isHttp,rangeChunkSize:_._rangeChunkSize,disableRange:_._disableRange}),m=u.suggestedLength;_._isRangeSupported=u.allowRangeRequests,_._contentLength=m||_._contentLength,_._filename=(0,b.extractFilenameFromHeader)(i),!_._isStreamingSupported&&_._isRangeSupported&&_.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return W(T,[{key:"read",value:(h=N(r.default.mark(function c(){var l,n,i,u;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._headersCapability.promise;case 2:return m.next=4,this._reader.read();case 4:if(n=(l=m.sent).value,!(i=l.done)){m.next=9;break}return m.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),u=new Uint8Array(n).buffer,m.abrupt("return",{value:u,done:!1});case 13:case"end":return m.stop()}},c,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(_){this._reader&&this._reader.cancel(_),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),T;var h}(),E=function(){function T(h,_,c){var l=this;O(this,T),this._stream=h,this._reader=null,this._loaded=0;var n=h.source;this._withCredentials=n.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!n.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=V(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(_,"-").concat(c-1));var i=n.url;fetch(i,e(this._headers,this._withCredentials,this._abortController)).then(function(u){if(!(0,b.validateResponseStatus)(u.status))throw(0,b.createResponseStatusError)(u.status,i);l._readCapability.resolve(),l._reader=u.body.getReader()}),this.onProgress=null}return W(T,[{key:"read",value:(h=N(r.default.mark(function c(){var l,n,i,u;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,this._readCapability.promise;case 2:return m.next=4,this._reader.read();case 4:if(n=(l=m.sent).value,!(i=l.done)){m.next=9;break}return m.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),u=new Uint8Array(n).buffer,m.abrupt("return",{value:u,done:!1});case 13:case"end":return m.stop()}},c,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(_){this._reader&&this._reader.cancel(_),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),T;var h}()}])},module.exports=t()},88265:function(F,A,t){F.exports=function(r){var o={};function b(y){if(o[y])return o[y].exports;var I=o[y]={i:y,l:!1,exports:{}};return r[y].call(I.exports,I,I.exports,b),I.l=!0,I.exports}return b.m=r,b.c=o,b.d=function(y,I,N){b.o(y,I)||Object.defineProperty(y,I,{enumerable:!0,get:N})},b.r=function(y){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},b.t=function(y,I){if(1&I&&(y=b(y)),8&I||4&I&&"object"==typeof y&&y&&y.__esModule)return y;var N=Object.create(null);if(b.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:y}),2&I&&"string"!=typeof y)for(var O in y)b.d(N,O,function(R){return y[R]}.bind(null,O));return N},b.n=function(y){var I=y&&y.__esModule?function(){return y.default}:function(){return y};return b.d(I,"a",I),I},b.o=function(y,I){return Object.prototype.hasOwnProperty.call(y,I)},b.p="",b(b.s=0)}([function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return y.AnnotationLayerBuilder}}),Object.defineProperty(o,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return y.DefaultAnnotationLayerFactory}}),Object.defineProperty(o,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return I.DefaultTextLayerFactory}}),Object.defineProperty(o,"TextLayerBuilder",{enumerable:!0,get:function(){return I.TextLayerBuilder}}),Object.defineProperty(o,"EventBus",{enumerable:!0,get:function(){return N.EventBus}}),Object.defineProperty(o,"NullL10n",{enumerable:!0,get:function(){return N.NullL10n}}),Object.defineProperty(o,"ProgressBar",{enumerable:!0,get:function(){return N.ProgressBar}}),Object.defineProperty(o,"PDFLinkService",{enumerable:!0,get:function(){return O.PDFLinkService}}),Object.defineProperty(o,"SimpleLinkService",{enumerable:!0,get:function(){return O.SimpleLinkService}}),Object.defineProperty(o,"DownloadManager",{enumerable:!0,get:function(){return R.DownloadManager}}),Object.defineProperty(o,"GenericL10n",{enumerable:!0,get:function(){return W.GenericL10n}}),Object.defineProperty(o,"PDFFindController",{enumerable:!0,get:function(){return e.PDFFindController}}),Object.defineProperty(o,"PDFHistory",{enumerable:!0,get:function(){return V.PDFHistory}}),Object.defineProperty(o,"PDFPageView",{enumerable:!0,get:function(){return G.PDFPageView}}),Object.defineProperty(o,"PDFSinglePageViewer",{enumerable:!0,get:function(){return Z.PDFSinglePageViewer}}),Object.defineProperty(o,"PDFViewer",{enumerable:!0,get:function(){return E.PDFViewer}});var y=b(1),I=b(8),N=b(3),O=b(7),R=b(9),W=b(11),e=b(13),V=b(15),G=b(16),Z=b(18),E=b(20)},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultAnnotationLayerFactory=o.AnnotationLayerBuilder=void 0;var y=b(2),I=b(3),N=b(7);function O(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function R(G,Z){for(var E=0;E<Z.length;E++){var T=Z[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(G,T.key,T)}}function W(G,Z,E){return Z&&R(G.prototype,Z),E&&R(G,E),G}var e=function(){function G(Z){var E=Z.pageDiv,T=Z.pdfPage,h=Z.linkService,_=Z.downloadManager,c=Z.imageResourcesPath,l=void 0===c?"":c,n=Z.renderInteractiveForms,i=void 0!==n&&n,u=Z.l10n,f=void 0===u?I.NullL10n:u;O(this,G),this.pageDiv=E,this.pdfPage=T,this.linkService=h,this.downloadManager=_,this.imageResourcesPath=l,this.renderInteractiveForms=i,this.l10n=f,this.div=null,this._cancelled=!1}return W(G,[{key:"render",value:function(E){var T=this;this.pdfPage.getAnnotations({intent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(_){if(!T._cancelled){var c={viewport:E.clone({dontFlip:!0}),div:T.div,annotations:_,page:T.pdfPage,imageResourcesPath:T.imageResourcesPath,renderInteractiveForms:T.renderInteractiveForms,linkService:T.linkService,downloadManager:T.downloadManager};if(T.div)y.AnnotationLayer.update(c);else{if(0===_.length)return;T.div=document.createElement("div"),T.div.className="annotationLayer",T.pageDiv.appendChild(T.div),c.div=T.div,y.AnnotationLayer.render(c),T.l10n.translate(T.div)}}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||this.div.setAttribute("hidden","true")}}]),G}();o.AnnotationLayerBuilder=e;var V=function(){function G(){O(this,G)}return W(G,[{key:"createAnnotationLayerBuilder",value:function(E,T){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I.NullL10n;return new e({pageDiv:E,pdfPage:T,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:new N.SimpleLinkService,l10n:c})}}]),G}();o.DefaultAnnotationLayerFactory=V},function(r,o,b){"use strict";var y;y="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:t(66890),r.exports=y},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isValidRotation=function(he){return Number.isInteger(he)&&he%90==0},o.isValidScrollMode=function(he){return Number.isInteger(he)&&Object.values(te).includes(he)&&he!==te.UNKNOWN},o.isValidSpreadMode=function(he){return Number.isInteger(he)&&Object.values(j).includes(he)&&he!==j.UNKNOWN},o.isPortraitOrientation=function(he){return he.width<=he.height},o.clamp=Xe,o.getPDFFileNameFromURL=function(he){var ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof he)return ye;if(Y(he))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),ye;var ue=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,pe=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(he),Se=ue.exec(pe[1])||ue.exec(pe[2])||ue.exec(pe[3]);if(Se&&(Se=Se[0]).includes("%"))try{Se=ue.exec(decodeURIComponent(Se))[0]}catch(Ie){}return Se||ye},o.noContextMenuHandler=function(he){he.preventDefault()},o.parseQueryString=function(he){for(var ye=he.split("&"),ve=Object.create(null),ue=0,pe=ye.length;ue<pe;++ue){var Se=ye[ue].split("="),Ie=Se[0].toLowerCase(),Re=Se.length>1?Se[1]:null;ve[decodeURIComponent(Ie)]=decodeURIComponent(Re)}return ve},o.backtrackBeforeAllVisibleElements=ae,o.getVisibleElements=function(he,ye){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ue=arguments.length>3&&void 0!==arguments[3]&&arguments[3],pe=he.scrollTop,Se=pe+he.clientHeight,Ie=he.scrollLeft,Re=Ie+he.clientWidth;function ke(gt){var pt=gt.div;return pt.offsetTop+pt.clientTop+pt.clientHeight>pe}function Fe(gt){var pt=gt.div;return pt.offsetLeft+pt.clientLeft+pt.clientWidth>Ie}var Ne=[],Ge=ye.length,$e=0===Ge?0:v(ye,ue?Fe:ke);$e>0&&$e<Ge&&!ue&&($e=ae($e,ye,pe));for(var it=ue?Re:-1,at=$e;at<Ge;at++){var me=ye[at],we=me.div,fe=we.offsetLeft+we.clientLeft,be=we.offsetTop+we.clientTop,Ze=we.clientWidth,je=we.clientHeight,nt=fe+Ze,tt=be+je;if(-1===it)tt>=Se&&(it=tt);else if((ue?fe:be)>it)break;if(!(tt<=pe||be>=Se||nt<=Ie||fe>=Re)){var st=Math.max(0,pe-be)+Math.max(0,tt-Se),_t=Math.max(0,Ie-fe)+Math.max(0,nt-Re);Ne.push({id:me.id,x:fe,y:be,view:me,percent:(je-st)*(Ze-_t)*100/je/Ze|0})}}var Tt=Ne[0],At=Ne[Ne.length-1];return ve&&Ne.sort(function(gt,pt){var Je=gt.percent-pt.percent;return Math.abs(Je)>.001?-Je:gt.id-pt.id}),{first:Tt,last:At,views:Ne}},o.roundToDivide=function(he,ye){var ve=he%ye;return 0===ve?he:Math.round(he-ve+ye)},o.getPageSizeInches=function(he){var ve=he.userUnit,ue=he.rotate,pe=function(he,ye){return function(he){if(Array.isArray(he))return he}(he)||function(he,ye){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(he)){var ve=[],ue=!0,pe=!1,Se=void 0;try{for(var Re,Ie=he[Symbol.iterator]();!(ue=(Re=Ie.next()).done)&&(ve.push(Re.value),!ye||ve.length!==ye);ue=!0);}catch(ke){pe=!0,Se=ke}finally{try{!ue&&null!=Ie.return&&Ie.return()}finally{if(pe)throw Se}}return ve}}(he,ye)||function(he,ye){if(he){if("string"==typeof he)return Z(he,ye);var ve=Object.prototype.toString.call(he).slice(8,-1);if("Object"===ve&&he.constructor&&(ve=he.constructor.name),"Map"===ve||"Set"===ve)return Array.from(he);if("Arguments"===ve||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return Z(he,ye)}}(he,ye)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(he.view,4),Fe=ue%180!=0,Ne=(pe[2]-pe[0])/72*ve,Ge=(pe[3]-pe[1])/72*ve;return{width:Fe?Ge:Ne,height:Fe?Ne:Ge}},o.approximateFraction=function(he){if(Math.floor(he)===he)return[he,1];var ye=1/he;if(ye>8)return[1,8];if(Math.floor(ye)===ye)return[1,ye];for(var ue=he>1?ye:he,pe=0,Se=1,Ie=1,Re=1;;){var ke=pe+Ie,Fe=Se+Re;if(Fe>8)break;ue<=ke/Fe?(Ie=ke,Re=Fe):(pe=ke,Se=Fe)}return ue-pe/Se<Ie/Re-ue?ue===he?[pe,Se]:[Se,pe]:ue===he?[Ie,Re]:[Re,Ie]},o.getOutputScale=function(he){var ue=(window.devicePixelRatio||1)/(he.webkitBackingStorePixelRatio||he.mozBackingStorePixelRatio||he.msBackingStorePixelRatio||he.oBackingStorePixelRatio||he.backingStorePixelRatio||1);return{sx:ue,sy:ue,scaled:1!==ue}},o.scrollIntoView=function(he,ye){var ve=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ue=he.offsetParent;if(ue){for(var pe=he.offsetTop+he.clientTop,Se=he.offsetLeft+he.clientLeft;ue.clientHeight===ue.scrollHeight&&ue.clientWidth===ue.scrollWidth||ve&&"hidden"===getComputedStyle(ue).overflow;)if(ue.dataset._scaleY&&(pe/=ue.dataset._scaleY,Se/=ue.dataset._scaleX),pe+=ue.offsetTop,Se+=ue.offsetLeft,!(ue=ue.offsetParent))return;ye&&(void 0!==ye.top&&(pe+=ye.top),void 0!==ye.left&&(ue.scrollLeft=Se+=ye.left)),ue.scrollTop=pe}else console.error("offsetParent is not set -- cannot scroll")},o.watchScroll=function(he,ye){var ve=function(Ie){pe||(pe=window.requestAnimationFrame(function(){pe=null;var ke=he.scrollLeft,Fe=ue.lastX;ke!==Fe&&(ue.right=ke>Fe),ue.lastX=ke;var Ne=he.scrollTop,Ge=ue.lastY;Ne!==Ge&&(ue.down=Ne>Ge),ue.lastY=Ne,ye(ue)}))},ue={right:!0,down:!0,lastX:he.scrollLeft,lastY:he.scrollTop,_eventHandler:ve},pe=null;return he.addEventListener("scroll",ve,!0),ue},o.binarySearchFirstItem=v,o.normalizeWheelEventDelta=function(he){var ye=Math.sqrt(he.deltaX*he.deltaX+he.deltaY*he.deltaY),ve=Math.atan2(he.deltaY,he.deltaX);-.25*Math.PI<ve&&ve<.75*Math.PI&&(ye=-ye);return 0===he.deltaMode?ye/=900:1===he.deltaMode&&(ye/=30),ye},o.waitOnEventOrTimeout=function(he){var ye=he.target,ve=he.name,ue=he.delay,pe=void 0===ue?0:ue;return new Promise(function(Se,Ie){if("object"!==W(ye)||!ve||"string"!=typeof ve||!(Number.isInteger(pe)&&pe>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Re(Ge){ye instanceof Be?ye._off(ve,ke):ye.removeEventListener(ve,ke),Ne&&clearTimeout(Ne),Se(Ge)}var ke=Re.bind(null,Ae.EVENT);ye instanceof Be?ye._on(ve,ke):ye.addEventListener(ve,ke);var Fe=Re.bind(null,Ae.TIMEOUT),Ne=setTimeout(Fe,pe)})},o.moveToEndOfArray=function(he,ye){for(var ve=[],ue=he.length,pe=0,Se=0;Se<ue;++Se)ye(he[Se])?ve.push(he[Se]):(he[pe]=he[Se],++pe);for(var Ie=0;pe<ue;++Ie,++pe)he[pe]=ve[Ie]},o.WaitOnType=o.animationStarted=o.ProgressBar=o.EventBus=o.NullL10n=o.SpreadMode=o.ScrollMode=o.TextLayerMode=o.RendererType=o.PresentationModeState=o.VERTICAL_PADDING=o.SCROLLBAR_PADDING=o.MAX_AUTO_SCALE=o.UNKNOWN_SCALE=o.MAX_SCALE=o.MIN_SCALE=o.DEFAULT_SCALE=o.DEFAULT_SCALE_VALUE=o.CSS_UNITS=o.AutoPrintRegExp=void 0;var he,y=(he=b(4))&&he.__esModule?he:{default:he};function N(he,ye){if(!(he instanceof ye))throw new TypeError("Cannot call a class as a function")}function O(he,ye){for(var ve=0;ve<ye.length;ve++){var ue=ye[ve];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(he,ue.key,ue)}}function R(he,ye,ve){return ye&&O(he.prototype,ye),ve&&O(he,ve),he}function W(he){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(he)}function Z(he,ye){(null==ye||ye>he.length)&&(ye=he.length);for(var ve=0,ue=new Array(ye);ve<ye;ve++)ue[ve]=he[ve];return ue}function h(he,ye,ve,ue,pe,Se,Ie){try{var Re=he[Se](Ie),ke=Re.value}catch(Fe){return void ve(Fe)}Re.done?ye(ke):Promise.resolve(ke).then(ue,pe)}function _(he){return function(){var ye=this,ve=arguments;return new Promise(function(ue,pe){var Se=he.apply(ye,ve);function Ie(ke){h(Se,ue,pe,Ie,Re,"next",ke)}function Re(ke){h(Se,ue,pe,Ie,Re,"throw",ke)}Ie(void 0)})}}o.CSS_UNITS=96/72,o.DEFAULT_SCALE_VALUE="auto",o.DEFAULT_SCALE=1,o.MIN_SCALE=.1,o.MAX_SCALE=10,o.UNKNOWN_SCALE=0,o.MAX_AUTO_SCALE=1.25,o.SCROLLBAR_PADDING=40,o.VERTICAL_PADDING=5,o.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},o.RendererType={CANVAS:"canvas",SVG:"svg"},o.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var te={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};o.ScrollMode=te;var j={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function M(he,ye){return ye?he.replace(/\{\{\s*(\w+)\s*\}\}/g,function(ve,ue){return ue in ye?ye[ue]:"{{"+ue+"}}"}):he}function v(he,ye){var ve=0,ue=he.length-1;if(ue<0||!ye(he[ue]))return he.length;if(ye(he[ve]))return ve;for(;ve<ue;){var pe=ve+ue>>1;ye(he[pe])?ue=pe:ve=pe+1}return ve}function ae(he,ye,ve){if(he<2)return he;var ue=ye[he].div,pe=ue.offsetTop+ue.clientTop;pe>=ve&&(pe=(ue=ye[he-1].div).offsetTop+ue.clientTop);for(var Se=he-2;Se>=0&&!((ue=ye[Se].div).offsetTop+ue.clientTop+ue.clientHeight<=pe);--Se)he=Se;return he}function Y(he){for(var ye=0,ve=he.length;ye<ve&&""===he[ye].trim();)ye++;return"data:"===he.substring(ye,ye+5).toLowerCase()}o.SpreadMode=j,o.AutoPrintRegExp=/\bprint\s*\(/,o.NullL10n={getLanguage:function(){return _(y.default.mark(function ye(){return y.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.abrupt("return","en-us");case 1:case"end":return ue.stop()}},ye)}))()},getDirection:function(){return _(y.default.mark(function ye(){return y.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.abrupt("return","ltr");case 1:case"end":return ue.stop()}},ye)}))()},get:function(ye,ve,ue){return _(y.default.mark(function pe(){return y.default.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.abrupt("return",M(ue,ve));case 1:case"end":return Ie.stop()}},pe)}))()},translate:function(ye){return _(y.default.mark(function ve(){return y.default.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:case"end":return pe.stop()}},ve)}))()}};var Ae={EVENT:"event",TIMEOUT:"timeout"};o.WaitOnType=Ae;var Pe=new Promise(function(he){window.requestAnimationFrame(he)});o.animationStarted=Pe;var Be=function(){function he(ye){N(this,he),this._listeners=Object.create(null)}return R(he,[{key:"on",value:function(ve,ue){this._on(ve,ue,{external:!0})}},{key:"off",value:function(ve,ue){this._off(ve,ue,{external:!0})}},{key:"dispatch",value:function(ve){var ue=this._listeners[ve];if(ue&&0!==ue.length){var Se,pe=Array.prototype.slice.call(arguments,1);ue.slice(0).forEach(function(Ie){var Re=Ie.listener;if(Ie.external)return Se||(Se=[]),void Se.push(Re);Re.apply(null,pe)}),Se&&(Se.forEach(function(Ie){Ie.apply(null,pe)}),Se=null)}}},{key:"_on",value:function(ve,ue){var pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Se=this._listeners[ve];Se||(this._listeners[ve]=Se=[]),Se.push({listener:ue,external:!0===(pe&&pe.external)})}},{key:"_off",value:function(ve,ue){var Se=this._listeners[ve];if(Se)for(var Ie=0,Re=Se.length;Ie<Re;Ie++)if(Se[Ie].listener===ue)return void Se.splice(Ie,1)}}]),he}();function Xe(he,ye,ve){return Math.min(Math.max(he,ye),ve)}o.EventBus=Be;var et=function(){function he(ye){var ve=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ue=ve.height,pe=ve.width,Se=ve.units;N(this,he),this.visible=!0,this.div=document.querySelector(ye+" .progress"),this.bar=this.div.parentNode,this.height=ue||100,this.width=pe||100,this.units=Se||"%",this.div.style.height=this.height+this.units,this.percent=0}return R(he,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(ve){if(ve){var pe=ve.parentNode.offsetWidth-ve.offsetWidth;pe>0&&(this.bar.style.width="calc(100% - ".concat(pe,"px)"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(ve){this._indeterminate=isNaN(ve),this._percent=Xe(ve,0,100),this._updateBar()}}]),he}();o.ProgressBar=et},function(r,o,b){"use strict";r.exports=b(5)},function(r,o,b){"use strict";(function(y){function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(W){return typeof W}:function(W){return W&&"function"==typeof Symbol&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(O)}var N=function(O){var e,R=Object.prototype,W=R.hasOwnProperty,V="function"==typeof Symbol?Symbol:{},G=V.iterator||"@@iterator",Z=V.asyncIterator||"@@asyncIterator",E=V.toStringTag||"@@toStringTag";function T(d,v,P,J){var ae=Object.create((v&&v.prototype instanceof u?v:u).prototype),re=new L(J||[]);return ae._invoke=function(d,v,P){var J=_;return function(ae,re){if(J===l)throw new Error("Generator is already running");if(J===n){if("throw"===ae)throw re;return p()}for(P.method=ae,P.arg=re;;){var se=P.delegate;if(se){var Y=Q(se,P);if(Y){if(Y===i)continue;return Y}}if("next"===P.method)P.sent=P._sent=P.arg;else if("throw"===P.method){if(J===_)throw J=n,P.arg;P.dispatchException(P.arg)}else"return"===P.method&&P.abrupt("return",P.arg);J=l;var $=h(d,v,P);if("normal"===$.type){if(J=P.done?n:c,$.arg===i)continue;return{value:$.arg,done:P.done}}"throw"===$.type&&(J=n,P.method="throw",P.arg=$.arg)}}}(d,P,re),ae}function h(d,v,P){try{return{type:"normal",arg:d.call(v,P)}}catch(J){return{type:"throw",arg:J}}}O.wrap=T;var _="suspendedStart",c="suspendedYield",l="executing",n="completed",i={};function u(){}function f(){}function m(){}var x={};x[G]=function(){return this};var S=Object.getPrototypeOf,D=S&&S(S(g([])));D&&D!==R&&W.call(D,G)&&(x=D);var H=m.prototype=u.prototype=Object.create(x);function q(d){["next","throw","return"].forEach(function(v){d[v]=function(P){return this._invoke(v,P)}})}function te(d,v){function P(ae,re,se,Y){var $=h(d[ae],d,re);if("throw"!==$.type){var U=$.arg,X=U.value;return X&&"object"===I(X)&&W.call(X,"__await")?v.resolve(X.__await).then(function(ee){P("next",ee,se,Y)},function(ee){P("throw",ee,se,Y)}):v.resolve(X).then(function(ee){U.value=ee,se(U)},function(ee){return P("throw",ee,se,Y)})}Y($.arg)}var J;this._invoke=function(ae,re){function se(){return new v(function(Y,$){P(ae,re,Y,$)})}return J=J?J.then(se,se):se()}}function Q(d,v){var P=d.iterator[v.method];if(P===e){if(v.delegate=null,"throw"===v.method){if(d.iterator.return&&(v.method="return",v.arg=e,Q(d,v),"throw"===v.method))return i;v.method="throw",v.arg=new TypeError("The iterator does not provide a 'throw' method")}return i}var J=h(P,d.iterator,v.arg);if("throw"===J.type)return v.method="throw",v.arg=J.arg,v.delegate=null,i;var ie=J.arg;return ie?ie.done?(v[d.resultName]=ie.value,v.next=d.nextLoc,"return"!==v.method&&(v.method="next",v.arg=e),v.delegate=null,i):ie:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,i)}function M(d){var v={tryLoc:d[0]};1 in d&&(v.catchLoc=d[1]),2 in d&&(v.finallyLoc=d[2],v.afterLoc=d[3]),this.tryEntries.push(v)}function k(d){var v=d.completion||{};v.type="normal",delete v.arg,d.completion=v}function L(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(M,this),this.reset(!0)}function g(d){if(d){var v=d[G];if(v)return v.call(d);if("function"==typeof d.next)return d;if(!isNaN(d.length)){var P=-1,J=function ie(){for(;++P<d.length;)if(W.call(d,P))return ie.value=d[P],ie.done=!1,ie;return ie.value=e,ie.done=!0,ie};return J.next=J}}return{next:p}}function p(){return{value:e,done:!0}}return f.prototype=H.constructor=m,m.constructor=f,m[E]=f.displayName="GeneratorFunction",O.isGeneratorFunction=function(d){var v="function"==typeof d&&d.constructor;return!!v&&(v===f||"GeneratorFunction"===(v.displayName||v.name))},O.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,m):(d.__proto__=m,E in d||(d[E]="GeneratorFunction")),d.prototype=Object.create(H),d},O.awrap=function(d){return{__await:d}},q(te.prototype),te.prototype[Z]=function(){return this},O.AsyncIterator=te,O.async=function(d,v,P,J,ie){void 0===ie&&(ie=Promise);var ae=new te(T(d,v,P,J),ie);return O.isGeneratorFunction(v)?ae:ae.next().then(function(re){return re.done?re.value:ae.next()})},q(H),H[E]="Generator",H[G]=function(){return this},H.toString=function(){return"[object Generator]"},O.keys=function(d){var v=[];for(var P in d)v.push(P);return v.reverse(),function J(){for(;v.length;){var ie=v.pop();if(ie in d)return J.value=ie,J.done=!1,J}return J.done=!0,J}},O.values=g,L.prototype={constructor:L,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!v)for(var P in this)"t"===P.charAt(0)&&W.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=e)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if("throw"===P.type)throw P.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var P=this;function J($,U){return re.type="throw",re.arg=v,P.next=$,U&&(P.method="next",P.arg=e),!!U}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ae=this.tryEntries[ie],re=ae.completion;if("root"===ae.tryLoc)return J("end");if(ae.tryLoc<=this.prev){var se=W.call(ae,"catchLoc"),Y=W.call(ae,"finallyLoc");if(se&&Y){if(this.prev<ae.catchLoc)return J(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return J(ae.finallyLoc)}else if(se){if(this.prev<ae.catchLoc)return J(ae.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return J(ae.finallyLoc)}}}},abrupt:function(v,P){for(var J=this.tryEntries.length-1;J>=0;--J){var ie=this.tryEntries[J];if(ie.tryLoc<=this.prev&&W.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ae=ie;break}}ae&&("break"===v||"continue"===v)&&ae.tryLoc<=P&&P<=ae.finallyLoc&&(ae=null);var re=ae?ae.completion:{};return re.type=v,re.arg=P,ae?(this.method="next",this.next=ae.finallyLoc,i):this.complete(re)},complete:function(v,P){if("throw"===v.type)throw v.arg;return"break"===v.type||"continue"===v.type?this.next=v.arg:"return"===v.type?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):"normal"===v.type&&P&&(this.next=P),i},finish:function(v){for(var P=this.tryEntries.length-1;P>=0;--P){var J=this.tryEntries[P];if(J.finallyLoc===v)return this.complete(J.completion,J.afterLoc),k(J),i}},catch:function(v){for(var P=this.tryEntries.length-1;P>=0;--P){var J=this.tryEntries[P];if(J.tryLoc===v){var ie=J.completion;if("throw"===ie.type){var ae=ie.arg;k(J)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(v,P,J){return this.delegate={iterator:g(v),resultName:P,nextLoc:J},"next"===this.method&&(this.arg=e),i}},O}("object"===I(y)?y.exports:{});try{regeneratorRuntime=N}catch(O){Function("r","regeneratorRuntime = r")(N)}}).call(this,b(6)(r))},function(r,o,b){"use strict";r.exports=function(y){return y.webpackPolyfill||(y.deprecate=function(){},y.paths=[],y.children||(y.children=[]),Object.defineProperty(y,"loaded",{enumerable:!0,get:function(){return y.l}}),Object.defineProperty(y,"id",{enumerable:!0,get:function(){return y.i}}),y.webpackPolyfill=1),y}},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleLinkService=o.PDFLinkService=void 0;var y=b(3);function I(G){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(G)}function N(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function O(G,Z){for(var E=0;E<Z.length;E++){var T=Z[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(G,T.key,T)}}function R(G,Z,E){return Z&&O(G.prototype,Z),E&&O(G,E),G}var W=function(){function G(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=Z.eventBus,T=Z.externalLinkTarget,h=void 0===T?null:T,_=Z.externalLinkRel,c=void 0===_?null:_,l=Z.externalLinkEnabled,n=void 0===l||l,i=Z.ignoreDestinationZoom,u=void 0!==i&&i;N(this,G),this.eventBus=E,this.externalLinkTarget=h,this.externalLinkRel=c,this.externalLinkEnabled=n,this._ignoreDestinationZoom=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return R(G,[{key:"setDocument",value:function(E){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=E,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(E){this.pdfViewer=E}},{key:"setHistory",value:function(E){this.pdfHistory=E}},{key:"navigateTo",value:function(E){var T=this,h=function _(c){var u,l=c.namedDest,n=c.explicitDest,i=n[0];if(i instanceof Object){if(null===(u=T._cachedPageNumber(i)))return void T.pdfDocument.getPageIndex(i).then(function(f){T.cachePageRef(f+1,i),_({namedDest:l,explicitDest:n})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid page reference, for dest="'.concat(E,'".'))})}else{if(!Number.isInteger(i))return void console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid destination reference, for dest="'.concat(E,'".'));u=i+1}!u||u<1||u>T.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(u,'" is not ')+'a valid page number, for dest="'.concat(E,'".')):(T.pdfHistory&&(T.pdfHistory.pushCurrentPosition(),T.pdfHistory.push({namedDest:l,explicitDest:n,pageNumber:u})),T.pdfViewer.scrollPageIntoView({pageNumber:u,destArray:n,ignoreDestinationZoom:T._ignoreDestinationZoom}))};new Promise(function(_,c){"string"!=typeof E?_({namedDest:"",explicitDest:E}):T.pdfDocument.getDestination(E).then(function(l){_({namedDest:E,explicitDest:l})})}).then(function(_){Array.isArray(_.explicitDest)?h(_):console.error('PDFLinkService.navigateTo: "'.concat(_.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(E,'".'))})}},{key:"getDestinationHash",value:function(E){if("string"==typeof E)return this.getAnchorUrl("#"+escape(E));if(Array.isArray(E)){var T=JSON.stringify(E);return this.getAnchorUrl("#"+escape(T))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(E){return(this.baseUrl||"")+E}},{key:"setHash",value:function(E){var T,h;if(E.includes("=")){var _=(0,y.parseQueryString)(E);if("search"in _&&this.eventBus.dispatch("findfromurlhash",{source:this,query:_.search.replace(/"/g,""),phraseSearch:"true"===_.phrase}),"page"in _&&(T=0|_.page||1),"zoom"in _){var c=_.zoom.split(","),l=c[0],n=parseFloat(l);l.includes("Fit")?"Fit"===l||"FitB"===l?h=[null,{name:l}]:"FitH"===l||"FitBH"===l||"FitV"===l||"FitBV"===l?h=[null,{name:l},c.length>1?0|c[1]:null]:"FitR"===l?5!==c.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):h=[null,{name:l},0|c[1],0|c[2],0|c[3],0|c[4]]:console.error('PDFLinkService.setHash: "'.concat(l,'" is not ')+"a valid zoom value."):h=[null,{name:"XYZ"},c.length>1?0|c[1]:null,c.length>2?0|c[2]:null,n?n/100:l]}h?this.pdfViewer.scrollPageIntoView({pageNumber:T||this.page,destArray:h,allowNegativeOffset:!0}):T&&(this.page=T),"pagemode"in _&&this.eventBus.dispatch("pagemode",{source:this,mode:_.pagemode}),"nameddest"in _&&this.navigateTo(_.nameddest)}else{h=unescape(E);try{h=JSON.parse(h),Array.isArray(h)||(h=h.toString())}catch(i){}if("string"==typeof h||function(G){if(!Array.isArray(G))return!1;var Z=G.length;if(Z<2)return!1;var E=G[0];if(!("object"===I(E)&&Number.isInteger(E.num)&&Number.isInteger(E.gen)||Number.isInteger(E)&&E>=0))return!1;var T=G[1];if("object"!==I(T)||"string"!=typeof T.name)return!1;var h=!0;switch(T.name){case"XYZ":if(5!==Z)return!1;break;case"Fit":case"FitB":return 2===Z;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==Z)return!1;break;case"FitR":if(6!==Z)return!1;h=!1;break;default:return!1}for(var _=2;_<Z;_++){var c=G[_];if(!("number"==typeof c||h&&null===c))return!1}return!0}(h))return void this.navigateTo(h);console.error('PDFLinkService.setHash: "'.concat(unescape(E),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(E){switch(E){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:E})}},{key:"cachePageRef",value:function(E,T){if(T){var h=0===T.gen?"".concat(T.num,"R"):"".concat(T.num,"R").concat(T.gen);this._pagesRefCache[h]=E}}},{key:"_cachedPageNumber",value:function(E){var T=0===E.gen?"".concat(E.num,"R"):"".concat(E.num,"R").concat(E.gen);return this._pagesRefCache&&this._pagesRefCache[T]||null}},{key:"isPageVisible",value:function(E){return this.pdfViewer.isPageVisible(E)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(E){this.pdfViewer.currentPageNumber=E}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(E){this.pdfViewer.pagesRotation=E}}]),G}();o.PDFLinkService=W,o.SimpleLinkService=function(){function G(){N(this,G),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return R(G,[{key:"navigateTo",value:function(E){}},{key:"getDestinationHash",value:function(E){return"#"}},{key:"getAnchorUrl",value:function(E){return"#"}},{key:"setHash",value:function(E){}},{key:"executeNamedAction",value:function(E){}},{key:"cachePageRef",value:function(E,T){}},{key:"isPageVisible",value:function(E){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(E){}},{key:"rotation",get:function(){return 0},set:function(E){}}]),G}()},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultTextLayerFactory=o.TextLayerBuilder=void 0;var y=b(2);function I(V,G){if(!(V instanceof G))throw new TypeError("Cannot call a class as a function")}function N(V,G){for(var Z=0;Z<G.length;Z++){var E=G[Z];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(V,E.key,E)}}function O(V,G,Z){return G&&N(V.prototype,G),Z&&N(V,Z),V}var W=function(){function V(G){var Z=G.textLayerDiv,E=G.eventBus,T=G.pageIndex,h=G.viewport,_=G.findController,c=void 0===_?null:_,l=G.enhanceTextSelection,n=void 0!==l&&l;I(this,V),this.textLayerDiv=Z,this.eventBus=E,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=T,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=h,this.textDivs=[],this.findController=c,this.textLayerRenderTask=null,this.enhanceTextSelection=n,this._onUpdateTextLayerMatches=null,this._bindMouse()}return O(V,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var Z=document.createElement("div");Z.className="endOfContent",this.textLayerDiv.appendChild(Z)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var Z=this,E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var T=document.createDocumentFragment();this.textLayerRenderTask=(0,y.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:T,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:E,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){Z.textLayerDiv.appendChild(T),Z._finishRendering(),Z._updateMatches()},function(h){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(h){(h.pageIndex===Z.pageIdx||-1===h.pageIndex)&&Z._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(Z){this.cancel(),this.textContentStream=Z}},{key:"setTextContent",value:function(Z){this.cancel(),this.textContent=Z}},{key:"_convertMatches",value:function(Z,E){if(!Z)return[];for(var h=this.textContentItemsStr,_=0,c=0,l=h.length-1,n=this.findController.state.query.length,i=[],u=0,f=Z.length;u<f;u++){for(var m=Z[u];_!==l&&m>=c+h[_].length;)c+=h[_].length,_++;_===h.length&&console.error("Could not find a matching mapping");var x={begin:{divIdx:_,offset:m-c}};for(m+=E?E[u]:n;_!==l&&m>c+h[_].length;)c+=h[_].length,_++;x.end={divIdx:_,offset:m-c},i.push(x)}return i}},{key:"_renderMatches",value:function(Z){if(0!==Z.length){var E=this.findController,T=this.pageIdx,h=this.textContentItemsStr,_=this.textDivs,c=T===E.selected.pageIdx,l=E.selected.matchIdx,i=null,u={divIdx:-1,offset:void 0},x=l,S=x+1;if(E.state.highlightAll)x=0,S=Z.length;else if(!c)return;for(var D=x;D<S;D++){var H=Z[D],q=H.begin,te=H.end,j=c&&D===l,Q=j?" selected":"";if(j&&E.scrollMatchIntoView({element:_[q.divIdx],pageIndex:T,matchIndex:l}),i&&q.divIdx===i.divIdx?m(i.divIdx,i.offset,q.offset):(null!==i&&m(i.divIdx,i.offset,u.offset),f(q)),q.divIdx===te.divIdx)m(q.divIdx,q.offset,te.offset,"highlight"+Q);else{m(q.divIdx,q.offset,u.offset,"highlight begin"+Q);for(var M=q.divIdx+1,k=te.divIdx;M<k;M++)_[M].className="highlight middle"+Q;f(te,"highlight end"+Q)}i=te}i&&m(i.divIdx,i.offset,u.offset)}function f(L,g){var p=L.divIdx;_[p].textContent="",m(p,0,L.offset,g)}function m(L,g,p,d){var v=_[L],P=h[L].substring(g,p),J=document.createTextNode(P);if(d){var ie=document.createElement("span");return ie.className=d,ie.appendChild(J),void v.appendChild(ie)}v.appendChild(J)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var Z=this.findController,E=this.matches,T=this.pageIdx,h=this.textContentItemsStr,_=this.textDivs,c=-1,l=0,n=E.length;l<n;l++){for(var i=E[l],f=Math.max(c,i.begin.divIdx),m=i.end.divIdx;f<=m;f++){var x=_[f];x.textContent=h[f],x.className=""}c=i.end.divIdx+1}Z&&Z.highlightMatches&&(this.matches=this._convertMatches(Z.pageMatches[T]||null,Z.pageMatchesLength[T]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var Z=this,E=this.textLayerDiv,T=null;E.addEventListener("mousedown",function(h){if(Z.enhanceTextSelection&&Z.textLayerRenderTask)return Z.textLayerRenderTask.expandTextDivs(!0),void(T&&(clearTimeout(T),T=null));var _=E.querySelector(".endOfContent");if(_){var c=h.target!==E;if(c=c&&"none"!==window.getComputedStyle(_).getPropertyValue("-moz-user-select")){var l=E.getBoundingClientRect(),n=Math.max(0,(h.pageY-l.top)/l.height);_.style.top=(100*n).toFixed(2)+"%"}_.classList.add("active")}}),E.addEventListener("mouseup",function(){if(Z.enhanceTextSelection&&Z.textLayerRenderTask)T=setTimeout(function(){Z.textLayerRenderTask&&Z.textLayerRenderTask.expandTextDivs(!1),T=null},300);else{var h=E.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))}})}}]),V}();o.TextLayerBuilder=W;var e=function(){function V(){I(this,V)}return O(V,[{key:"createTextLayerBuilder",value:function(Z,E,T){return new W({textLayerDiv:Z,pageIndex:E,viewport:T,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0})}}]),V}();o.DefaultTextLayerFactory=e},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DownloadManager=void 0;var y=b(2);function O(G,Z){for(var E=0;E<Z.length;E++){var T=Z[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(G,T.key,T)}}var W=b(10).viewerCompatibilityParams.disableCreateObjectURL||!1;function e(G,Z){var E=document.createElement("a");if(!E.click)throw new Error('DownloadManager: "a.click()" is not supported.');E.href=G,E.target="_parent","download"in E&&(E.download=Z),(document.body||document.documentElement).appendChild(E),E.click(),E.remove()}o.DownloadManager=function(){function G(Z){var E=Z.disableCreateObjectURL,T=void 0===E?W:E;(function(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,G),this.disableCreateObjectURL=T}return function(G,Z,E){Z&&O(G.prototype,Z),E&&O(G,E)}(G,[{key:"downloadUrl",value:function(E,T){!(0,y.createValidAbsoluteUrl)(E,"http://example.com")||e(E+"#pdfjs.action=download",T)}},{key:"downloadData",value:function(E,T,h){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([E],{type:h}),T):e((0,y.createObjectURL)(E,h,this.disableCreateObjectURL),T)}},{key:"download",value:function(E,T,h){navigator.msSaveBlob?navigator.msSaveBlob(E,h)||this.downloadUrl(T,h):this.disableCreateObjectURL?this.downloadUrl(T,h):e(URL.createObjectURL(E),h)}}]),G}()},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.viewerCompatibilityParams=void 0;var y=Object.create(null),I="undefined"!=typeof navigator&&navigator.userAgent||"",N="undefined"!=typeof navigator&&navigator.platform||"",O="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,R=/Android/.test(I),W=/Trident/.test(I),e=/\b(iPad|iPhone|iPod)(?=;)/.test(I)||"MacIntel"===N&&O>1,V=/CriOS/.test(I);(W||V)&&(y.disableCreateObjectURL=!0),(e||R)&&(y.maxCanvasPixels=5242880);var G=Object.freeze(y);o.viewerCompatibilityParams=G},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GenericL10n=void 0;var Z,y=(Z=b(4))&&Z.__esModule?Z:{default:Z};function N(Z,E,T,h,_,c,l){try{var n=Z[c](l),i=n.value}catch(u){return void T(u)}n.done?E(i):Promise.resolve(i).then(h,_)}function O(Z){return function(){var E=this,T=arguments;return new Promise(function(h,_){var c=Z.apply(E,T);function l(i){N(c,h,_,l,n,"next",i)}function n(i){N(c,h,_,l,n,"throw",i)}l(void 0)})}}function W(Z,E){for(var T=0;T<E.length;T++){var h=E[T];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(Z,h.key,h)}}b(12);var V=document.webL10n,G=function(){function Z(E){(function(Z,E){if(!(Z instanceof E))throw new TypeError("Cannot call a class as a function")})(this,Z),this._lang=E,this._ready=new Promise(function(T,h){V.setLanguage(E,function(){T(V)})})}return function(Z,E,T){E&&W(Z.prototype,E),T&&W(Z,T)}(Z,[{key:"getLanguage",value:(E=O(y.default.mark(function h(){return y.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._ready;case 2:return l.abrupt("return",l.sent.getLanguage());case 4:case"end":return l.stop()}},h,this)})),function(){return E.apply(this,arguments)})},{key:"getDirection",value:function(){var E=O(y.default.mark(function h(){return y.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._ready;case 2:return l.abrupt("return",l.sent.getDirection());case 4:case"end":return l.stop()}},h,this)}));return function(){return E.apply(this,arguments)}}()},{key:"get",value:function(){var E=O(y.default.mark(function h(_,c,l){return y.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this._ready;case 2:return u.abrupt("return",u.sent.get(_,c,l));case 4:case"end":return u.stop()}},h,this)}));return function(h,_,c){return E.apply(this,arguments)}}()},{key:"translate",value:function(){var E=O(y.default.mark(function h(_){return y.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._ready;case 2:return n.abrupt("return",n.sent.translate(_));case 4:case"end":return n.stop()}},h,this)}));return function(h){return E.apply(this,arguments)}}()}]),Z;var E}();o.GenericL10n=G},function(r,o,b){"use strict";document.webL10n=function(y,I,N){var O={},R="",W="textContent",e="",V={},G="loading";function c(q,te,j){te=te||function(k){},j=j||function(){};var Q=new XMLHttpRequest;Q.open("GET",q,true),Q.overrideMimeType&&Q.overrideMimeType("text/plain; charset=utf-8"),Q.onreadystatechange=function(){4==Q.readyState&&(200==Q.status||0===Q.status?te(Q.responseText):j())},Q.onerror=j,Q.ontimeout=j;try{Q.send(null)}catch(M){j()}}function l(q,te,j,Q){var M=q.replace(/[^\/]*$/,"")||"./";function k(g){return g.lastIndexOf("\\")<0?g:g.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(q,function(g){R+=g,function(g,p){var d={},v=/^\s*|\s*$/,P=/^\s*#|^\s*$/,J=/^\s*\[(.*)\]\s*$/,ie=/^\s*@import\s+url\((.*)\)\s*$/i,ae=/^([^=\s]*)\s*=\s*(.+)$/;function re(Y,$,U){var X=Y.replace(v,"").split(/[\r\n]+/),ee="*",ce=te.split("-",1)[0],de=!1,Ae="";!function Te(){for(;;){if(!X.length)return void U();var Pe=X.shift();if(!P.test(Pe)){if($){if(Ae=J.exec(Pe)){ee=Ae[1].toLowerCase(),de="*"!==ee&&ee!==te&&ee!==ce;continue}if(de)continue;if(Ae=ie.exec(Pe))return void se(M+Ae[1],Te)}var ze=Pe.match(ae);ze&&3==ze.length&&(d[ze[1]]=k(ze[2]))}}}()}function se(Y,$){c(Y,function(U){re(U,!1,$)},function(){console.warn(Y+" not found."),$()})}re(g,!0,function(){p(d)})}(g,function(p){for(var d in p){var v,P,J=d.lastIndexOf(".");J>0?(v=d.substring(0,J),P=d.substring(J+1)):(v=d,P=W),O[v]||(O[v]={}),O[v][P]=p[d]}j&&j()})},Q)}function n(q,te){q&&(q=q.toLowerCase()),te=te||function(){},O={},R="",e="",e=q;var j=I.querySelectorAll('link[type="application/l10n"]'),Q=j.length;if(0!==Q){var g,p=0;g=function(){++p>=Q&&(te(),G="complete")};for(var v=0;v<Q;v++)new d(j[v]).load(q,g)}else{var M=function(){var q=I.querySelector('script[type="application/l10n"]');return q?JSON.parse(q.innerHTML):null}();if(M&&M.locales&&M.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(O=M.locales[q])){var k=M.default_locale.toLowerCase();for(var L in M.locales){if((L=L.toLowerCase())===q){O=M.locales[q];break}L===k&&(O=M.locales[k])}}te()}else console.log("no resource to load, early way out");G="complete"}function d(J){var ie=J.href;this.load=function(ae,re){l(ie,ae,re,function(){console.warn(ie+" not found."),console.warn('"'+ae+'" resource not found'),e="",re()})}}}function f(q,te,j){var Q=O[q];if(!Q){if(console.warn("#"+q+" is undefined."),!j)return null;Q=j}var M={};for(var k in Q){var L=Q[k];L=x(L=m(L,te,q,k),te,q),M[k]=L}return M}function m(q,te,j,Q){var k=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(q);if(!k||!k.length)return q;var p,L=k[1],g=k[2];return te&&g in te?p=te[g]:g in O&&(p=O[g]),L in V&&(q=(0,V[L])(q,p,j,Q)),q}function x(q,te,j){return q.replace(/\{\{\s*(.+?)\s*\}\}/g,function(M,k){return te&&k in te?te[k]:k in O?O[k]:(console.log("argument {{"+k+"}} for #"+j+" is undefined."),M)})}function S(q){var te=function(q){if(!q)return{};var te=q.getAttribute("data-l10n-id"),j=q.getAttribute("data-l10n-args"),Q={};if(j)try{Q=JSON.parse(j)}catch(M){console.warn("could not parse arguments for #"+te)}return{id:te,args:Q}}(q);if(te.id){var j=f(te.id,te.args);if(!j)return void console.warn("#"+te.id+" is undefined.");if(j[W]){if(0===function(q){if(q.children)return q.children.length;if(void 0!==q.childElementCount)return q.childElementCount;for(var te=0,j=0;j<q.childNodes.length;j++)te+=1===q.nodeType?1:0;return te}(q))q[W]=j[W];else{for(var Q=q.childNodes,M=!1,k=0,L=Q.length;k<L;k++)3===Q[k].nodeType&&/\S/.test(Q[k].nodeValue)&&(M?Q[k].nodeValue="":(Q[k].nodeValue=j[W],M=!0));if(!M){var g=I.createTextNode(j[W]);q.insertBefore(g,q.firstChild)}}delete j[W]}for(var p in j)q[p]=j[p]}}return V.plural=function(q,te,j,Q){var M=parseFloat(te);if(isNaN(M)||Q!=W)return q;V._pluralRules||(V._pluralRules=function(q){function j(L,g){return-1!==g.indexOf(L)}function Q(L,g,p){return g<=L&&L<=p}var M={0:function(g){return"other"},1:function(g){return Q(g%100,3,10)?"few":0===g?"zero":Q(g%100,11,99)?"many":2==g?"two":1==g?"one":"other"},2:function(g){return 0!==g&&g%10==0?"many":2==g?"two":1==g?"one":"other"},3:function(g){return 1==g?"one":"other"},4:function(g){return Q(g,0,1)?"one":"other"},5:function(g){return Q(g,0,2)&&2!=g?"one":"other"},6:function(g){return 0===g?"zero":g%10==1&&g%100!=11?"one":"other"},7:function(g){return 2==g?"two":1==g?"one":"other"},8:function(g){return Q(g,3,6)?"few":Q(g,7,10)?"many":2==g?"two":1==g?"one":"other"},9:function(g){return 0===g||1!=g&&Q(g%100,1,19)?"few":1==g?"one":"other"},10:function(g){return Q(g%10,2,9)&&!Q(g%100,11,19)?"few":g%10!=1||Q(g%100,11,19)?"other":"one"},11:function(g){return Q(g%10,2,4)&&!Q(g%100,12,14)?"few":g%10==0||Q(g%10,5,9)||Q(g%100,11,14)?"many":g%10==1&&g%100!=11?"one":"other"},12:function(g){return Q(g,2,4)?"few":1==g?"one":"other"},13:function(g){return Q(g%10,2,4)&&!Q(g%100,12,14)?"few":1!=g&&Q(g%10,0,1)||Q(g%10,5,9)||Q(g%100,12,14)?"many":1==g?"one":"other"},14:function(g){return Q(g%100,3,4)?"few":g%100==2?"two":g%100==1?"one":"other"},15:function(g){return 0===g||Q(g%100,2,10)?"few":Q(g%100,11,19)?"many":1==g?"one":"other"},16:function(g){return g%10==1&&11!=g?"one":"other"},17:function(g){return 3==g?"few":0===g?"zero":6==g?"many":2==g?"two":1==g?"one":"other"},18:function(g){return 0===g?"zero":Q(g,0,2)&&0!==g&&2!=g?"one":"other"},19:function(g){return Q(g,2,10)?"few":Q(g,0,1)?"one":"other"},20:function(g){return!Q(g%10,3,4)&&g%10!=9||Q(g%100,10,19)||Q(g%100,70,79)||Q(g%100,90,99)?g%1e6==0&&0!==g?"many":g%10!=2||j(g%100,[12,72,92])?g%10!=1||j(g%100,[11,71,91])?"other":"one":"two":"few"},21:function(g){return 0===g?"zero":1==g?"one":"other"},22:function(g){return Q(g,0,1)||Q(g,11,99)?"one":"other"},23:function(g){return Q(g%10,1,2)||g%20==0?"one":"other"},24:function(g){return Q(g,3,10)||Q(g,13,19)?"few":j(g,[2,12])?"two":j(g,[1,11])?"one":"other"}},k={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[q.replace(/-.*$/,"")];return k in M?M[k]:(console.warn("plural form unknown for ["+q+"]"),function(){return"other"})}(e));var k="["+V._pluralRules(M)+"]";return 0===M&&j+"[zero]"in O?q=O[j+"[zero]"][Q]:1==M&&j+"[one]"in O?q=O[j+"[one]"][Q]:2==M&&j+"[two]"in O?q=O[j+"[two]"][Q]:j+k in O?q=O[j+k][Q]:j+"[other]"in O&&(q=O[j+"[other]"][Q]),q},{get:function(te,j,Q){var L,M=te.lastIndexOf("."),k=W;M>0&&(k=te.substring(M+1),te=te.substring(0,M)),Q&&((L={})[k]=Q);var g=f(te,j,L);return g&&k in g?g[k]:"{{"+te+"}}"},getData:function(){return O},getText:function(){return R},getLanguage:function(){return e},setLanguage:function(te,j){n(te,function(){j&&j()})},getDirection:function(){var j=e.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(j)>=0?"rtl":"ltr"},translate:function(q){for(var te=function(q){return q?q.querySelectorAll("*[data-l10n-id]"):[]}(q=q||I.documentElement),j=te.length,Q=0;Q<j;Q++)S(te[Q]);S(q)},getReadyState:function(){return G},ready:function(te){te&&("complete"==G||"interactive"==G?y.setTimeout(function(){te()}):I.addEventListener&&I.addEventListener("localized",function j(){I.removeEventListener("localized",j),te()}))}}}(window,document)},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFindController=o.FindState=void 0;var y=b(2),I=b(14),N=b(3);function R(c,l){for(var n=0;n<l.length;n++){var i=l[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}var e={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};o.FindState=e;var E={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},T=null;function h(c){if(!T){var l=Object.keys(E).join("");T=new RegExp("[".concat(l,"]"),"g")}return c.replace(T,function(n){return E[n]})}var _=function(){function c(l){var n=l.linkService,i=l.eventBus;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this._linkService=n,this._eventBus=i,this._reset(),i._on("findbarclose",this._onFindBarClose.bind(this))}return function(c,l,n){l&&R(c.prototype,l),n&&R(c,n)}(c,[{key:"setDocument",value:function(n){this._pdfDocument&&this._reset(),n&&(this._pdfDocument=n,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(n,i){var u=this;if(i){var f=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(n,i))&&(this._dirtyMatch=!0),this._state=i,"findhighlightallchange"!==n&&this._updateUIState(e.PENDING),this._firstPageCapability.promise.then(function(){if(u._pdfDocument&&(!f||u._pdfDocument===f)){u._extractText();var m=!u._highlightMatches,x=!!u._findTimeout;u._findTimeout&&(clearTimeout(u._findTimeout),u._findTimeout=null),"find"===n?u._findTimeout=setTimeout(function(){u._nextMatch(),u._findTimeout=null},250):u._dirtyMatch?u._nextMatch():"findagain"===n?(u._nextMatch(),m&&u._state.highlightAll&&u._updateAllPages()):"findhighlightallchange"===n?(x?u._nextMatch():u._highlightMatches=!0,u._updateAllPages()):u._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(n){var i=n.element,u=void 0===i?null:i,f=n.pageIndex,m=void 0===f?-1:f,x=n.matchIndex,S=void 0===x?-1:x;if(this._scrollMatches&&u){if(-1===S||S!==this._selected.matchIdx)return;if(-1===m||m!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,N.scrollIntoView)(u,{top:-50,left:-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,y.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(n,i){if(i.query!==this._state.query)return!0;switch(n){case"findagain":var u=this._selected.pageIdx+1,f=this._linkService;return u>=1&&u<=f.pagesCount&&u!==f.page&&!f.isPageVisible(u);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(n,i,u){function f(S){var D=n[S];if(S<n.length-1&&D.match===n[S+1].match)return D.skipped=!0,!0;for(var q=S-1;q>=0;q--){var te=n[q];if(!te.skipped){if(te.match+te.matchLength<D.match)break;if(te.match+te.matchLength>=D.match+D.matchLength)return D.skipped=!0,!0}}return!1}n.sort(function(S,D){return S.match===D.match?S.matchLength-D.matchLength:S.match-D.match});for(var m=0,x=n.length;m<x;m++)f(m)||(i.push(n[m].match),u.push(n[m].matchLength))}},{key:"_isEntireWord",value:function(n,i,u){if(i>0){var f=n.charCodeAt(i),m=n.charCodeAt(i-1);if((0,I.getCharacterType)(f)===(0,I.getCharacterType)(m))return!1}var x=i+u-1;if(x<n.length-1){var S=n.charCodeAt(x),D=n.charCodeAt(x+1);if((0,I.getCharacterType)(S)===(0,I.getCharacterType)(D))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(n,i,u,f){for(var m=[],x=n.length,S=-x;-1!==(S=u.indexOf(n,S+x));)f&&!this._isEntireWord(u,S,x)||m.push(S);this._pageMatches[i]=m}},{key:"_calculateWordMatch",value:function(n,i,u,f){for(var m=[],x=n.match(/\S+/g),S=0,D=x.length;S<D;S++)for(var H=x[S],q=H.length,te=-q;-1!==(te=u.indexOf(H,te+q));)f&&!this._isEntireWord(u,te,q)||m.push({match:te,matchLength:q,skipped:!1});this._pageMatchesLength[i]=[],this._pageMatches[i]=[],this._prepareMatches(m,this._pageMatches[i],this._pageMatchesLength[i])}},{key:"_calculateMatch",value:function(n){var i=this._pageContents[n],u=this._query,f=this._state,x=f.entireWord,S=f.phraseSearch;if(0!==u.length){f.caseSensitive||(i=i.toLowerCase(),u=u.toLowerCase()),S?this._calculatePhraseMatch(u,n,i,x):this._calculateWordMatch(u,n,i,x),this._state.highlightAll&&this._updatePage(n),this._resumePageIdx===n&&(this._resumePageIdx=null,this._nextPageMatch());var D=this._pageMatches[n].length;D>0&&(this._matchesCountTotal+=D,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var n=this;if(!(this._extractTextPromises.length>0))for(var i=Promise.resolve(),u=function(S,D){var H=(0,y.createPromiseCapability)();n._extractTextPromises[S]=H.promise,i=i.then(function(){return n._pdfDocument.getPage(S+1).then(function(q){return q.getTextContent({normalizeWhitespace:!0})}).then(function(q){for(var te=q.items,j=[],Q=0,M=te.length;Q<M;Q++)j.push(te[Q].str);n._pageContents[S]=h(j.join("")),H.resolve(S)},function(q){console.error("Unable to get text content for page ".concat(S+1),q),n._pageContents[S]="",H.resolve(S)})})},f=0,m=this._linkService.pagesCount;f<m;f++)u(f)}},{key:"_updatePage",value:function(n){this._scrollMatches&&this._selected.pageIdx===n&&(this._linkService.page=n+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:n})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var n=this,i=this._state.findPrevious,u=this._linkService.page-1,f=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=u,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var m=0;m<f;m++)!0!==this._pendingFindMatches[m]&&(this._pendingFindMatches[m]=!0,this._extractTextPromises[m].then(function(D){delete n._pendingFindMatches[D],n._calculateMatch(D)}))}if(""!==this._query){if(!this._resumePageIdx){var x=this._offset;if(this._pagesToSearch=f,null!==x.matchIdx){if(!i&&x.matchIdx+1<this._pageMatches[x.pageIdx].length||i&&x.matchIdx>0)return x.matchIdx=i?x.matchIdx-1:x.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(i)}this._nextPageMatch()}}else this._updateUIState(e.FOUND)}},{key:"_matchesReady",value:function(n){var i=this._offset,u=n.length,f=this._state.findPrevious;return u?(i.matchIdx=f?u-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(f),!!(i.wrapped&&(i.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var n=null;do{var i=this._offset.pageIdx;if(!(n=this._pageMatches[i])){this._resumePageIdx=i;break}}while(!this._matchesReady(n))}},{key:"_advanceOffsetPage",value:function(n){var i=this._offset,u=this._linkService.pagesCount;i.pageIdx=n?i.pageIdx-1:i.pageIdx+1,i.matchIdx=null,this._pagesToSearch--,(i.pageIdx>=u||i.pageIdx<0)&&(i.pageIdx=n?u-1:0,i.wrapped=!0)}},{key:"_updateMatch",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=e.NOT_FOUND,u=this._offset.wrapped;if(this._offset.wrapped=!1,n){var f=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,i=u?e.WRAPPED:e.FOUND,-1!==f&&f!==this._selected.pageIdx&&this._updatePage(f)}this._updateUIState(i,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(n){var i=this,u=this._pdfDocument;this._firstPageCapability.promise.then(function(){!i._pdfDocument||u&&i._pdfDocument!==u||(i._findTimeout&&(clearTimeout(i._findTimeout),i._findTimeout=null),i._resumePageIdx&&(i._resumePageIdx=null,i._dirtyMatch=!0),i._updateUIState(e.FOUND),i._highlightMatches=!1,i._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var n=this._selected,i=n.pageIdx,u=n.matchIdx,f=0,m=this._matchesCountTotal;if(-1!==u){for(var x=0;x<i;x++)f+=this._pageMatches[x]&&this._pageMatches[x].length||0;f+=u+1}return(f<1||f>m)&&(f=m=0),{current:f,total:m}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(n,i){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:n,previous:i,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=h(this._state.query)),this._normalizedQuery}}]),c}();o.PDFFindController=_},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getCharacterType=function(h){return function(h){return h<11904}(h)?function(h){return 0==(65408&h)}(h)?function(h){return 32===h||9===h||13===h||10===h}(h)?y.SPACE:function(h){return h>=97&&h<=122||h>=65&&h<=90}(h)||function(h){return h>=48&&h<=57}(h)||95===h?y.ALPHA_LETTER:y.PUNCT:function(h){return 3584==(65408&h)}(h)?y.THAI_LETTER:160===h?y.SPACE:y.ALPHA_LETTER:function(h){return h>=13312&&h<=40959||h>=63744&&h<=64255}(h)?y.HAN_LETTER:function(h){return h>=12448&&h<=12543}(h)?y.KATAKANA_LETTER:function(h){return h>=12352&&h<=12447}(h)?y.HIRAGANA_LETTER:function(h){return h>=65376&&h<=65439}(h)?y.HALFWIDTH_KATAKANA_LETTER:y.ALPHA_LETTER},o.CharacterType=void 0;var y={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};o.CharacterType=y},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isDestHashesEqual=n,o.isDestArraysEqual=i,o.PDFHistory=void 0;var y=b(3);function I(u){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(u)}function N(u,f){return function(u){if(Array.isArray(u))return u}(u)||function(u,f){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(u)){var m=[],x=!0,S=!1,D=void 0;try{for(var q,H=u[Symbol.iterator]();!(x=(q=H.next()).done)&&(m.push(q.value),!f||m.length!==f);x=!0);}catch(te){S=!0,D=te}finally{try{!x&&null!=H.return&&H.return()}finally{if(S)throw D}}return m}}(u,f)||function(u,f){if(u){if("string"==typeof u)return W(u,f);var m=Object.prototype.toString.call(u).slice(8,-1);if("Object"===m&&u.constructor&&(m=u.constructor.name),"Map"===m||"Set"===m)return Array.from(u);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return W(u,f)}}(u,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(u,f){(null==f||f>u.length)&&(f=u.length);for(var m=0,x=new Array(f);m<f;m++)x[m]=u[m];return x}function Z(u,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}function c(){return document.location.hash}var l=function(){function u(f){var m=this,x=f.linkService,S=f.eventBus;(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),this.linkService=x,this.eventBus=S,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(D){m._isViewerInPresentationMode=D.active||D.switchInProgress}),this.eventBus._on("pagesinit",function(){m._isPagesLoaded=!1;m.eventBus._on("pagesloaded",function H(q){m.eventBus._off("pagesloaded",H),m._isPagesLoaded=!!q.pagesCount})})}return function(u,f,m){f&&Z(u.prototype,f),m&&Z(u,m)}(u,[{key:"initialize",value:function(m){var x=m.fingerprint,S=m.resetHistory,D=void 0!==S&&S,H=m.updateUrl,q=void 0!==H&&H;if(x&&"string"==typeof x){this._initialized&&this.reset();var te=""!==this._fingerprint&&this._fingerprint!==x;this._fingerprint=x,this._updateUrl=!0===q,this._initialized=!0,this._bindEvents();var j=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=c(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(j,!0)||D){var Q=this._parseCurrentHash(!0),M=Q.hash,k=Q.page,L=Q.rotation;return!M||te||D?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:M,page:k,rotation:L},!0)}var g=j.destination;this._updateInternalState(g,j.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==g.rotation&&(this._initialRotation=g.rotation),g.dest?(this._initialBookmark=JSON.stringify(g.dest),this._destination.page=null):g.hash?this._initialBookmark=g.hash:g.page&&(this._initialBookmark="page=".concat(g.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(m){var x=this,S=m.namedDest,D=void 0===S?null:S,H=m.explicitDest,q=m.pageNumber;if(this._initialized){if(D&&"string"!=typeof D)return void console.error("PDFHistory.push: "+'"'.concat(D,'" is not a valid namedDest parameter.'));if(!Array.isArray(H))return void console.error("PDFHistory.push: "+'"'.concat(H,'" is not a valid explicitDest parameter.'));if(!(Number.isInteger(q)&&q>0&&q<=this.linkService.pagesCount)&&(null!==q||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(q,'" is not a valid pageNumber parameter.'));var te=D||JSON.stringify(H);if(te){var j=!1;if(this._destination&&(n(this._destination.hash,te)||i(this._destination.dest,H))){if(this._destination.page)return;j=!0}this._popStateInProgress&&!j||(this._pushOrReplaceState({dest:H,hash:te,page:q,rotation:this.linkService.rotation},j),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){x._popStateInProgress=!1})))}}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var m=window.history.state;this._isValidState(m)&&m.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var m=window.history.state;this._isValidState(m)&&m.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(m){var H,S=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,D={fingerprint:this._fingerprint,uid:S?this._uid:this._uid+1,destination:m};if(this._updateInternalState(m,D.uid),this._updateUrl&&m&&m.hash){var q=document.location.href.split("#")[0];q.startsWith("file://")||(H="".concat(q,"#").concat(m.hash))}S?window.history.replaceState(D,"",H):(this._maxUid=this._uid,window.history.pushState(D,"",H))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var x=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((x=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(x);if(this._destination.temporary)return void this._pushOrReplaceState(x,!0);if(this._destination.hash!==x.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var S=!1;if(this._destination.page>=x.first&&this._destination.page<=x.page){if(this._destination.dest||!this._destination.first)return;S=!0}this._pushOrReplaceState(x,S)}}}},{key:"_isValidState",value:function(m){if(!m)return!1;if(m.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof m.fingerprint||m.fingerprint.length!==this._fingerprint.length)return!1;var H=N(performance.getEntriesByType("navigation"),1)[0];if(!H||"reload"!==H.type)return!1}return!(!Number.isInteger(m.uid)||m.uid<0||null===m.destination||"object"!==I(m.destination))}},{key:"_updateInternalState",value:function(m,x){var S=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),S&&m&&m.temporary&&delete m.temporary,this._destination=m,this._uid=x,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var m=arguments.length>0&&void 0!==arguments[0]&&arguments[0],x=unescape(c()).substring(1),S=(0,y.parseQueryString)(x),D=S.nameddest||"",H=0|S.page;return(!(Number.isInteger(H)&&H>0&&H<=this.linkService.pagesCount)||m&&D.length>0)&&(H=null),{hash:x,page:H,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(m){var x=this,S=m.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(S.pageNumber):S.pdfOpenParams.substring(1),page:this.linkService.page,first:S.pageNumber,rotation:S.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){x._popStateInProgress||x._tryPushCurrentPosition(!0),x._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(m){var x=this,S=m.state,D=c(),H=this._currentHash!==D;if(this._currentHash=D,S){if(this._isValidState(S)){this._popStateInProgress=!0,H&&(this._blockHashChange++,(0,y.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){x._blockHashChange--}));var M=S.destination;this._updateInternalState(M,S.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,y.isValidRotation)(M.rotation)&&(this.linkService.rotation=M.rotation),M.dest?this.linkService.navigateTo(M.dest):M.hash?this.linkService.setHash(M.hash):M.page&&(this.linkService.page=M.page),Promise.resolve().then(function(){x._popStateInProgress=!1})}}else{this._uid++;var q=this._parseCurrentHash();this._pushOrReplaceState({hash:q.hash,page:q.page,rotation:q.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),u}();function n(u,f){return"string"==typeof u&&"string"==typeof f&&(u===f||(0,y.parseQueryString)(u).nameddest===f)}function i(u,f){function m(D,H){if(I(D)!==I(H)||Array.isArray(D)||Array.isArray(H))return!1;if(null!==D&&"object"===I(D)&&null!==H){if(Object.keys(D).length!==Object.keys(H).length)return!1;for(var q in D)if(!m(D[q],H[q]))return!1;return!0}return D===H||Number.isNaN(D)&&Number.isNaN(H)}if(!Array.isArray(u)||!Array.isArray(f)||u.length!==f.length)return!1;for(var x=0,S=u.length;x<S;x++)if(!m(u[x],f[x]))return!1;return!0}o.PDFHistory=l},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFPageView=void 0;var _,y=(_=b(4))&&_.__esModule?_:{default:_},I=b(3),N=b(2),O=b(17);function e(_,c,l,n,i,u,f){try{var m=_[u](f),x=m.value}catch(S){return void l(S)}m.done?c(x):Promise.resolve(x).then(n,i)}function Z(_,c){for(var l=0;l<c.length;l++){var n=c[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(_,n.key,n)}}var T=b(10).viewerCompatibilityParams.maxCanvasPixels||16777216,h=function(){function _(c){!function(_,c){if(!(_ instanceof c))throw new TypeError("Cannot call a class as a function")}(this,_);var l=c.container,n=c.defaultViewport;this.id=c.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=c.scale||I.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(c.textLayerMode)?c.textLayerMode:I.TextLayerMode.ENABLE,this.imageResourcesPath=c.imageResourcesPath||"",this.renderInteractiveForms=c.renderInteractiveForms||!1,this.useOnlyCssZoom=c.useOnlyCssZoom||!1,this.maxCanvasPixels=c.maxCanvasPixels||T,this.eventBus=c.eventBus,this.renderingQueue=c.renderingQueue,this.textLayerFactory=c.textLayerFactory,this.annotationLayerFactory=c.annotationLayerFactory,this.renderer=c.renderer||I.RendererType.CANVAS,this.enableWebGL=c.enableWebGL||!1,this.l10n=c.l10n||I.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=O.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),this.div=i,l.appendChild(i)}return function(_,c,l){c&&Z(_.prototype,c),l&&Z(_,l)}(_,[{key:"setPdfPage",value:function(l){this.pdfPage=l,this.pdfPageRotate=l.rotate,this.viewport=l.getViewport({scale:this.scale*I.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=l.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var n=this.zoomLayer.firstChild;this.paintedViewportMap.delete(n),n.width=0,n.height=0,l&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(n),this.renderingState=O.RenderingStates.INITIAL;var i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";for(var u=i.childNodes,f=l&&this.zoomLayer||null,m=n&&this.annotationLayer&&this.annotationLayer.div||null,x=u.length-1;x>=0;x--){var S=u[x];f===S||m===S||i.removeChild(S)}i.removeAttribute("data-loaded"),m?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),f||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",i.appendChild(this.loadingIconDiv)}},{key:"update",value:function(l,n){if(this.scale=l||this.scale,void 0!==n&&(this.rotation=n),this.viewport=this.viewport.clone({scale:this.scale*I.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var u=!1;if(this.canvas&&this.maxCanvasPixels>0){var f=this.outputScale;(Math.floor(this.viewport.width)*f.sx|0)*(Math.floor(this.viewport.height)*f.sy|0)>this.maxCanvasPixels&&(u=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&u)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!l&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(l){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.viewport.width,u=this.viewport.height,f=this.div;l.style.width=l.parentNode.style.width=f.style.width=Math.floor(i)+"px",l.style.height=l.parentNode.style.height=f.style.height=Math.floor(u)+"px";var m=this.viewport.rotation-this.paintedViewportMap.get(l).rotation,x=Math.abs(m),S=1,D=1;if((90===x||270===x)&&(S=u/i,D=i/u),l.style.transform="rotate("+m+"deg) scale("+S+","+D+")",this.textLayer){var q=this.textLayer.viewport,j=Math.abs(this.viewport.rotation-q.rotation),Q=i/q.width;(90===j||270===j)&&(Q=i/q.height);var k,L,M=this.textLayer.textLayerDiv;switch(j){case 0:k=L=0;break;case 90:k=0,L="-"+M.style.height;break;case 180:k="-"+M.style.width,L="-"+M.style.height;break;case 270:k="-"+M.style.width,L=0;break;default:console.error("Bad rotation value.")}M.style.transform="rotate("+j+"deg) scale("+Q+", "+Q+") translate("+k+", "+L+")",M.style.transformOrigin="0% 0%"}n&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(l,n){return this.viewport.convertToPdfPoint(l,n)}},{key:"draw",value:function(){var l=this;this.renderingState!==O.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var n=this.div,i=this.pdfPage;if(!i)return this.renderingState=O.RenderingStates.FINISHED,this.loadingIconDiv&&(n.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=O.RenderingStates.RUNNING;var u=document.createElement("div");u.style.width=n.style.width,u.style.height=n.style.height,u.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?n.insertBefore(u,this.annotationLayer.div):n.appendChild(u);var f=null;if(this.textLayerMode!==I.TextLayerMode.DISABLE&&this.textLayerFactory){var m=document.createElement("div");m.className="textLayer",m.style.width=u.style.width,m.style.height=u.style.height,this.annotationLayer&&this.annotationLayer.div?n.insertBefore(m,this.annotationLayer.div):n.appendChild(m),f=this.textLayerFactory.createTextLayerBuilder(m,this.id-1,this.viewport,this.textLayerMode===I.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=f;var x=null;this.renderingQueue&&(x=function(te){if(!l.renderingQueue.isHighestPriority(l))return l.renderingState=O.RenderingStates.PAUSED,void(l.resume=function(){l.renderingState=O.RenderingStates.RUNNING,te()});te()});var S=function(){var q=function(_){return function(){var c=this,l=arguments;return new Promise(function(n,i){var u=_.apply(c,l);function f(x){e(u,n,i,f,m,"next",x)}function m(x){e(u,n,i,f,m,"throw",x)}f(void 0)})}}(y.default.mark(function te(j){return y.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(D===l.paintTask&&(l.paintTask=null),!(j instanceof N.RenderingCancelledException)){M.next=4;break}return l.error=null,M.abrupt("return");case 4:if(l.renderingState=O.RenderingStates.FINISHED,l.loadingIconDiv&&(n.removeChild(l.loadingIconDiv),delete l.loadingIconDiv),l._resetZoomLayer(!0),l.error=j,l.stats=i.stats,l.eventBus.dispatch("pagerendered",{source:l,pageNumber:l.id,cssTransform:!1,timestamp:performance.now()}),!j){M.next=12;break}throw j;case 12:case"end":return M.stop()}},te)}));return function(j){return q.apply(this,arguments)}}(),D=this.renderer===I.RendererType.SVG?this.paintOnSvg(u):this.paintOnCanvas(u);D.onRenderContinue=x,this.paintTask=D;var H=D.promise.then(function(){return S(null).then(function(){if(f){var q=i.streamTextContent({normalizeWhitespace:!0});f.setTextContentStream(q),f.render()}})},function(q){return S(q)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(n,i,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),n.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),H}},{key:"paintOnCanvas",value:function(l){var n=(0,N.createPromiseCapability)(),i={promise:n.promise,onRenderContinue:function(p){p()},cancel:function(){L.cancel()}},u=this.viewport,f=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(function(g){f.setAttribute("aria-label",g)}),f.setAttribute("hidden","hidden");var m=!0,x=function(){m&&(f.removeAttribute("hidden"),m=!1)};l.appendChild(f),this.canvas=f,f.mozOpaque=!0;var S=f.getContext("2d",{alpha:!1}),D=(0,I.getOutputScale)(S);if(this.outputScale=D,this.useOnlyCssZoom){var H=u.clone({scale:I.CSS_UNITS});D.sx*=H.width/u.width,D.sy*=H.height/u.height,D.scaled=!0}if(this.maxCanvasPixels>0){var te=Math.sqrt(this.maxCanvasPixels/(u.width*u.height));D.sx>te||D.sy>te?(D.sx=te,D.sy=te,D.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var j=(0,I.approximateFraction)(D.sx),Q=(0,I.approximateFraction)(D.sy);f.width=(0,I.roundToDivide)(u.width*D.sx,j[0]),f.height=(0,I.roundToDivide)(u.height*D.sy,Q[0]),f.style.width=(0,I.roundToDivide)(u.width,j[1])+"px",f.style.height=(0,I.roundToDivide)(u.height,Q[1])+"px",this.paintedViewportMap.set(f,u);var L=this.pdfPage.render({canvasContext:S,transform:D.scaled?[D.sx,0,0,D.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return L.onContinue=function(g){x(),i.onRenderContinue?i.onRenderContinue(g):g()},L.promise.then(function(){x(),n.resolve(void 0)},function(g){x(),n.reject(g)}),i}},{key:"paintOnSvg",value:function(l){var n=this,i=!1,u=function(){if(i)throw new N.RenderingCancelledException("Rendering cancelled, page ".concat(n.id),"svg")},f=this.pdfPage,m=this.viewport.clone({scale:I.CSS_UNITS});return{promise:f.getOperatorList().then(function(S){return u(),new N.SVGGraphics(f.commonObjs,f.objs).getSVG(S,m).then(function(H){u(),n.svg=H,n.paintedViewportMap.set(H,m),H.style.width=l.style.width,H.style.height=l.style.height,n.renderingState=O.RenderingStates.FINISHED,l.appendChild(H)})}),onRenderContinue:function(D){D()},cancel:function(){i=!0}}}},{key:"setPageLabel",value:function(l){this.pageLabel="string"==typeof l?l:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),_}();o.PDFPageView=h},function(r,o,b){"use strict";function I(e,V){for(var G=0;G<V.length;G++){var Z=V[G];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(e,Z.key,Z)}}Object.defineProperty(o,"__esModule",{value:!0}),o.PDFRenderingQueue=o.RenderingStates=void 0;var R={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};o.RenderingStates=R,o.PDFRenderingQueue=function(){function e(){(function(e,V){if(!(e instanceof V))throw new TypeError("Cannot call a class as a function")})(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return function(e,V,G){V&&I(e.prototype,V),G&&I(e,G)}(e,[{key:"setViewer",value:function(G){this.pdfViewer=G}},{key:"setThumbnailViewer",value:function(G){this.pdfThumbnailViewer=G}},{key:"isHighestPriority",value:function(G){return this.highestPriorityPage===G.renderingId}},{key:"renderHighestPriority",value:function(G){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(G)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(G,Z,E){var T=G.views,h=T.length;if(0===h)return null;for(var _=0;_<h;++_){var c=T[_].view;if(!this.isViewFinished(c))return c}if(E){var l=G.last.id;if(Z[l]&&!this.isViewFinished(Z[l]))return Z[l]}else{var n=G.first.id-2;if(Z[n]&&!this.isViewFinished(Z[n]))return Z[n]}return null}},{key:"isViewFinished",value:function(G){return G.renderingState===R.FINISHED}},{key:"renderView",value:function(G){var Z=this;switch(G.renderingState){case R.FINISHED:return!1;case R.PAUSED:this.highestPriorityPage=G.renderingId,G.resume();break;case R.RUNNING:this.highestPriorityPage=G.renderingId;break;case R.INITIAL:this.highestPriorityPage=G.renderingId,G.draw().finally(function(){Z.renderHighestPriority()}).catch(function(E){console.error('renderView: "'.concat(E,'"'))})}return!0}}]),e}()},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFSinglePageViewer=void 0;var y=b(19),I=b(2);function N(n){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}function R(n,i){for(var u=0;u<i.length;u++){var f=i[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(n,f.key,f)}}function e(n,i,u){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(m,x,S){var D=function(n,i){for(;!Object.prototype.hasOwnProperty.call(n,i)&&null!==(n=c(n)););return n}(m,x);if(D){var H=Object.getOwnPropertyDescriptor(D,x);return H.get?H.get.call(S):H.value}})(n,i,u||n)}function G(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),i&&Z(n,i)}function Z(n,i){return(Z=Object.setPrototypeOf||function(f,m){return f.__proto__=m,f})(n,i)}function E(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var m,f=c(n);if(i){var x=c(this).constructor;m=Reflect.construct(f,arguments,x)}else m=f.apply(this,arguments);return T(this,m)}}function T(n,i){return!i||"object"!==N(i)&&"function"!=typeof i?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):i}function c(n){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(n)}o.PDFSinglePageViewer=function(n){G(u,n);var i=E(u);function u(f){var m;return function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,u),(m=i.call(this,f)).eventBus._on("pagesinit",function(x){m._ensurePageViewVisible()}),m}return function(n,i,u){i&&R(n.prototype,i),u&&R(n,u)}(u,[{key:"_resetView",value:function(){e(c(u.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var m=this._pages[this._currentPageNumber-1],x=this._pages[this._previousPageNumber-1],S=this.viewer.childNodes;switch(S.length){case 0:this.viewer.appendChild(m.div);break;case 1:if(S[0]!==x.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(m===x)break;this._shadowViewer.appendChild(x.div),this.viewer.appendChild(m.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),e(c(u.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(m){var x=this,S=m.pageDiv,D=m.pageSpot,H=void 0===D?null:D,q=m.pageNumber,te=void 0===q?null:q;te&&this._setCurrentPageNumber(te);var j=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),e(c(u.prototype),"_scrollIntoView",this).call(this,{pageDiv:S,pageSpot:H,pageNumber:te}),this._updateScrollDown=function(){x.scroll.down=j,x._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(m){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_viewerElement",get:function(){return(0,I.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,I.shadow)(this,"_isScrollModeHorizontal",!1)}}]),u}(y.BaseViewer)},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BaseViewer=void 0;var y=b(3),I=b(17),N=b(1),O=b(2),R=b(16),W=b(7),e=b(8);function G(c,l){for(var n=0;n<l.length;n++){var i=l[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}function T(c){var l=[];this.push=function(n){var i=l.indexOf(n);i>=0&&l.splice(i,1),l.push(n),l.length>c&&l.shift().destroy()},this.resize=function(n,i){if(c=n,i){for(var u=new Set,f=0,m=i.length;f<m;++f)u.add(i[f].id);(0,y.moveToEndOfArray)(l,function(x){return u.has(x.id)})}for(;l.length>c;)l.shift().destroy()}}function h(c,l){return l===c||Math.abs(l-c)<1e-15}var _=function(){function c(l){var n=this;if(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),this.constructor===c)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=l.container,this.viewer=l.viewer||l.container.firstElementChild,this.eventBus=l.eventBus,this.linkService=l.linkService||new W.SimpleLinkService,this.downloadManager=l.downloadManager||null,this.findController=l.findController||null,this.removePageBorders=l.removePageBorders||!1,this.textLayerMode=Number.isInteger(l.textLayerMode)?l.textLayerMode:y.TextLayerMode.ENABLE,this.imageResourcesPath=l.imageResourcesPath||"",this.renderInteractiveForms=l.renderInteractiveForms||!1,this.enablePrintAutoRotate=l.enablePrintAutoRotate||!1,this.renderer=l.renderer||y.RendererType.CANVAS,this.enableWebGL=l.enableWebGL||!1,this.useOnlyCssZoom=l.useOnlyCssZoom||!1,this.maxCanvasPixels=l.maxCanvasPixels,this.l10n=l.l10n||y.NullL10n,this.defaultRenderingQueue=!l.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new I.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=l.renderingQueue,this.scroll=(0,y.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=y.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){n.eventBus.dispatch("baseviewerinit",{source:n})})}return function(c,l,n){l&&G(c.prototype,l),n&&G(c,n)}(c,[{key:"getPageView",value:function(n){return this._pages[n]}},{key:"_setCurrentPageNumber",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===n?(i&&this._resetCurrentPageView(),!0):0<n&&n<=this.pagesCount&&(this._currentPageNumber=n,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:n,pageLabel:this._pageLabels&&this._pageLabels[n-1]}),i&&this._resetCurrentPageView(),!0)}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(n){var i=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=n,n){var u=n.numPages,f=n.getPage(1);this._pagesCapability.promise.then(function(){i.eventBus.dispatch("pagesloaded",{source:i,pagesCount:u})}),this._onBeforeDraw=function(m){var x=i._pages[m.pageNumber-1];!x||i._buffer.push(x)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(m){m.cssTransform||i._onePageRenderedCapability.settled||(i._onePageRenderedCapability.resolve(),i.eventBus._off("pagerendered",i._onAfterDraw),i._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),f.then(function(m){i._firstPageCapability.resolve(m);for(var x=i.currentScale,S=m.getViewport({scale:x*y.CSS_UNITS}),D=i.textLayerMode!==y.TextLayerMode.DISABLE?i:null,H=1;H<=u;++H){var q=new R.PDFPageView({container:i._viewerElement,eventBus:i.eventBus,id:H,scale:x,defaultViewport:S.clone(),renderingQueue:i.renderingQueue,textLayerFactory:D,textLayerMode:i.textLayerMode,annotationLayerFactory:i,imageResourcesPath:i.imageResourcesPath,renderInteractiveForms:i.renderInteractiveForms,renderer:i.renderer,enableWebGL:i.enableWebGL,useOnlyCssZoom:i.useOnlyCssZoom,maxCanvasPixels:i.maxCanvasPixels,l10n:i.l10n});i._pages.push(q)}var te=i._pages[0];te&&(te.setPdfPage(m),i.linkService.cachePageRef(1,m.ref)),i._spreadMode!==y.SpreadMode.NONE&&i._updateSpreadMode(),i._onePageRenderedOrForceFetch().then(function(){if(i.findController&&i.findController.setDocument(n),n.loadingParams.disableAutoFetch||u>7500)i._pagesCapability.resolve();else{var j=u-1;if(j<=0)i._pagesCapability.resolve();else for(var Q=function(L){n.getPage(L).then(function(g){var p=i._pages[L-1];p.pdfPage||p.setPdfPage(g),i.linkService.cachePageRef(L,g.ref),0==--j&&i._pagesCapability.resolve()},function(g){console.error("Unable to get page ".concat(L," to initialize viewer"),g),0==--j&&i._pagesCapability.resolve()})},M=2;M<=u;++M)Q(M)}}),i.eventBus.dispatch("pagesinit",{source:i}),i.defaultRenderingQueue&&i.update()}).catch(function(m){console.error("Unable to initialize viewer",m)})}}},{key:"setPageLabels",value:function(n){if(this.pdfDocument){n?Array.isArray(n)&&this.pdfDocument.numPages===n.length?this._pageLabels=n:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var i=0,u=this._pages.length;i<u;i++)this._pages[i].setPageLabel(this._pageLabels&&this._pageLabels[i])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=y.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new T(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,O.createPromiseCapability)(),this._onePageRenderedCapability=(0,O.createPromiseCapability)(),this._pagesCapability=(0,O.createPromiseCapability)(),this._scrollMode=y.ScrollMode.VERTICAL,this._spreadMode=y.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(n){var u=n.pageSpot;(0,y.scrollIntoView)(n.pageDiv,void 0===u?null:u)}},{key:"_setScaleUpdatePages",value:function(n,i){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=i.toString(),h(this._currentScale,n))f&&this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:i});else{for(var m=0,x=this._pages.length;m<x;m++)this._pages[m].update(n);if(this._currentScale=n,!u){var D,S=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(S=this._location.pageNumber,D=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:S,destArray:D,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:n,presetValue:f?i:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=parseFloat(n);if(u>0)this._setScaleUpdatePages(u,n,i,!1);else{var f=this._pages[this._currentPageNumber-1];if(!f)return;var m=this.isInPresentationMode||this.removePageBorders,x=m?0:y.SCROLLBAR_PADDING,S=m?0:y.VERTICAL_PADDING;if(!m&&this._isScrollModeHorizontal){var D=[S,x];x=D[0],S=D[1]}var H=(this.container.clientWidth-x)/f.width*f.scale,q=(this.container.clientHeight-S)/f.height*f.scale;switch(n){case"page-actual":u=1;break;case"page-width":u=H;break;case"page-height":u=q;break;case"page-fit":u=Math.min(H,q);break;case"auto":var te=(0,y.isPortraitOrientation)(f)?H:Math.min(q,H);u=Math.min(y.MAX_AUTO_SCALE,te);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(n,'" is an unknown zoom value.'))}this._setScaleUpdatePages(u,n,i,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(n){var i=n.pageNumber,u=n.destArray,f=void 0===u?null:u,m=n.allowNegativeOffset,x=void 0!==m&&m,S=n.ignoreDestinationZoom,D=void 0!==S&&S;if(this.pdfDocument){var H=Number.isInteger(i)&&this._pages[i-1];if(!H)return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(i,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!f)return void this._setCurrentPageNumber(i,!0);var k,q=0,te=0,j=0,Q=0,L=H.rotation%180!=0,g=(L?H.height:H.width)/H.scale/y.CSS_UNITS,p=(L?H.width:H.height)/H.scale/y.CSS_UNITS,d=0;switch(f[1].name){case"XYZ":d=f[4],q=null!==(q=f[2])?q:0,te=null!==(te=f[3])?te:p;break;case"Fit":case"FitB":d="page-fit";break;case"FitH":case"FitBH":d="page-width",null===(te=f[2])&&this._location&&(q=this._location.left,te=this._location.top);break;case"FitV":case"FitBV":q=f[2],j=g,Q=p,d="page-height";break;case"FitR":j=f[4]-(q=f[2]),k=(this.container.clientHeight-(this.removePageBorders?0:y.VERTICAL_PADDING))/(Q=f[5]-(te=f[3]))/y.CSS_UNITS,d=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:y.SCROLLBAR_PADDING))/j/y.CSS_UNITS),Math.abs(k));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(f[1].name,'" is not a valid destination type.'))}if(D||(d&&d!==this._currentScale?this.currentScaleValue=d:this._currentScale===y.UNKNOWN_SCALE&&(this.currentScaleValue=y.DEFAULT_SCALE_VALUE)),"page-fit"===d&&!f[4])return void this._scrollIntoView({pageDiv:H.div,pageNumber:i});var J=[H.viewport.convertToViewportPoint(q,te),H.viewport.convertToViewportPoint(q+j,te+Q)],ie=Math.min(J[0][0],J[1][0]),ae=Math.min(J[0][1],J[1][1]);x||(ie=Math.max(ie,0),ae=Math.max(ae,0)),this._scrollIntoView({pageDiv:H.div,pageSpot:{left:ie,top:ae},pageNumber:i})}}},{key:"_updateLocation",value:function(n){var i=this._currentScale,u=this._currentScaleValue,f=parseFloat(u)===i?Math.round(1e4*i)/100:u,m=n.id,x="#page="+m;x+="&zoom="+f;var D=this.container,H=this._pages[m-1].getPagePoint(D.scrollLeft-n.x,D.scrollTop-n.y),q=Math.round(H[0]),te=Math.round(H[1]);this._location={pageNumber:m,scale:f,top:te,left:q,rotation:this._pagesRotation,pdfOpenParams:x+=","+q+","+te}}},{key:"_updateHelper",value:function(n){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var n=this._getVisiblePages(),i=n.views,u=i.length;if(0!==u){var f=Math.max(10,2*u+1);this._buffer.resize(f,i),this.renderingQueue.renderHighestPriority(n),this._updateHelper(i),this._updateLocation(n.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(n){return this.container.contains(n)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var n=this._pages[this._currentPageNumber-1],i=n.div,u={id:n.id,x:i.offsetLeft+i.clientLeft,y:i.offsetTop+i.clientTop,view:n};return{first:u,last:u,views:[u]}}},{key:"_getVisiblePages",value:function(){return(0,y.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(n){return!!this.pdfDocument&&(n<1||n>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(n,'" is out of bounds.')),!1):this._getVisiblePages().views.some(function(i){return i.id===n}))}},{key:"cleanup",value:function(){for(var n=0,i=this._pages.length;n<i;n++)this._pages[n]&&this._pages[n].renderingState!==I.RenderingStates.FINISHED&&this._pages[n].reset()}},{key:"_cancelRendering",value:function(){for(var n=0,i=this._pages.length;n<i;n++)this._pages[n]&&this._pages[n].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(n){var i=this;if(n.pdfPage)return Promise.resolve(n.pdfPage);if(this._pagesRequests.has(n))return this._pagesRequests.get(n);var u=this.pdfDocument.getPage(n.id).then(function(f){return n.pdfPage||n.setPdfPage(f),i._pagesRequests.delete(n),f}).catch(function(f){console.error("Unable to get page for page view",f),i._pagesRequests.delete(n)});return this._pagesRequests.set(n,u),u}},{key:"forceRendering",value:function(n){var i=this,u=n||this._getVisiblePages(),m=this.renderingQueue.getHighestPriority(u,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!m&&(this._ensurePdfPageLoaded(m).then(function(){i.renderingQueue.renderView(m)}),!0)}},{key:"createTextLayerBuilder",value:function(n,i,u){return new e.TextLayerBuilder({textLayerDiv:n,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:i,viewport:u,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}},{key:"createAnnotationLayerBuilder",value:function(n,i){return new N.AnnotationLayerBuilder({pageDiv:n,pdfPage:i,imageResourcesPath:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:arguments.length>3&&void 0!==arguments[3]&&arguments[3],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>4&&void 0!==arguments[4]?arguments[4]:y.NullL10n})}},{key:"getPagesOverview",value:function(){var n=this._pages.map(function(u){var f=u.pdfPage.getViewport({scale:1});return{width:f.width,height:f.height,rotation:f.rotation}});if(!this.enablePrintAutoRotate)return n;var i=(0,y.isPortraitOrientation)(n[0]);return n.map(function(u){return i===(0,y.isPortraitOrientation)(u)?u:{width:u.height,height:u.width,rotation:(u.rotation+90)%360}})}},{key:"_updateScrollMode",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this._scrollMode,u=this.viewer;u.classList.toggle("scrollHorizontal",i===y.ScrollMode.HORIZONTAL),u.classList.toggle("scrollWrapped",i===y.ScrollMode.WRAPPED),this.pdfDocument&&n&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(n,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var i=this.viewer,u=this._pages;if(i.textContent="",this._spreadMode===y.SpreadMode.NONE)for(var f=0,m=u.length;f<m;++f)i.appendChild(u[f].div);else for(var x=this._spreadMode-1,S=null,D=0,H=u.length;D<H;++D)null===S?((S=document.createElement("div")).className="spread",i.appendChild(S)):D%2===x&&(S=S.cloneNode(!1),i.appendChild(S)),S.appendChild(u[D].div);!n||(this._setCurrentPageNumber(n,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(n){return n&&n.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(n){if(!Number.isInteger(n))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(n,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(n,'" is not a valid page.'))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(n){if(this.pdfDocument){var i=0|n;if(this._pageLabels){var u=this._pageLabels.indexOf(n);u>=0&&(i=u+1)}this._setCurrentPageNumber(i,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(n,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==y.UNKNOWN_SCALE?this._currentScale:y.DEFAULT_SCALE},set:function(n){if(isNaN(n))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(n,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(n){!this.pdfDocument||this._setScale(n,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(n){if(!(0,y.isValidRotation)(n))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==n){this._pagesRotation=n;for(var i=this._currentPageNumber,u=0,f=this._pages.length;u<f;u++){var m=this._pages[u];m.update(m.scale,n)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:n,pageNumber:i}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===y.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===y.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===y.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var n=this._pages[0],i=1,u=this._pages.length;i<u;++i){var f=this._pages[i];if(f.width!==n.width||f.height!==n.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(n){if(this._scrollMode!==n){if(!(0,y.isValidScrollMode)(n))throw new Error("Invalid scroll mode: ".concat(n));this._scrollMode=n,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:n}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(n){if(this._spreadMode!==n){if(!(0,y.isValidSpreadMode)(n))throw new Error("Invalid spread mode: ".concat(n));this._spreadMode=n,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:n}),this._updateSpreadMode(this._currentPageNumber)}}}]),c}();o.BaseViewer=_},function(r,o,b){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.PDFViewer=void 0;var y=b(19),I=b(2);function N(f){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(f)}function O(f,m){var x;if("undefined"==typeof Symbol||null==f[Symbol.iterator]){if(Array.isArray(f)||(x=function(f,m){if(f){if("string"==typeof f)return W(f,m);var x=Object.prototype.toString.call(f).slice(8,-1);if("Object"===x&&f.constructor&&(x=f.constructor.name),"Map"===x||"Set"===x)return Array.from(f);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return W(f,m)}}(f))||m&&f&&"number"==typeof f.length){x&&(f=x);var S=0,D=function(){};return{s:D,n:function(){return S>=f.length?{done:!0}:{done:!1,value:f[S++]}},e:function(Q){throw Q},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var te,H=!0,q=!1;return{s:function(){x=f[Symbol.iterator]()},n:function(){var Q=x.next();return H=Q.done,Q},e:function(Q){q=!0,te=Q},f:function(){try{!H&&null!=x.return&&x.return()}finally{if(q)throw te}}}}function W(f,m){(null==m||m>f.length)&&(m=f.length);for(var x=0,S=new Array(m);x<m;x++)S[x]=f[x];return S}function e(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}function V(f,m){for(var x=0;x<m.length;x++){var S=m[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}function Z(f,m,x){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(D,H,q){var te=function(f,m){for(;!Object.prototype.hasOwnProperty.call(f,m)&&null!==(f=i(f)););return f}(D,H);if(te){var j=Object.getOwnPropertyDescriptor(te,H);return j.get?j.get.call(q):j.value}})(f,m,x||f)}function T(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),m&&h(f,m)}function h(f,m){return(h=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})(f,m)}function _(f){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(f){return!1}}();return function(){var D,S=i(f);if(m){var H=i(this).constructor;D=Reflect.construct(S,arguments,H)}else D=S.apply(this,arguments);return c(this,D)}}function c(f,m){return!m||"object"!==N(m)&&"function"!=typeof m?function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f):m}function i(f){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(f)}var u=function(f){T(x,f);var m=_(x);function x(){return e(this,x),m.apply(this,arguments)}return function(f,m,x){m&&V(f.prototype,m),x&&V(f,x)}(x,[{key:"_scrollIntoView",value:function(D){var H=D.pageDiv,q=D.pageSpot,te=void 0===q?null:q,j=D.pageNumber,Q=void 0===j?null:j;if(!te&&!this.isInPresentationMode){var M=H.offsetLeft+H.clientLeft,L=this.container,g=L.scrollLeft;(this._isScrollModeHorizontal||M<g||M+H.clientWidth>g+L.clientWidth)&&(te={left:0,top:0})}Z(i(x.prototype),"_scrollIntoView",this).call(this,{pageDiv:H,pageSpot:te,pageNumber:Q})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():Z(i(x.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(D){if(!this.isInPresentationMode){var j,H=this._currentPageNumber,q=!1,te=O(D);try{for(te.s();!(j=te.n()).done;){var Q=j.value;if(Q.percent<100)break;if(Q.id===H){q=!0;break}}}catch(M){te.e(M)}finally{te.f()}q||(H=D[0].id),this._setCurrentPageNumber(H)}}},{key:"_viewerElement",get:function(){return(0,I.shadow)(this,"_viewerElement",this.viewer)}}]),x}(y.BaseViewer);o.PDFViewer=u}])},16997:(F,A,t)=>{"use strict";t.r(A),t.d(A,{TrainingProgramModule:()=>Kt});var r=t(58038),o=t(32564),b=t(13306),y=t(19802),I=t(16157),N=t(69526),O=t(78545),R=t(90665),W=t(92340),e=t(37716),V=t(16438),G=t(9709),Z=t(63423),E=t(38583),T=t(75930),h=t(14453),_=t(29374),c=t(84514),l=t(66630),n=t(26214),i=t(30462),u=t(76122),f=t(40308),m=t(47981),x=t(83385),S=t(53371),D=t(40228),H=t(62507),q=t(20881);function k(z,K,a,C){var Ce,B=arguments.length,oe=B<3?K:null===C?C=Object.getOwnPropertyDescriptor(K,a):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(z,K,a,C);else for(var Ve=z.length-1;Ve>=0;Ve--)(Ce=z[Ve])&&(oe=(B<3?Ce(oe):B>3?Ce(K,a,oe):Ce(K,a))||oe);return B>3&&oe&&Object.defineProperty(K,a,oe),oe}var Te=t(66890),Pe=t(88265);const ze=["pdfViewerContainer"],et=function(z){const K=new z.EventBus(!0);return function(z){z.on("documentload",()=>{const K=document.createEvent("CustomEvent");K.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(K)}),z.on("pagerendered",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:K.pageNumber,cssTransform:K.cssTransform}),K.source.div.dispatchEvent(a)}),z.on("textlayerrendered",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:K.pageNumber}),K.source.textLayerDiv.dispatchEvent(a)}),z.on("pagechanging",K=>{const a=document.createEvent("UIEvents");a.initEvent("pagechanging",!0,!0),a.pageNumber=K.pageNumber,K.source.container.dispatchEvent(a)}),z.on("pagesinit",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagesinit",!0,!0,null),K.source.container.dispatchEvent(a)}),z.on("pagesloaded",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagesloaded",!0,!0,{pagesCount:K.pagesCount}),K.source.container.dispatchEvent(a)}),z.on("scalechange",K=>{const a=document.createEvent("UIEvents");a.initEvent("scalechange",!0,!0),a.scale=K.scale,a.presetValue=K.presetValue,K.source.container.dispatchEvent(a)}),z.on("updateviewarea",K=>{const a=document.createEvent("UIEvents");a.initEvent("updateviewarea",!0,!0),a.location=K.location,K.source.container.dispatchEvent(a)}),z.on("find",K=>{if(K.source===window)return;const a=document.createEvent("CustomEvent");a.initCustomEvent("find"+K.type,!0,!0,{query:K.query,phraseSearch:K.phraseSearch,caseSensitive:K.caseSensitive,highlightAll:K.highlightAll,findPrevious:K.findPrevious}),window.dispatchEvent(a)}),z.on("attachmentsloaded",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:K.attachmentsCount}),K.source.container.dispatchEvent(a)}),z.on("sidebarviewchanged",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("sidebarviewchanged",!0,!0,{view:K.view}),K.source.outerContainer.dispatchEvent(a)}),z.on("pagemode",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagemode",!0,!0,{mode:K.mode}),K.source.pdfViewer.container.dispatchEvent(a)}),z.on("namedaction",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("namedaction",!0,!0,{action:K.action}),K.source.pdfViewer.container.dispatchEvent(a)}),z.on("presentationmodechanged",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("presentationmodechanged",!0,!0,{active:K.active,switchInProgress:K.switchInProgress}),window.dispatchEvent(a)}),z.on("outlineloaded",K=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("outlineloaded",!0,!0,{outlineCount:K.outlineCount}),K.source.container.dispatchEvent(a)})}(K),K};function Qe(z,K,a){z[K]=a}function he(){return"undefined"==typeof window}var ye;he()||Qe(Te,"verbosity",Te.VerbosityLevel.ERRORS);var ve=(()=>{return(z=ve||(ve={}))[z.DISABLED=0]="DISABLED",z[z.ENABLED=1]="ENABLED",z[z.ENHANCED=2]="ENHANCED",ve;var z})();let ue=ye=class{constructor(K){if(this.element=K,this.isVisible=!1,this._cMapsUrl=void 0!==Te?`https://unpkg.com/pdfjs-dist@${Te.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=ve.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),he())return;let a;a=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Te.version}/es5/build/pdf.worker.js`,Qe(Te.GlobalWorkerOptions,"workerSrc",a)}set cMapsUrl(K){this._cMapsUrl=K}set page(K){const a=K=parseInt(K,10)||1;this._pdf&&(K=this.getValidPageNumber(K)),this._page=K,a!==K&&this.pageChange.emit(K)}set renderText(K){this._renderText=K}set renderTextMode(K){this._renderTextMode=K}set originalSize(K){this._originalSize=K}set showAll(K){this._showAll=K}set stickToPage(K){this._stickToPage=K}set zoom(K){K<=0||(this._zoom=K)}get zoom(){return this._zoom}set zoomScale(K){this._zoomScale=K}get zoomScale(){return this._zoomScale}set rotation(K){"number"==typeof K&&K%90==0?this._rotation=K:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(K){this._externalLinkTarget=K}set autoresize(K){this._canAutoResize=Boolean(K)}set fitToPage(K){this._fitToPage=Boolean(K)}set showBorders(K){this._showBorders=Boolean(K)}static getLinkTarget(K){switch(K){case"blank":return Te.LinkTarget.BLANK;case"none":return Te.LinkTarget.NONE;case"self":return Te.LinkTarget.SELF;case"parent":return Te.LinkTarget.PARENT;case"top":return Te.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const K=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=K?!1===this.isVisible&&null!=K&&(this.isVisible=!0,setTimeout(()=>{this.ngOnInit(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){!he()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}ngOnDestroy(){this.clear()}onPageResize(){!this._canAutoResize||!this._pdf||(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.updateSize()},100))}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(K){if(!he()&&this.isVisible)if("src"in K)this.loadPDF();else if(this._pdf){if("renderText"in K?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:ve.DISABLED,this.resetPdfDocument()):"showAll"in K&&this.resetPdfDocument(),"page"in K){const{page:a}=K;if(a.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const K=this.getCurrentViewer();this._pdf.getPage(K.currentPageNumber).then(a=>{const C=this._rotation||a.rotate,B=a.getViewport({scale:this._zoom,rotation:C}).width*ye.CSS_UNITS;let oe=this._zoom,Ce=!0;if(!this._originalSize||this._fitToPage&&B>this.pdfViewerContainer.nativeElement.clientWidth){const Ve=a.getViewport({scale:1,rotation:C});oe=this.getScale(Ve.width,Ve.height),Ce=!this._stickToPage}K._setScale(oe,Ce)})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const K={},a=ye.getLinkTarget(this._externalLinkTarget);return a&&(K.externalLinkTarget=a),K}setupMultiPageViewer(){Qe(Te,"disableTextLayer",!this._renderText);const K=et(Pe);K.on("pagerendered",C=>{this.pageRendered.emit(C)}),K.on("pagesinit",C=>{this.pageInitialized.emit(C)}),K.on("pagechanging",C=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=setTimeout(()=>{this._latestScrolledPage=C.pageNumber,this.pageChange.emit(C.pageNumber)},100)}),K.on("textlayerrendered",C=>{this.textLayerRendered.emit(C)}),this.pdfMultiPageLinkService=new Pe.PDFLinkService(Object.assign({eventBus:K},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new Pe.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:K});const a={eventBus:K,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:ve.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new Pe.PDFViewer(a),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){Qe(Te,"disableTextLayer",!this._renderText);const K=et(Pe);K.on("pagechanging",C=>{C.pageNumber!==this._page&&(this.page=C.pageNumber)}),K.on("pagerendered",C=>{this.pageRendered.emit(C)}),K.on("pagesinit",C=>{this.pageInitialized.emit(C)}),K.on("textlayerrendered",C=>{this.textLayerRendered.emit(C)}),this.pdfSinglePageLinkService=new Pe.PDFLinkService(Object.assign({eventBus:K},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new Pe.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:K});const a={eventBus:K,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:ve.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new Pe.PDFSinglePageViewer(a),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(K){return K<1?1:K>this._pdf.numPages?this._pdf.numPages:K}getDocumentParams(){const K=typeof this.src;if(!this._cMapsUrl)return this.src;const a={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===K?a.url=this.src:"object"===K&&(void 0!==this.src.byteLength?a.data=this.src:Object.assign(a,this.src)),a}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=(0,Te.getDocument)(this.getDocumentParams()),this.loadingTask.onProgress=a=>{this.onProgress.emit(a)};const K=this.src;this.loadingTask.promise.then(a=>{this._pdf=a,this.lastLoaded=K,this.afterLoadComplete.emit(a),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},a=>{this.onError.emit(a)})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const K=this.getCurrentViewer();(0!==this._rotation||K.pagesRotation!==this._rotation)&&setTimeout(()=>{K.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{K.currentPageNumber=this._page}),this.updateSize()}getScale(K,a){const C=this._showBorders?2*ye.BORDER_WIDTH:0,B=this.pdfViewerContainer.nativeElement.clientWidth-C,oe=this.pdfViewerContainer.nativeElement.clientHeight-C;if(0===oe||0===a||0===B||0===K)return 1;let Ce=1;switch(this._zoomScale){case"page-fit":Ce=Math.min(oe/a,B/K);break;case"page-height":Ce=oe/a;break;default:Ce=B/K}return this._zoom*Ce/ye.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}};ue.\u0275fac=function(K){return new(K||ue)(e.Y36(e.SBq))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["pdf-viewer"]],viewQuery:function(K,a){if(1&K&&e.Gf(ze,5),2&K){let C;e.iGM(C=e.CRH())&&(a.pdfViewerContainer=C.first)}},hostBindings:function(K,a){1&K&&e.NdJ("resize",function(){return a.onPageResize()},!1,e.Jf7)},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(K,a){1&K&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),ue.CSS_UNITS=96/72,ue.BORDER_WIDTH=9,ue.ctorParameters=()=>[{type:e.SBq}],k([(0,e.i9L)("pdfViewerContainer")],ue.prototype,"pdfViewerContainer",void 0),k([(0,e.r_U)("after-load-complete")],ue.prototype,"afterLoadComplete",void 0),k([(0,e.r_U)("page-rendered")],ue.prototype,"pageRendered",void 0),k([(0,e.r_U)("pages-initialized")],ue.prototype,"pageInitialized",void 0),k([(0,e.r_U)("text-layer-rendered")],ue.prototype,"textLayerRendered",void 0),k([(0,e.r_U)("error")],ue.prototype,"onError",void 0),k([(0,e.r_U)("on-progress")],ue.prototype,"onProgress",void 0),k([(0,e.r_U)()],ue.prototype,"pageChange",void 0),k([(0,e.IIB)()],ue.prototype,"src",void 0),k([(0,e.IIB)("c-maps-url")],ue.prototype,"cMapsUrl",null),k([(0,e.IIB)("page")],ue.prototype,"page",null),k([(0,e.IIB)("render-text")],ue.prototype,"renderText",null),k([(0,e.IIB)("render-text-mode")],ue.prototype,"renderTextMode",null),k([(0,e.IIB)("original-size")],ue.prototype,"originalSize",null),k([(0,e.IIB)("show-all")],ue.prototype,"showAll",null),k([(0,e.IIB)("stick-to-page")],ue.prototype,"stickToPage",null),k([(0,e.IIB)("zoom")],ue.prototype,"zoom",null),k([(0,e.IIB)("zoom-scale")],ue.prototype,"zoomScale",null),k([(0,e.IIB)("rotation")],ue.prototype,"rotation",null),k([(0,e.IIB)("external-link-target")],ue.prototype,"externalLinkTarget",null),k([(0,e.IIB)("autoresize")],ue.prototype,"autoresize",null),k([(0,e.IIB)("fit-to-page")],ue.prototype,"fitToPage",null),k([(0,e.IIB)("show-borders")],ue.prototype,"showBorders",null),k([(0,e.L6J)("window:resize",[])],ue.prototype,"onPageResize",null);let pe=(()=>{let z=class{};return z.\u0275fac=function(a){return new(a||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({}),z})();var Se=t(44788),Ie=t(55329),Re=t(30480),ke=t(63654),Fe=t(57674);function Ne(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-edit",13),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().onEdit()}),e.qZA()}}function Ge(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-save",14),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().onSave()}),e.qZA()}if(2&z){const a=e.oxw();e.Q6J("loading",a.loading)}}function $e(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-base",15),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().downloadCertification()}),e._uU(1,"T\u1ea3i file minh ch\u1ee9ng "),e.qZA()}}function it(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-confirm",13),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().accept()}),e._uU(1,"X\xe1c nh\u1eadn"),e.qZA()}}function at(z,K){1&z&&(e.TgZ(0,"span",16),e._UZ(1,"i",17),e._uU(2," \u0110\xe3 duy\u1ec7t"),e.qZA())}const me=function(z,K){return{"max-height":z,"max-width":K}};function we(z,K){if(1&z&&(e.TgZ(0,"div",38,39),e._UZ(2,"img",40,41),e.qZA()),2&z){const a=e.MAs(1),C=e.oxw(2);e.xp6(2),e.Q6J("ngStyle",e.WLB(2,me,a.offsetWidth-20+"px",a.offsetWidth-20+"px"))("nzSrc",C.baseUrl+"/"+C.pathToUploadFile)}}function fe(z,K){if(1&z&&(e.TgZ(0,"div",38,39),e._UZ(2,"pdf-viewer",42),e.qZA()),2&z){const a=e.oxw(2);e.xp6(2),e.Q6J("src",a.baseUrl+"/"+a.pathToUploadFile)("render-text",!0)("fit-to-page",!0)}}function be(z,K){if(1&z&&(e.TgZ(0,"div",43),e.TgZ(1,"div",44),e.TgZ(2,"div",45),e.TgZ(3,"nz-upload",46),e.TgZ(4,"nz-avatar",47),e._uU(5,"> "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",48),e.TgZ(7,"span",49),e._uU(8),e.ALo(9,"uppercase"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"span"),e._uU(12,"S\u1ed1 CCHN: "),e.TgZ(13,"strong"),e._uU(14),e.qZA(),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"span"),e._uU(17,"N\u0103m c\u1ea5p: "),e.TgZ(18,"strong"),e._uU(19),e.ALo(20,"date"),e.qZA(),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"span"),e._uU(23,"Khoa/ph\xf2ng: "),e.TgZ(24,"strong"),e._uU(25),e.qZA(),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"span"),e._uU(28,"Ch\u1ee9c v\u1ee5: "),e.TgZ(29,"strong"),e._uU(30),e.qZA(),e.qZA(),e._UZ(31,"br"),e.qZA(),e.qZA()),2&z){const a=e.oxw(2);e.xp6(3),e.Q6J("nzShowUploadList",!1),e.xp6(1),e.s9C("nzSrc",a.user.avatarUrl?a.avatarPath+"/"+a.user.avatarUrl:""),e.Q6J("nzSize",120),e.xp6(4),e.Oqu(e.lcZ(9,8,a.user.fullname)),e.xp6(6),e.Oqu(a.user.certificateNumber),e.xp6(5),e.Oqu(e.xi3(20,10,a.user.issueDate,"dd/MM/yyyy")),e.xp6(6),e.Oqu(null==a.user.department?null:a.user.department.name),e.xp6(5),e.Oqu(null==a.user.title?null:a.user.title.name)}}function Ze(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"nz-alert",50),e.NdJ("click",function(){const oe=e.CHM(a).$implicit;return e.oxw(2).showDetailDuplicate(oe.id)}),e.ALo(1,"date"),e.ALo(2,"date"),e.qZA()}if(2&z){const a=K.$implicit;e.FAE("nzMessage","\u0110\xe3 t\u1ed3n t\u1ea1i ",null==a.trainingForm?null:a.trainingForm.name,": ",a.name," (t\u1eeb ng\xe0y: ",e.xi3(1,4,a.fromDate,"dd/MM/yyyy")," - \u0111\u1ebfn ng\xe0y ",e.xi3(2,7,a.toDate,"dd/MM/yyyy"),")")}}function je(z,K){if(1&z&&(e.TgZ(0,"div",22),e.TgZ(1,"div",23),e._UZ(2,"nz-alert",51),e.qZA(),e.qZA()),2&z){const a=e.oxw(2);e.xp6(2),e.MGl("nzMessage","\u0110\xe3 h\u1ee7y v\xec: ",a.getReason(),"")}}function nt(z,K){if(1&z&&(e.ynx(0,52),e.TgZ(1,"div",27),e.TgZ(2,"div",28),e._UZ(3,"app-autocomplete-training-program-subject",53),e.qZA(),e.qZA(),e.TgZ(4,"div",27),e.TgZ(5,"div",28),e._UZ(6,"app-input",54),e.qZA(),e.qZA(),e.BQk()),2&z){const a=K.index,C=e.oxw(2);e.Q6J("formGroupName",a),e.xp6(3),e.Q6J("span",4)("listData",C.listSubject),e.xp6(3),e.Q6J("span",4)}}function tt(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"div",18),e.YNc(1,we,4,5,"div",19),e.YNc(2,fe,3,3,"div",19),e.TgZ(3,"div",20),e.YNc(4,be,32,13,"div",21),e._UZ(5,"nz-divider"),e.TgZ(6,"div",22),e.TgZ(7,"div",23),e.YNc(8,Ze,3,10,"nz-alert",24),e.qZA(),e.qZA(),e.YNc(9,je,3,1,"div",25),e.TgZ(10,"form",26),e.NdJ("keydown.enter",function(B){return B.preventDefault()}),e.TgZ(11,"div",27),e.TgZ(12,"div",28),e.TgZ(13,"app-select-training-form",29),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw().onTrainingFormChange(B)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",27),e.TgZ(15,"div",28),e._UZ(16,"app-input",30),e.qZA(),e.qZA(),e.TgZ(17,"div",27),e.TgZ(18,"div",28),e._UZ(19,"app-input",31),e.qZA(),e.qZA(),e.TgZ(20,"div",27),e.TgZ(21,"div",28),e._UZ(22,"app-input",32),e.qZA(),e.qZA(),e.TgZ(23,"form",33),e.YNc(24,nt,7,4,"ng-container",34),e.qZA(),e.TgZ(25,"div",27),e.TgZ(26,"div",28),e._UZ(27,"app-autocomplete-organization",35),e.qZA(),e.qZA(),e.TgZ(28,"div",27),e.TgZ(29,"div",28),e._UZ(30,"app-input",36),e.qZA(),e.qZA(),e.TgZ(31,"div",27),e.TgZ(32,"div",28),e._UZ(33,"app-input",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.oxw();e.xp6(1),e.Q6J("ngIf","image"==a.fileType),e.xp6(1),e.Q6J("ngIf","pdf"==a.fileType),e.xp6(1),e.Q6J("ngClass","none"!=a.fileType?"col-md-5":"col-md-12"),e.xp6(1),e.Q6J("ngIf",a.user),e.xp6(4),e.Q6J("ngForOf",a.duplicateData),e.xp6(1),e.Q6J("ngIf","cancel"==a.form.value.status),e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("span",4),e.xp6(3),e.Q6J("span",4),e.xp6(3),e.Q6J("span",4),e.xp6(3),e.Q6J("span",4),e.xp6(2),e.Q6J("ngForOf",a.trainingProgram_Users.controls),e.xp6(3),e.Q6J("span",4),e.xp6(3),e.Q6J("span",4),e.xp6(3),e.Q6J("span",4)}}const st=function(){return{minRows:3,maxRows:5}};function _t(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"textarea",55),e.NdJ("ngModelChange",function(B){return e.CHM(a),e.oxw().reason=B}),e.qZA(),e.BQk()}if(2&z){const a=e.oxw();e.xp6(1),e.Q6J("nzAutosize",e.DdM(2,st))("ngModel",a.reason)}}function Pt(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"button",56),e.NdJ("click",function(){return e.CHM(a),e.oxw().visibleCancelModal=!1}),e._uU(2,"H\u1ee7y b\u1ecf"),e.qZA(),e.TgZ(3,"button",57),e.NdJ("click",function(){e.CHM(a);const B=e.oxw();return B.cancelAccept(B.reason)}),e._uU(4,"X\xe1c nh\u1eadn"),e.qZA(),e.BQk()}if(2&z){const a=e.oxw();e.xp6(3),e.Q6J("disabled",!a.reason||0==(null==a.reason?null:a.reason.length))("nzLoading",a.isConfirmLoading)}}let Tt=(()=>{class z extends O.l{constructor(a,C,B,oe){super(a),this.trainingProgramService=C,this.userService=B,this.activatedRoute=oe,this.firstLoad=!0,this.listSubject=[],this.visibleCancelModal=!1}ngOnInit(){this.form=this.formBuilder.group({trainingFormId:[null,R.kI.required],name:[null,R.kI.required],code:[null],fromDate:[null],toDate:[null,R.kI.required],organizationId:[null],organizationInput:[null],address:[null],note:[null],status:[null],metaDataObject:this.formBuilder.group({trainingSubjects:this.formBuilder.array([])}),trainingProgram_Users:this.formBuilder.array([])}),this.chooseForm=this.formBuilder.group({chooseDepartmentId:[null],removeDepartmentId:[null],trainingSubject:[null],selectedUserId:[null]}),this.isModal||(this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.pathToUploadFile=this.activatedRoute.snapshot.paramMap.get("pathToUploadFile"),this.userId=this.activatedRoute.snapshot.paramMap.get("userId")),this.fetchData()}fetchData(){this.fetchUserById(),this.fetchDetail()}get avatarPath(){return N.I}fetchUserById(){this.userService.getById(this.userId).toPromise().then(a=>{a&&a.success?this.user=a.data:this.message.error("L\u1ed7i: "+a.message)})}fetchDetail(){this.trainingProgramService.getById(this.id).toPromise().then(a=>{a&&a.success?(this.form.patchValue(a.data),a.data.metaDataObject.trainingSubjects.forEach(C=>{this.addTrainingSubjectRow(C)}),a.data.trainingProgram_Users.forEach(C=>{C.active||this.checkDuplicateById(),this.addTrainingProgram_UserRow({userId:C.userId,title:C.user.title,department:C.user.department,fullname:C.user.fullname,certificateNumber:C.user.certificateNumber,trainingSubjectName:C.trainingSubjectName,amount:C.amount,active:C.active,pathToUploadFile:C.pathToUploadFile,note:C.note})}),this.isEdit||this.form.disable()):this.message.error("L\u1ed7i: "+a.message)})}checkDuplicateById(){this.trainingProgramService.checkDuplicateById(this.id).toPromise().then(a=>{a&&a.success?this.duplicateData=a.data[this.userId]:this.message.error("L\u1ed7i: "+a.message)})}onEdit(){this.isEdit=!0,this.form.enable(),this.trainingProgram_Users.controls.forEach(a=>{a.controls.fullname.disable(),a.controls.certificateNumber.disable(),a.controls.titleName.disable(),a.controls.departmentName.disable()})}showDetailDuplicate(a){window.open(`#/training-program/external/detail;id=${a};pathToUploadFile=${this.pathToUploadFile};userId=${this.userId}`,"_blank")}onCancel(){this.isModal?this.modal.destroy():this.router.navigate(["/training-program/external"])}get trainingSubjects(){return this.form.get("metaDataObject.trainingSubjects")}addTrainingSubjectRow(a){this.trainingSubjects.push(this.createTrainingSubjectItem(a))}deleteTrainingSubjectRow(a){this.trainingSubjects.removeAt(a)}createTrainingSubjectItem(a){return this.formBuilder.group({name:[a?a.name:null,[R.kI.required]],code:[a?a.code:null],order:[a?a.order:null],amount:[a?a.amount:null,[R.kI.required]]})}get trainingProgram_Users(){return this.form.controls.trainingProgram_Users}addTrainingProgram_UserRow(a){this.trainingProgram_Users.push(this.createTrainingProgram_UserItem(a))}deleteTrainingProgram_UserRow(a){this.trainingProgram_Users.removeAt(a)}createTrainingProgram_UserItem(a){return this.formBuilder.group({userId:[a?a.userId:null,[R.kI.required]],fullname:[{value:a?a.fullname:null,disabled:!0}],certificateNumber:[{value:a?a.certificateNumber:null,disabled:!0}],titleName:[{value:a&&a.title?a.title.name:null,disabled:!0}],departmentName:[{value:a&&a.department?a.department.name:null,disabled:!0}],trainingSubjectName:[a?a.trainingSubjectName:null],pathToUploadFile:[a?a.pathToUploadFile:null,[R.kI.required]],amount:[a?a.amount:null,[R.kI.required]],active:[!!a&&a.active],note:[a?a.note:null],hidden:[null]})}downloadCertification(){if("image"==this.fileType){var a=document.createElement("a");return a.target="_blank",a.href=W.N.BASE_API_URL+"/"+this.pathToUploadFile,void a.click()}this.trainingProgramService.downloadUploadCertificate(this.pathToUploadFile).subscribe(C=>{const B=this.pathToUploadFile.split('"'),oe=B[B.length-1].toLowerCase();(0,I.Sv)(C,oe)},C=>{this.message.error("L\u1ed7i: "+C.message)})}beforeChange(){this.form.enable(),this.isEdit=!0;for(const a in this.form.controls)this.form.controls[a].markAsDirty(),this.form.controls[a].updateValueAndValidity();for(const a in this.trainingSubjects.controls){const C=this.trainingSubjects.controls[a];for(const B in C.controls)C.controls[B].markAsDirty(),C.controls[B].updateValueAndValidity()}for(const a in this.trainingProgram_Users.controls){const C=this.trainingProgram_Users.controls[a];for(const B in C.controls)C.controls[B].markAsDirty(),C.controls[B].updateValueAndValidity()}}accept(){this.beforeChange(),this.form.valid&&(this.form.controls.status.setValue("done"),this.trainingProgram_Users.at(0).controls.active.setValue(!0),this.onSave())}cancelAccept(a){this.beforeChange(),this.form.valid&&(this.form.controls.status.setValue("cancel"),this.trainingProgram_Users.at(0).controls.active.setValue(!1),this.trainingProgram_Users.at(0).controls.note.setValue(a),this.onSave())}onSave(){this.form.valid?(this.loading=!0,this.trainingProgramService.update(this.id,this.form.value).toPromise().then(a=>{this.loading=!1,a&&a.success?(this.message.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),this.trainingProgramService.getNumberOfWaitingRequest().subscribe(),this.isModal?this.modal.destroy({return:a}):(this.isEdit=!1,this.form.disable())):this.message.error("L\u1ed7i: "+a.message)})):this.message.error("Ki\u1ec3m tra l\u1ea1i d\u1eef li\u1ec7u nh\u1eadp")}get internalOrganizationId(){return W.N.INTERNAL_ORGANIZATION_ID}onTrainingFormChange(a){if(this.firstLoad)this.firstLoad=!1;else{for(this.listSubject=a.trainingSubjects;this.trainingSubjects.length;)this.trainingSubjects.removeAt(0);a&&a.trainingSubjects&&a.trainingSubjects.forEach(C=>{this.addTrainingSubjectRow(C)})}}onChangeTrainingSubject(a,C){this.trainingProgram_Users.at(C).controls.amount.setValue(a.amount)}activeUser(a){let C=this.trainingProgram_Users.at(a);C.controls.active.setValue(!C.value.active)}onChooseDepartment(a){!a||(this.chooseForm.controls.chooseDepartmentId.reset(),this.userTableLoading=!0,this.userService.getList(1,1e4,"+FirstName","{}",null,a.id).toPromise().then(C=>{if(C&&C.success){const B=this.trainingProgram_Users.getRawValue();C.data.content.forEach(Ce=>{if(!B.find(He=>He.userId==Ce.id)){let He=Ce;He.userId=Ce.id,He.titleName=Ce.title.name,He.departmentName=Ce.department.name,He.active=!1,this.addTrainingProgram_UserRow(He)}})}else this.message.error("L\u1ed7i: "+C.message);this.userTableLoading=!1}))}onRemoveDepartment(a){!a||this.chooseForm.controls.removeDepartmentId.reset()}onChooseTrainingSubject(a){if(a){this.chooseForm.controls.trainingSubject.reset();for(const C in this.trainingProgram_Users.controls)this.trainingProgram_Users.controls[C].controls.trainingSubjectName.setValue(a.name)}}deleteAll(){for(;0!==this.trainingProgram_Users.length;)this.trainingProgram_Users.removeAt(0)}onAddUser(a){a&&(this.chooseForm.controls.selectedUserId.reset(),this.trainingProgram_Users.getRawValue().find(oe=>oe.userId==a.id)?this.message.error(a.fullname+" - "+a.certificateNumber+" \u0111\xe3 t\u1ed3n t\u1ea1i trong danh s\xe1ch"):(a.userId=a.id,a.titleName=a.title?a.title.name:"",a.departmentName=a.department?a.department.name:"",a.active=!0,this.addTrainingProgram_UserRow(a)))}onSearchUser(a){this.userTableLoading=!0;for(const C in this.trainingProgram_Users.controls){const B=this.trainingProgram_Users.controls[C],oe=B.getRawValue();if(a.length>0){let Ce=!0;a.forEach(Ve=>{oe.fullname.toLowerCase().includes(Ve.toLowerCase())||oe.certificateNumber.toLowerCase().includes(Ve.toLowerCase())||oe.titleName.toLowerCase().includes(Ve.toLowerCase())||oe.departmentName.toLowerCase().includes(Ve.toLowerCase())||(Ce=!1)}),B.controls.hidden.setValue(!Ce)}else B.controls.hidden.setValue(!1)}this.userTableLoading=!1}get baseUrl(){return W.N.BASE_FILE_URL}get fileType(){const a=this.pathToUploadFile.split(".");switch(a[a.length-1].toLowerCase()){case"jpeg":case"jpg":case"png":case"tiff":return"image";case"pdf":return"pdf";default:return"none"}}getReason(){var a;return null===(a=this.trainingProgram_Users.at(0))||void 0===a?void 0:a.value.note}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(V.v),e.Y36(G.K),e.Y36(Z.gz))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-detail-external-training-program"]],inputs:{userId:"userId",pathToUploadFile:"pathToUploadFile"},features:[e.qOj],decls:17,vars:8,consts:[[1,"page-header"],[1,"d-flex","align-items-center","justify-content-between"],[3,"onClick",4,"ngIf"],[3,"loading","onClick",4,"ngIf"],[3,"popConfirm","onClick"],["iconType","download",3,"onClick",4,"ngIf"],["class","m-r-20","style","color: green",4,"ngIf"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"],["class","row m-t-10",4,"ngIf"],["nzTitle","X\xe1c nh\u1eadn h\u1ee7y b\u1ecf",3,"nzVisible","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"onClick"],[3,"loading","onClick"],["iconType","download",3,"onClick"],[1,"m-r-20",2,"color","green"],["nz-icon","","nzType","check","nzTheme","outline"],[1,"row","m-t-10"],["class","col-md-7 center",4,"ngIf"],[3,"ngClass"],["class","row m-t-30",4,"ngIf"],[1,"row","m-b-10"],[1,"col"],["nzType","warning","nzShowIcon","","style","cursor: pointer;",3,"nzMessage","click",4,"ngFor","ngForOf"],["class","row m-b-10",4,"ngIf"],[3,"formGroup","keydown.enter"],[1,"row"],[1,"col-md-12"],["formControlName","trainingFormId","required","",3,"span","onChange"],["type","textarea","labelContent","N\u1ed9i dung","formControlName","name","required","",3,"span"],["type","datepicker","labelContent","T\u1eeb ng\xe0y","formControlName","fromDate",3,"span"],["type","datepicker","labelContent","\u0110\u1ebfn ng\xe0y","formControlName","toDate","required","",3,"span"],["formArrayName","trainingProgram_Users"],[3,"formGroupName",4,"ngFor","ngForOf"],["formControlName","organizationInput",3,"span"],["type","textarea","labelContent","\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c","formControlName","address",3,"span"],["type","textarea","labelContent","Ghi ch\xfa","formControlName","note",3,"span"],[1,"col-md-7","center"],["divPreview",""],["nz-image","",3,"ngStyle","nzSrc"],["previewImage",""],[3,"src","render-text","fit-to-page"],[1,"row","m-t-30"],[1,"col-xl-4"],[1,"row","m-v-20"],["nzName","avatar",1,"center",3,"nzShowUploadList"],["nzIcon","user",3,"nzSize","nzSrc"],[1,"col-xl-8",2,"margin-top","auto","margin-bottom","auto"],[1,"font-weight-bold","font-size-20","text-highlight"],["nzType","warning","nzShowIcon","",2,"cursor","pointer",3,"nzMessage","click"],["nzType","error","nzShowIcon","",3,"nzMessage"],[3,"formGroupName"],["labelContent","\u0110\u1ed1i t\u01b0\u1ee3ng","formControlName","trainingSubjectName",3,"span","listData"],["type","number","labelContent","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i","formControlName","amount","required","",3,"span"],["nz-input","","placeholder","L\xfd do h\u1ee7y b\u1ecf","required","",3,"nzAutosize","ngModel","ngModelChange"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"disabled","nzLoading","click"]],template:function(a,C){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div"),e.YNc(3,Ne,1,0,"app-button-edit",2),e.YNc(4,Ge,1,1,"app-button-save",3),e.TgZ(5,"app-button-cancel",4),e.NdJ("onClick",function(){return C.onCancel()}),e.qZA(),e.qZA(),e.TgZ(6,"div"),e.YNc(7,$e,2,0,"app-button-base",5),e.YNc(8,it,2,0,"app-button-confirm",2),e.YNc(9,at,3,0,"span",6),e.TgZ(10,"button",7),e.NdJ("click",function(){return C.visibleCancelModal=!0}),e._UZ(11,"i",8),e._uU(12," H\u1ee7y x\xe1c nh\u1eadn"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(13,tt,34,15,"div",9),e.TgZ(14,"nz-modal",10),e.NdJ("nzVisibleChange",function(oe){return C.visibleCancelModal=oe})("nzOnCancel",function(){return C.visibleCancelModal=!1}),e.YNc(15,_t,2,3,"ng-container",11),e.YNc(16,Pt,5,2,"ng-container",12),e.qZA()),2&a&&(e.xp6(3),e.Q6J("ngIf",!C.isEdit),e.xp6(1),e.Q6J("ngIf",C.isEdit),e.xp6(1),e.Q6J("popConfirm",!!C.isEdit),e.xp6(2),e.Q6J("ngIf",C.pathToUploadFile),e.xp6(1),e.Q6J("ngIf","done"!==C.form.value.status),e.xp6(1),e.Q6J("ngIf","done"==C.form.value.status),e.xp6(4),e.Q6J("ngIf",C.pathToUploadFile),e.xp6(1),e.Q6J("nzVisible",C.visibleCancelModal))},directives:[E.O5,T.x,h.ix,_.dQ,c.w,l.Ls,n.du,n.Hf,n.Uh,i.D,u.U,f.f,m.i,E.mk,x.g,E.sg,R._Y,R.JL,R.sg,S.g,R.JJ,R.u,R.Q7,D.a,R.F,R.CE,H.T,q.Ie,E.PC,ue,Se.FY,Ie.Dz,Re.r,R.x0,ke.P,Fe.Zp,Fe.rh,R.Fj,R.On],pipes:[E.gd,E.uU],styles:[""]}),z})();var At=t(84828),gt=t(17018),pt=t(31136),Je=t(31618),Rt=t(46078),wt=t(80269),Ct=t(64762),$t=t(97013),Gt=t(26215),le=t(12132),Ee=t(80372),xe=t(54395),Le=t(19493),De=t(4079);function Ke(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-create",5),e.NdJ("onClick",function(){return e.CHM(a),e.oxw(2).goToCreate()}),e.qZA()}}function We(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"app-button-base",3),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().goToList()}),e._uU(2,"T\xecm ki\u1ebfm"),e.qZA(),e.YNc(3,Ke,1,0,"app-button-create",4),e.qZA()}if(2&z){const a=e.oxw();e.xp6(3),e.Q6J("ngIf",a.isSuperAdmin)}}const ot=function(){return["fullname","department.name","birthDate"]};let ut=(()=>{class z extends $t.H{constructor(a,C,B,oe){super(a),this.ngControl=C,this.modalService=B,this.userService=oe,this.labelContent="C\xe1n b\u1ed9",this.span=4,this.required=!1,this.labelHorizontal=!0,this.onChange=new e.vpe,this.listData=[],this.loading=!1,this.searchChange$=new Gt.X(""),this.listTextSearch=[],null!=this.ngControl&&(this.ngControl.valueAccessor=this)}ngOnInit(){this.initSearch()}writeValue(a){}registerOnChange(a){}registerOnTouched(a){}setDisabledState(a){}handleChange(a){this.onChange.emit(a)}fetchList(){const C=JSON.stringify({ListTextSearch:this.listTextSearch});this.userService.getList(1,20,"+FirstName",C).toPromise().then(B=>{this.loading=!1,B&&B.success?this.listData=B.data.content:this.message.error(B.message)})}goToList(){this.modalService.openListModal(Ee.D).afterClose.toPromise().then(C=>(0,Ct.mG)(this,void 0,void 0,function*(){C&&this.ngControl.control.setValue(C.id)}))}goToCreate(){this.modalService.openCreateModal(le.L).afterClose.toPromise().then(C=>(0,Ct.mG)(this,void 0,void 0,function*(){C&&(this.listData=[...this.listData,C],this.ngControl.control.setValue(C.id),this.onChange.emit(C))}))}initSearch(){this.searchChange$.asObservable().pipe((0,xe.b)(500)).subscribe(C=>{this.listTextSearch=[C],this.fetchList()})}onSearch(a){this.searchChange$.next(a)}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(R.a5,10),e.Y36(Le.Z),e.Y36(G.K))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-select-user"]],inputs:{labelContent:"labelContent",span:"span",required:"required",labelHorizontal:"labelHorizontal",placeholder:"placeholder"},outputs:{onChange:"onChange"},features:[e.qOj],decls:3,vars:11,consts:[["type","select",3,"labelField","labelHorizontal","placeholder","selectData","span","labelContent","formControl","required","footerSelectTemplate","loading","onChange","onSearch"],["footer",""],[1,"container","m-5"],["iconType","search",3,"onClick"],[3,"onClick",4,"ngIf"],[3,"onClick"]],template:function(a,C){if(1&a&&(e.TgZ(0,"app-input",0),e.NdJ("onChange",function(oe){return C.handleChange(oe)})("onSearch",function(oe){return C.onSearch(oe)}),e.qZA(),e.YNc(1,We,4,1,"ng-template",null,1,e.W1O)),2&a){const B=e.MAs(2);e.Q6J("labelField",e.DdM(10,ot))("labelHorizontal",C.labelHorizontal)("placeholder",C.placeholder)("selectData",C.listData)("span",C.span)("labelContent",C.labelContent)("formControl",C.ngControl.control)("required",C.required)("footerSelectTemplate",B)("loading",C.loading)}},directives:[D.a,R.JJ,R.oH,R.Q7,f.f,E.O5,De.E],styles:[""]}),z})();var ht=t(52496),yt=t(21454),Oe=t(72544),ct=t(52079);function St(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-edit",10),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().onEdit()}),e.qZA()}}function Wt(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-save",11),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().onSave()}),e.qZA()}if(2&z){const a=e.oxw();e.Q6J("loading",a.loading)}}function en(z,K){1&z&&e.GkF(0)}function Ut(z,K){1&z&&e.GkF(0)}function zt(z,K){1&z&&e._UZ(0,"th",34)}function tn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",36),e.TgZ(1,"app-circle-button-delete",10),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw().index;return e.oxw(2).deleteTrainingSubjectRow(B)}),e.qZA(),e.qZA()}}function Ot(z,K){if(1&z&&(e.TgZ(0,"tr",35),e.TgZ(1,"td",36),e._uU(2),e._UZ(3,"app-input",37),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"app-input",38),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"app-input",39),e.qZA(),e.YNc(8,tn,2,0,"td",40),e.qZA()),2&z){const a=K.index,C=e.oxw(2);e.Q6J("formGroupName",a),e.xp6(2),e.hij(" ",a+1," "),e.xp6(1),e.Q6J("hidden",!0)("ngModel",a+1),e.xp6(5),e.Q6J("ngIf",C.isEdit)}}function Vt(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){return e.CHM(a),e.oxw(3).addTrainingSubjectRow()}),e._UZ(1,"i",43),e._uU(2," Th\xeam m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng"),e.qZA()}}function nn(z,K){if(1&z&&e.YNc(0,Vt,3,0,"button",41),2&z){const a=e.oxw(2);e.Q6J("ngIf",a.isEdit)}}function On(z,K){}function ar(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"form",12),e.NdJ("keydown.enter",function(B){return B.preventDefault()}),e.TgZ(1,"nz-card",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"app-select-training-form",16),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw().onTrainingFormChange(B)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",14),e.TgZ(6,"div",15),e._UZ(7,"app-input",17),e.qZA(),e.qZA(),e.TgZ(8,"div",14),e.TgZ(9,"div",18),e._UZ(10,"app-input",19),e.qZA(),e.TgZ(11,"div",18),e._UZ(12,"app-input",20),e.qZA(),e.qZA(),e.TgZ(13,"div",14),e.TgZ(14,"div",15),e._UZ(15,"app-select-organization",21),e.qZA(),e.qZA(),e.TgZ(16,"div",14),e.TgZ(17,"div",18),e._UZ(18,"app-input",22),e.qZA(),e.TgZ(19,"div",18),e._UZ(20,"app-input",23),e.qZA(),e.qZA(),e._UZ(21,"div",14),e.qZA(),e.TgZ(22,"nz-card",24),e.TgZ(23,"div",25),e.TgZ(24,"nz-table",26),e.TgZ(25,"thead"),e.TgZ(26,"tr"),e.TgZ(27,"th",27),e._uU(28,"STT"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"\u0110\u1ed1i t\u01b0\u1ee3ng"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),e.qZA(),e.YNc(33,zt,1,0,"th",28),e.qZA(),e.qZA(),e.TgZ(34,"tbody",29),e.YNc(35,Ot,9,5,"tr",30),e.qZA(),e.qZA(),e.YNc(36,nn,1,1,"ng-template",null,31,e.W1O),e.YNc(38,On,0,0,"ng-template",32,33,e.W1O),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.MAs(37),C=e.MAs(39),B=e.oxw();e.Q6J("formGroup",B.form),e.xp6(4),e.Q6J("span",2),e.xp6(3),e.Q6J("span",2),e.xp6(8),e.Q6J("span",2),e.xp6(9),e.Q6J("nzShowPagination",!1)("nzNoResult",C)("nzFooter",a),e.xp6(9),e.Q6J("ngIf",B.isEdit),e.xp6(2),e.Q6J("ngForOf",B.trainingSubjects.controls)}}function An(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"form",50),e.TgZ(1,"div",14),e.TgZ(2,"app-select-department",61),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(3).onChooseDepartment(B)}),e.qZA(),e.qZA(),e.TgZ(3,"div",14),e.TgZ(4,"app-input",62),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(3).onChooseTrainingSubject(B)}),e.qZA(),e.qZA(),e.TgZ(5,"div",14),e.TgZ(6,"app-button-delete",10),e.NdJ("onClick",function(){return e.CHM(a),e.oxw(3).deleteAll()}),e._uU(7,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.oxw(3);e.Q6J("formGroup",a.chooseForm),e.xp6(2),e.Q6J("labelHorizontal",!0)("organizationId",a.internalOrganizationId),e.xp6(2),e.Q6J("labelHorizontal",!0)("selectData",a.trainingSubjects.value)}}function ir(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"div",57),e.TgZ(1,"button",58),e.NdJ("nzPopoverVisibleChange",function(B){return e.CHM(a),e.oxw(2).visibleAdvanced=B}),e._UZ(2,"i",59),e._uU(3," Thi\u1ebft l\u1eadp "),e.qZA(),e.YNc(4,An,8,5,"ng-template",null,60,e.W1O),e.qZA()}if(2&z){const a=e.MAs(5),C=e.oxw(2);e.xp6(1),e.Q6J("nzPopoverVisible",C.visibleAdvanced)("nzPopoverContent",a)}}function Dn(z,K){1&z&&e._UZ(0,"th",34)}function rn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",36),e.TgZ(1,"app-circle-button-delete",10),e.NdJ("onClick",function(B){e.CHM(a);const oe=e.oxw().index;return e.oxw(2).deleteTrainingProgram_UserRow(oe),B.stopPropagation()}),e.qZA(),e.qZA()}}function Cn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",63),e.TgZ(1,"td",64),e.NdJ("click",function(){const oe=e.CHM(a).index,Ce=e.oxw(2);return Ce.isEdit?Ce.activeUser(oe):null}),e._UZ(2,"label",65),e.qZA(),e.TgZ(3,"td",36),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-input",66),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"app-input",67),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-input",68),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-input",69),e.qZA(),e.TgZ(13,"td",70),e.NdJ("click",function(B){return B.stopPropagation()}),e.TgZ(14,"app-input",71),e.NdJ("onChange",function(B){const Ce=e.CHM(a).index;return e.oxw(2).onChangeTrainingSubject(B,Ce)}),e.qZA(),e.qZA(),e.TgZ(15,"td",70),e.NdJ("click",function(B){return B.stopPropagation()}),e._UZ(16,"app-input",72),e.qZA(),e.YNc(17,rn,2,0,"td",40),e.qZA()}if(2&z){const a=K.$implicit,C=K.index,B=e.oxw(2);e.Q6J("formGroupName",C)("hidden",a.value.hidden),e.xp6(4),e.hij(" ",C+1," "),e.xp6(10),e.Q6J("selectData",B.trainingSubjects.value),e.xp6(3),e.Q6J("ngIf",B.isEdit)}}function Mn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"form",50),e.TgZ(1,"div",14),e.TgZ(2,"div",45),e.TgZ(3,"app-select-user",74),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(3).onAddUser(B)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.oxw(3);e.Q6J("formGroup",a.chooseForm)}}function Fn(z,K){if(1&z&&e.YNc(0,Mn,4,1,"form",73),2&z){const a=e.oxw(2);e.Q6J("ngIf",a.isEdit)}}function or(z,K){}function sr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"nz-card"),e.TgZ(1,"div",44),e.TgZ(2,"div",45),e.TgZ(3,"div",14),e.TgZ(4,"nz-select",46),e.NdJ("ngModelChange",function(B){return e.CHM(a),e.oxw().onSearchUser(B)}),e.qZA(),e.qZA(),e.TgZ(5,"div",47),e.TgZ(6,"app-select-user",48),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw().onAddUser(B,!0)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,ir,6,2,"div",49),e.qZA(),e.TgZ(8,"form",50),e.TgZ(9,"nz-table",51,52),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",53),e._uU(14,"\u0110D"),e.qZA(),e.TgZ(15,"th",53),e._uU(16,"STT"),e.qZA(),e.TgZ(17,"th",54),e._uU(18,"H\u1ecd t\xean"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"S\u1ed1 CCHN"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Khoa ph\xf2ng"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"\u0110\u1ed1i t\u01b0\u1ee3ng"),e.qZA(),e.TgZ(27,"th",34),e._uU(28,"Quy \u0111\u1ed5i"),e.qZA(),e.YNc(29,Dn,1,0,"th",28),e.qZA(),e.qZA(),e.TgZ(30,"tbody",55),e.YNc(31,Cn,18,5,"tr",56),e.qZA(),e.qZA(),e.YNc(32,Fn,1,1,"ng-template",null,31,e.W1O),e.YNc(34,or,0,0,"ng-template",32,33,e.W1O),e.qZA(),e.qZA()}if(2&z){const a=e.MAs(33),C=e.MAs(35),B=e.oxw();e.xp6(4),e.Q6J("ngModel",B.listTextSearch),e.xp6(1),e.Q6J("formGroup",B.chooseForm),e.xp6(2),e.Q6J("ngIf",B.isEdit),e.xp6(1),e.Q6J("formGroup",B.form),e.xp6(1),e.Q6J("nzNoResult",C)("nzFooter",a)("nzLoading",B.userTableLoading),e.xp6(20),e.Q6J("ngIf",B.isEdit),e.xp6(2),e.Q6J("ngForOf",B.trainingProgram_Users.controls)}}let Sn=(()=>{class z extends O.l{constructor(a,C,B){super(a),this.trainingProgramService=C,this.userService=B,this.firstLoad=!0}ngOnInit(){this.form=this.formBuilder.group({trainingFormId:[null,R.kI.required],name:[null,R.kI.required],code:[null],fromDate:[null],toDate:[null,R.kI.required],organizationId:[null],address:[null],note:[null],metaDataObject:this.formBuilder.group({trainingSubjects:this.formBuilder.array([])}),trainingProgram_Users:this.formBuilder.array([])}),this.chooseForm=this.formBuilder.group({chooseDepartmentId:[null],removeDepartmentId:[null],trainingSubject:[null],selectedUserId:[null]}),this.fetchDetail()}fetchDetail(){this.trainingProgramService.getById(this.id).toPromise().then(a=>{a&&a.success?(this.form.patchValue(a.data),a.data.metaDataObject.trainingSubjects.forEach(C=>{this.addTrainingSubjectRow(C)}),a.data.trainingProgram_Users.filter(C=>1==C.active).sort((C,B)=>{var oe,Ce;return null===(oe=C.user.department)||void 0===oe?void 0:oe.name.localeCompare(null===(Ce=B.user.department)||void 0===Ce?void 0:Ce.name)}).forEach(C=>{this.addTrainingProgram_UserRow({userId:C.userId,title:C.user.title,department:C.user.department,fullname:C.user.fullname,certificateNumber:C.user.certificateNumber,trainingSubjectName:C.trainingSubjectName,amount:C.amount,active:C.active})}),this.isEdit||this.form.disable()):this.message.error("L\u1ed7i: "+a.message)})}onEdit(){this.isEdit=!0,this.form.enable(),this.trainingProgram_Users.controls.forEach(a=>{a.controls.fullname.disable(),a.controls.certificateNumber.disable(),a.controls.titleName.disable(),a.controls.departmentName.disable()})}onCancel(){this.isModal&&this.modal.destroy()}get trainingSubjects(){return this.form.get("metaDataObject.trainingSubjects")}addTrainingSubjectRow(a){this.trainingSubjects.push(this.createTrainingSubjectItem(a))}deleteTrainingSubjectRow(a){this.trainingSubjects.removeAt(a)}createTrainingSubjectItem(a){return this.formBuilder.group({name:[a?a.name:null,[R.kI.required]],code:[a?a.code:null],order:[a?a.order:null],amount:[a?a.amount:null,[R.kI.required]]})}get trainingProgram_Users(){return this.form.controls.trainingProgram_Users}addTrainingProgram_UserRow(a,C){C?this.trainingProgram_Users.insert(0,this.createTrainingProgram_UserItem(a)):this.trainingProgram_Users.push(this.createTrainingProgram_UserItem(a))}deleteTrainingProgram_UserRow(a){this.trainingProgram_Users.removeAt(a)}createTrainingProgram_UserItem(a){return this.formBuilder.group({userId:[a?a.userId:null,[R.kI.required]],fullname:[{value:a?a.fullname:null,disabled:!0}],certificateNumber:[{value:a?a.certificateNumber:null,disabled:!0}],titleName:[{value:a&&a.title?a.title.name:null,disabled:!0}],departmentName:[{value:a&&a.department?a.department.name:null,disabled:!0}],trainingSubjectName:[a?a.trainingSubjectName:null,[R.kI.required]],amount:[a?a.amount:null,[R.kI.required]],active:[!!a&&a.active],hidden:[null]})}onSave(){for(const a in this.form.controls)this.form.controls[a].markAsDirty(),this.form.controls[a].updateValueAndValidity();for(const a in this.trainingSubjects.controls){const C=this.trainingSubjects.controls[a];for(const B in C.controls)C.controls[B].markAsDirty(),C.controls[B].updateValueAndValidity()}for(const a in this.trainingProgram_Users.controls){const C=this.trainingProgram_Users.controls[a];for(const B in C.controls)C.controls[B].markAsDirty(),C.controls[B].updateValueAndValidity()}this.form.valid?(this.loading=!0,this.trainingProgramService.update(this.id,this.form.value).toPromise().then(a=>{this.loading=!1,a&&a.success?this.isModal&&(this.message.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),this.modal.destroy({return:a})):this.message.error("L\u1ed7i: "+a.message)})):this.message.error("Ki\u1ec3m tra l\u1ea1i d\u1eef li\u1ec7u nh\u1eadp")}get internalOrganizationId(){return W.N.INTERNAL_ORGANIZATION_ID}onTrainingFormChange(a){if(this.firstLoad)this.firstLoad=!1;else{for(;this.trainingSubjects.length;)this.trainingSubjects.removeAt(0);a&&a.trainingSubjects&&a.trainingSubjects.forEach(C=>{this.addTrainingSubjectRow(C)})}}onChangeTrainingSubject(a,C){this.trainingProgram_Users.at(C).controls.amount.setValue(a.amount)}activeUser(a){let C=this.trainingProgram_Users.at(a);C.controls.active.setValue(!C.value.active)}onChooseDepartment(a){!a||(this.chooseForm.controls.chooseDepartmentId.reset(),this.userTableLoading=!0,this.userService.getList(1,1e4,"+FirstName","{}",null,a.id).toPromise().then(C=>{if(C&&C.success){const B=this.trainingProgram_Users.getRawValue();C.data.content.forEach(Ce=>{if(!B.find(He=>He.userId==Ce.id)){let He=Ce;He.userId=Ce.id,He.titleName=Ce.title.name,He.departmentName=Ce.department.name,He.active=!1,this.addTrainingProgram_UserRow(He)}})}else this.message.error("L\u1ed7i: "+C.message);this.userTableLoading=!1}))}onRemoveDepartment(a){!a||this.chooseForm.controls.removeDepartmentId.reset()}onChooseTrainingSubject(a){if(a){this.chooseForm.controls.trainingSubject.reset();for(const C in this.trainingProgram_Users.controls)this.trainingProgram_Users.controls[C].controls.trainingSubjectName.setValue(a.name)}}deleteAll(){for(;0!==this.trainingProgram_Users.length;)this.trainingProgram_Users.removeAt(0)}onAddUser(a,C=!1){a&&(this.chooseForm.controls.selectedUserId.reset(),this.trainingProgram_Users.getRawValue().find(Ce=>Ce.userId==a.id)?this.message.error(a.fullname+" - "+a.certificateNumber+" \u0111\xe3 t\u1ed3n t\u1ea1i trong danh s\xe1ch"):(a.userId=a.id,a.titleName=a.title?a.title.name:"",a.departmentName=a.department?a.department.name:"",a.active=!0,this.addTrainingProgram_UserRow(a,C)))}onSearchUser(a){this.userTableLoading=!0;for(const C in this.trainingProgram_Users.controls){const B=this.trainingProgram_Users.controls[C],oe=B.getRawValue();if(a.length>0){let Ce=!0;a.forEach(Ve=>{oe.fullname.toLowerCase().includes(Ve.toLowerCase())||oe.certificateNumber.toLowerCase().includes(Ve.toLowerCase())||oe.titleName.toLowerCase().includes(Ve.toLowerCase())||oe.departmentName.toLowerCase().includes(Ve.toLowerCase())||(Ce=!1)}),B.controls.hidden.setValue(!Ce)}else B.controls.hidden.setValue(!1)}this.userTableLoading=!1}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(V.v),e.Y36(G.K))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-detail-training-program"]],features:[e.qOj],decls:14,vars:9,consts:[[1,"page-header"],[3,"onClick",4,"ngIf"],[3,"loading","onClick",4,"ngIf"],[3,"popConfirm","onClick"],["nzType","card"],["nzTitle","Th\xf4ng tin chung"],[4,"ngTemplateOutlet"],["nzTitle","Danh s\xe1ch tham d\u1ef1",3,"nzDisabled"],["commonInfo",""],["participants",""],[3,"onClick"],[3,"loading","onClick"],[3,"formGroup","keydown.enter"],["nzTitle","Th\xf4ng tin ch\u01b0\u01a1ng tr\xecnh \u0111\xe0o t\u1ea1o"],[1,"row"],[1,"col-md-12"],["formControlName","trainingFormId","required","",3,"span","onChange"],["type","text","labelContent","N\u1ed9i dung","formControlName","name","required","",3,"span"],[1,"col-md-6"],["type","datepicker","labelContent","T\u1eeb ng\xe0y","formControlName","fromDate"],["type","datepicker","labelContent","\u0110\u1ebfn ng\xe0y","formControlName","toDate","required",""],["labelContent","\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c","formControlName","organizationId",3,"span"],["type","textarea","labelContent","\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c","formControlName","address"],["type","textarea","labelContent","Ghi ch\xfa","formControlName","note"],["nzTitle","\u0110\u1ed1i t\u01b0\u1ee3ng \u0111\xe0o t\u1ea1o"],["formGroupName","metaDataObject",1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px",4,"ngIf"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],["width","70px"],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["class","text-center",4,"ngIf"],["nz-button","",3,"click",4,"ngIf"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"],[1,"row","m-b-10"],[1,"col-md-8"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"row",3,"formGroup"],["labelContent","","placeholder","Th\xeam m\u1ed9t c\xe1n b\u1ed9","formControlName","selectedUserId",1,"w-100",3,"onChange"],["class","col-md-4",4,"ngIf"],[3,"formGroup"],[1,"w-100",3,"nzNoResult","nzFooter","nzLoading"],["dynamicTable",""],["width","50px",1,"center"],["width","200px"],["formArrayName","trainingProgram_Users"],[3,"formGroupName","hidden",4,"ngFor","ngForOf"],[1,"col-md-4"],["nz-button","","nzType","primary","nz-popover","","nzPopoverTitle","Thi\u1ebft l\u1eadp n\xe2ng cao","nzPopoverTrigger","click",1,"w-100",3,"nzPopoverVisible","nzPopoverContent","nzPopoverVisibleChange"],["nz-icon","","nzType","setting"],["advancedTemplate",""],["formControlName","chooseDepartmentId",3,"labelHorizontal","organizationId","onChange"],["type","select","formControlName","trainingSubject","labelContent","\u0110\u1ed1i t\u01b0\u1ee3ng","valueField","name","labelField","name",1,"w-100",3,"labelHorizontal","selectData","onChange"],[3,"formGroupName","hidden"],[1,"text-center",3,"click"],["nz-checkbox","","formControlName","active"],["type","text","formControlName","fullname","placeholder","H\u1ecd t\xean"],["type","text","formControlName","certificateNumber","placeholder","S\u1ed1 CCHN"],["type","text","formControlName","titleName","placeholder","Ch\u1ee9c danh"],["type","text","formControlName","departmentName","placeholder","Khoa ph\xf2ng"],[3,"click"],["type","select","valueField","name","labelField","name","formControlName","trainingSubjectName","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng",3,"selectData","onChange"],["type","number","formControlName","amount","placeholder","Quy \u0111\u1ed5i"],[3,"formGroup",4,"ngIf"],["labelContent","","placeholder","Th\xeam m\u1ed9t c\xe1n b\u1ed9","formControlName","selectedUserId",3,"onChange"]],template:function(a,C){if(1&a&&(e.TgZ(0,"div",0),e.YNc(1,St,1,0,"app-button-edit",1),e.YNc(2,Wt,1,1,"app-button-save",2),e.TgZ(3,"app-button-cancel",3),e.NdJ("onClick",function(){return C.onCancel()}),e.qZA(),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"nz-tabset",4),e.TgZ(6,"nz-tab",5),e.YNc(7,en,1,0,"ng-container",6),e.qZA(),e.TgZ(8,"nz-tab",7),e.YNc(9,Ut,1,0,"ng-container",6),e.qZA(),e.qZA(),e.qZA(),e.YNc(10,ar,40,9,"ng-template",null,8,e.W1O),e.YNc(12,sr,36,9,"ng-template",null,9,e.W1O)),2&a){const B=e.MAs(11),oe=e.MAs(13);e.xp6(1),e.Q6J("ngIf",!C.isEdit),e.xp6(1),e.Q6J("ngIf",C.isEdit),e.xp6(1),e.Q6J("popConfirm",!!C.isEdit),e.xp6(1),e.Tol(C.isModal?"m-t-30":""),e.xp6(3),e.Q6J("ngTemplateOutlet",B),e.xp6(1),e.Q6J("nzDisabled",0==C.trainingSubjects.length),e.xp6(1),e.Q6J("ngTemplateOutlet",oe)}},directives:[E.O5,T.x,At.xH,At.xw,E.tP,i.D,u.U,R._Y,R.JL,R.sg,gt.bd,S.g,R.JJ,R.u,R.Q7,D.a,pt.m,R.x0,Je.N8,Je.Om,Je.$Z,Je.Uo,Je._C,Je.p0,R.CE,E.sg,Rt.D,h.ix,_.dQ,c.w,l.Ls,wt.Vq,R.On,ut,ht.lU,yt._,Oe.Z,ct.Ie],styles:[""]}),z})();var Nn=t(22759),Un=t(45435);function lr(z,K){1&z&&e.GkF(0)}function ur(z,K){1&z&&e.GkF(0)}function cr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",31),e.TgZ(1,"td",32),e._uU(2),e._UZ(3,"app-input",33),e.qZA(),e.TgZ(4,"td"),e._UZ(5,"app-input",34),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"app-input",35),e.qZA(),e.TgZ(8,"td",32),e.TgZ(9,"app-circle-button-delete",2),e.NdJ("onClick",function(){const oe=e.CHM(a).index;return e.oxw(2).deleteTrainingSubjectRow(oe)}),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=K.index;e.Q6J("formGroupName",a),e.xp6(2),e.hij(" ",a+1," "),e.xp6(1),e.Q6J("hidden",!0)("ngModel",a+1)}}function zn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){return e.CHM(a),e.oxw(2).addTrainingSubjectRow()}),e._UZ(1,"i",37),e._uU(2," Th\xeam m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng"),e.qZA()}}function Zn(z,K){}function an(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"form",9),e.NdJ("keydown.enter",function(B){return B.preventDefault()}),e.TgZ(1,"nz-card",10),e.TgZ(2,"div",11),e.TgZ(3,"div",12),e.TgZ(4,"app-select-training-form",13),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw().onTrainingFormChange(B)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",11),e.TgZ(6,"div",12),e._UZ(7,"app-input",14),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"div",15),e._UZ(10,"app-input",16),e.qZA(),e.TgZ(11,"div",15),e._UZ(12,"app-input",17),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.TgZ(14,"div",12),e._UZ(15,"app-select-organization",18),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"div",15),e._UZ(18,"app-input",19),e.qZA(),e.TgZ(19,"div",15),e._UZ(20,"app-input",20),e.qZA(),e.qZA(),e._UZ(21,"div",11),e.qZA(),e.TgZ(22,"nz-card",21),e.TgZ(23,"div",22),e.TgZ(24,"nz-table",23),e.TgZ(25,"thead"),e.TgZ(26,"tr"),e.TgZ(27,"th",24),e._uU(28,"STT"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"\u0110\u1ed1i t\u01b0\u1ee3ng"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"),e.qZA(),e._UZ(33,"th",25),e.qZA(),e.qZA(),e.TgZ(34,"tbody",26),e.YNc(35,cr,10,4,"tr",27),e.qZA(),e.qZA(),e.YNc(36,zn,3,0,"ng-template",null,28,e.W1O),e.YNc(38,Zn,0,0,"ng-template",29,30,e.W1O),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.MAs(37),C=e.MAs(39),B=e.oxw();e.Q6J("formGroup",B.form),e.xp6(4),e.Q6J("span",2),e.xp6(3),e.Q6J("span",2),e.xp6(8),e.Q6J("span",2),e.xp6(9),e.Q6J("nzShowPagination",!1)("nzNoResult",C)("nzFooter",a),e.xp6(11),e.Q6J("ngForOf",B.trainingSubjects.controls)}}function Ht(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"div",52),e.TgZ(1,"form",53),e.TgZ(2,"div",11),e.TgZ(3,"app-select-department",54),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(2).onChooseDepartment(B)}),e.qZA(),e.qZA(),e.TgZ(4,"div",11),e.TgZ(5,"app-input",55),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(2).onChooseTrainingSubject(B)}),e.qZA(),e.qZA(),e.TgZ(6,"div",11),e.TgZ(7,"app-button-delete",56),e.NdJ("onClick",function(){return e.CHM(a),e.oxw(2).deleteAll()}),e._uU(8,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.oxw(2);e.xp6(1),e.Q6J("formGroup",a.chooseForm),e.xp6(2),e.Q6J("labelHorizontal",!0)("organizationId",a.internalOrganizationId),e.xp6(2),e.Q6J("labelHorizontal",!0)("selectData",a.trainingSubjects.value)}}function Bn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",57),e.TgZ(1,"td",58),e.NdJ("click",function(){const oe=e.CHM(a).index;return e.oxw(2).activeUser(oe)}),e._UZ(2,"label",59),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-input",60),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"app-input",61),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-input",62),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-input",63),e.qZA(),e.TgZ(13,"td",64),e.NdJ("click",function(B){return B.stopPropagation()}),e.TgZ(14,"app-input",65),e.NdJ("onChange",function(B){const Ce=e.CHM(a).index;return e.oxw(2).onChangeTrainingSubject(B,Ce)}),e.qZA(),e.qZA(),e.TgZ(15,"td",64),e.NdJ("click",function(B){return B.stopPropagation()}),e._UZ(16,"app-input",66),e.qZA(),e.TgZ(17,"td",32),e.TgZ(18,"app-circle-button-delete",67),e.NdJ("onClick",function(){const oe=e.CHM(a).index;return e.oxw(2).deleteTrainingProgram_UserRow(oe)})("click",function(B){return B.stopPropagation()}),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=K.$implicit,C=K.index,B=e.oxw(2);e.Q6J("formGroupName",C)("hidden",a.value.hidden),e.xp6(4),e.hij(" ",C+1," "),e.xp6(10),e.Q6J("selectData",B.trainingSubjects.value)}}function on(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"form",53),e.TgZ(1,"div",11),e.TgZ(2,"div",39),e.TgZ(3,"app-select-user",68),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw(2).onAddUser(B)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&z){const a=e.oxw(2);e.Q6J("formGroup",a.chooseForm)}}function qt(z,K){}function sn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"nz-card"),e.TgZ(1,"div",38),e.TgZ(2,"div",39),e.TgZ(3,"div",11),e.TgZ(4,"nz-select",40),e.NdJ("ngModelChange",function(B){return e.CHM(a),e.oxw().onSearchUser(B)}),e.qZA(),e.qZA(),e.TgZ(5,"div",41),e.TgZ(6,"app-select-user",42),e.NdJ("onChange",function(B){return e.CHM(a),e.oxw().onAddUser(B,!0)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",43),e.TgZ(8,"button",44),e.NdJ("nzPopoverVisibleChange",function(B){return e.CHM(a),e.oxw().visibleAdvanced=B}),e._UZ(9,"i",45),e._uU(10," Thi\u1ebft l\u1eadp "),e.qZA(),e.YNc(11,Ht,9,5,"ng-template",null,46,e.W1O),e.qZA(),e.qZA(),e.TgZ(13,"form",9),e.NdJ("keydown.enter",function(B){return B.preventDefault()}),e.TgZ(14,"nz-table",47,48),e.TgZ(16,"thead"),e.TgZ(17,"tr"),e.TgZ(18,"th",49),e._uU(19,"\u0110D"),e.qZA(),e.TgZ(20,"th",49),e._uU(21,"STT"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"H\u1ecd t\xean"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"S\u1ed1 CCHN"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Khoa ph\xf2ng"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"\u0110\u1ed1i t\u01b0\u1ee3ng"),e.qZA(),e.TgZ(32,"th",25),e._uU(33,"Quy \u0111\u1ed5i"),e.qZA(),e._UZ(34,"th",25),e.qZA(),e.qZA(),e.TgZ(35,"tbody",50),e.YNc(36,Bn,19,4,"tr",51),e.qZA(),e.qZA(),e.YNc(37,on,4,1,"ng-template",null,28,e.W1O),e.YNc(39,qt,0,0,"ng-template",29,30,e.W1O),e.qZA(),e.qZA()}if(2&z){const a=e.MAs(12),C=e.MAs(38),B=e.MAs(40),oe=e.oxw();e.xp6(4),e.Q6J("ngModel",oe.listTextSearch),e.xp6(1),e.Q6J("formGroup",oe.chooseForm),e.xp6(3),e.Q6J("nzPopoverVisible",oe.visibleAdvanced)("nzPopoverContent",a),e.xp6(5),e.Q6J("formGroup",oe.form),e.xp6(1),e.Q6J("nzNoResult",B)("nzFooter",C)("nzLoading",oe.userTableLoading),e.xp6(22),e.Q6J("ngForOf",oe.trainingProgram_Users.controls)}}let It=(()=>{class z extends O.l{constructor(a,C,B){super(a),this.trainingProgramService=C,this.userService=B}ngOnInit(){this.form=this.formBuilder.group({trainingFormId:[null,R.kI.required],name:[null,R.kI.required],code:[null],fromDate:[null],toDate:[null,R.kI.required],organizationId:[null],address:[null],note:[null],metaDataObject:this.formBuilder.group({trainingSubjects:this.formBuilder.array([])}),trainingProgram_Users:this.formBuilder.array([])}),this.chooseForm=this.formBuilder.group({chooseDepartmentId:[null],removeDepartmentId:[null],trainingSubject:[null],selectedUserId:[null]}),this.subscribeToNativeNavigation()}subscribeToNativeNavigation(){(0,Nn.R)(window,"beforeunload").pipe((0,Un.h)(()=>this.form.dirty)).subscribe(a=>((a||window.event).returnValue=!0,"D\u1eef li\u1ec7u s\u1ebd m\u1ea5t n\u1ebfu tho\xe1t!"))}get trainingSubjects(){return this.form.get("metaDataObject.trainingSubjects")}addTrainingSubjectRow(a){this.trainingSubjects.push(this.createTrainingSubjectItem(a))}deleteTrainingSubjectRow(a){this.trainingSubjects.removeAt(a)}createTrainingSubjectItem(a){return this.formBuilder.group({name:[a?a.name:null,[R.kI.required]],code:[a?a.code:null],order:[a?a.order:null],amount:[a?a.amount:null,[R.kI.required]]})}get trainingProgram_Users(){return this.form.controls.trainingProgram_Users}addTrainingProgram_UserRow(a,C){C?this.trainingProgram_Users.insert(0,this.createTrainingProgram_UserItem(a)):this.trainingProgram_Users.push(this.createTrainingProgram_UserItem(a))}deleteTrainingProgram_UserRow(a){this.trainingProgram_Users.removeAt(a)}createTrainingProgram_UserItem(a){return this.formBuilder.group({userId:[a?a.userId:null,[R.kI.required]],fullname:[{value:a?a.fullname:null,disabled:!0}],certificateNumber:[{value:a?a.certificateNumber:null,disabled:!0}],titleName:[{value:a&&a.title?a.title.name:null,disabled:!0}],departmentId:[{value:a&&a.department?a.department.id:null,disabled:!0}],departmentName:[{value:a&&a.department?a.department.name:null,disabled:!0}],trainingSubjectName:[null,[R.kI.required]],amount:[null,[R.kI.required]],active:[!(!a||!a.active)&&a.active],hidden:[null]})}onSave(){const a=new Set,C=new Set;for(const B in this.form.controls)this.form.controls[B].markAsDirty(),this.form.controls[B].updateValueAndValidity(),C.add(B);for(const B in this.trainingSubjects.controls){const oe=this.trainingSubjects.controls[B];for(const Ce in oe.controls)oe.controls[Ce].markAsDirty(),oe.controls[Ce].updateValueAndValidity()}for(const B in this.trainingProgram_Users.controls){const oe=this.trainingProgram_Users.controls[B];for(const Ce in oe.controls)oe.controls[Ce].markAsDirty(),oe.controls[Ce].updateValueAndValidity(),oe.controls[Ce].invalid&&a.add((parseInt(B)+1).toString())}this.message.remove(),this.form.valid?(this.loading=!0,this.trainingProgramService.create(this.form.value).toPromise().then(B=>{this.loading=!1,B&&B.success?this.isModal&&(this.message.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"),this.modal.destroy(B.data),this.form.markAsPristine()):this.message.error("L\u1ed7i: "+B.message)})):(C.size>0&&this.message.error("Ki\u1ec3m tra l\u1ea1i d\u1eef li\u1ec7u nh\u1eadp ph\u1ea7n Th\xf4ng tin chung",{nzDuration:1e4}),a.size>0&&this.message.error("Ki\u1ec3m tra c\xe1n b\u1ed9 STT: "+[...a].join(", "),{nzDuration:1e4}))}get internalOrganizationId(){return W.N.INTERNAL_ORGANIZATION_ID}onCancel(){this.isModal&&(this.modal.destroy(),this.form.markAsPristine())}onTrainingFormChange(a){for(;this.trainingSubjects.length;)this.trainingSubjects.removeAt(0);a&&a.trainingSubjects&&a.trainingSubjects.forEach(C=>{this.addTrainingSubjectRow(C)})}onChangeTrainingSubject(a,C){this.trainingProgram_Users.at(C).controls.amount.setValue(a.amount)}activeUser(a){let C=this.trainingProgram_Users.at(a);C.controls.active.setValue(!C.value.active)}onChooseDepartment(a){!a||(this.chooseForm.controls.chooseDepartmentId.reset(),this.userTableLoading=!0,this.userService.getList(1,1e4,"+FirstName","{}",null,a.id).toPromise().then(C=>{if(C&&C.success){const B=this.trainingProgram_Users.getRawValue();C.data.content.forEach(Ce=>{if(!B.find(He=>He.userId==Ce.id)){let He=Ce;He.userId=Ce.id,He.titleName=Ce.title.name,He.departmentName=Ce.department.name,this.addTrainingProgram_UserRow(He)}})}else this.message.error("L\u1ed7i: "+C.message);this.userTableLoading=!1}))}onChooseTrainingSubject(a){if(a){this.chooseForm.controls.trainingSubject.reset();for(const C in this.trainingProgram_Users.controls)this.trainingProgram_Users.controls[C].controls.trainingSubjectName.setValue(a.name)}}deleteAll(){for(;0!==this.trainingProgram_Users.length;)this.trainingProgram_Users.removeAt(0)}onAddUser(a,C=!1){a&&(this.chooseForm.controls.selectedUserId.reset(),this.trainingProgram_Users.getRawValue().find(Ce=>Ce.userId==a.id)?this.message.error(a.fullname+" - "+a.certificateNumber+" \u0111\xe3 t\u1ed3n t\u1ea1i trong danh s\xe1ch"):(a.userId=a.id,a.titleName=a.title?a.title.name:"",a.departmentName=a.department?a.department.name:"",a.active=!0,this.addTrainingProgram_UserRow(a,C)))}onSearchUser(a){this.userTableLoading=!0;for(const C in this.trainingProgram_Users.controls){const B=this.trainingProgram_Users.controls[C],oe=B.getRawValue();if(a.length>0){let Ce=!0;a.forEach(Ve=>{oe.fullname.toLowerCase().includes(Ve.toLowerCase())||oe.certificateNumber.toLowerCase().includes(Ve.toLowerCase())||oe.titleName.toLowerCase().includes(Ve.toLowerCase())||oe.departmentName.toLowerCase().includes(Ve.toLowerCase())||(Ce=!1)}),B.controls.hidden.setValue(!Ce)}else B.controls.hidden.setValue(!1)}this.userTableLoading=!1}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(V.v),e.Y36(G.K))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-create-training-program"]],features:[e.qOj],decls:13,vars:7,consts:[[1,"page-header"],[3,"loading","onClick"],[3,"onClick"],["nzType","card"],["nzTitle","Th\xf4ng tin chung"],[4,"ngTemplateOutlet"],["nzTitle","Danh s\xe1ch tham d\u1ef1",3,"nzDisabled"],["commonInfo",""],["participants",""],[3,"formGroup","keydown.enter"],["nzTitle","Th\xf4ng tin ch\u01b0\u01a1ng tr\xecnh \u0111\xe0o t\u1ea1o"],[1,"row"],[1,"col-md-12"],["formControlName","trainingFormId","required","",3,"span","onChange"],["type","text","labelContent","N\u1ed9i dung","formControlName","name","required","",3,"span"],[1,"col-md-6"],["type","datepicker","labelContent","T\u1eeb ng\xe0y","formControlName","fromDate"],["type","datepicker","labelContent","\u0110\u1ebfn ng\xe0y","formControlName","toDate","required",""],["labelContent","\u0110\u01a1n v\u1ecb t\u1ed5 ch\u1ee9c","formControlName","organizationId",3,"span"],["type","textarea","labelContent","\u0110\u1ecba \u0111i\u1ec3m t\u1ed5 ch\u1ee9c","formControlName","address"],["type","textarea","labelContent","Ghi ch\xfa","formControlName","note"],["nzTitle","\u0110\u1ed1i t\u01b0\u1ee3ng \u0111\xe0o t\u1ea1o"],["formGroupName","metaDataObject",1,"col-md-12"],["nzBordered","",1,"w-100",3,"nzShowPagination","nzNoResult","nzFooter"],[1,"center"],["width","70px"],["formArrayName","trainingSubjects"],[3,"formGroupName",4,"ngFor","ngForOf"],["footerTpl",""],["class","no-result"],["nzNoResult",""],[3,"formGroupName"],[1,"text-center"],["type","number","formControlName","order",3,"hidden","ngModel"],["type","text","formControlName","name","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","S\u1ed1 ti\u1ebft quy \u0111\u1ed5i"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"],[1,"row","m-b-10"],[1,"col-md-8"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"row",3,"formGroup"],["labelContent","","placeholder","Th\xeam m\u1ed9t c\xe1n b\u1ed9","formControlName","selectedUserId",1,"w-100",3,"onChange"],[1,"col-md-4"],["nz-button","","nzType","primary","nz-popover","","nzPopoverTitle","Thi\u1ebft l\u1eadp n\xe2ng cao","nzPopoverTrigger","click",1,"w-100",3,"nzPopoverVisible","nzPopoverContent","nzPopoverVisibleChange"],["nz-icon","","nzType","setting"],["advancedTemplate",""],[1,"w-100",3,"nzNoResult","nzFooter","nzLoading"],["dynamicTable",""],["width","50px",1,"center"],["formArrayName","trainingProgram_Users"],[3,"formGroupName","hidden",4,"ngFor","ngForOf"],[2,"width","400px"],[3,"formGroup"],["formControlName","chooseDepartmentId",1,"w-100",3,"labelHorizontal","organizationId","onChange"],["type","select","formControlName","trainingSubject","labelContent","\u0110\u1ed1i t\u01b0\u1ee3ng","valueField","name","labelField","name",1,"w-100",3,"labelHorizontal","selectData","onChange"],[1,"w-100",3,"onClick"],[3,"formGroupName","hidden"],[1,"text-center",3,"click"],["nz-checkbox","","formControlName","active"],["type","text","formControlName","fullname","placeholder","H\u1ecd t\xean"],["type","text","formControlName","certificateNumber","placeholder","S\u1ed1 CCHN"],["type","text","formControlName","titleName","placeholder","Ch\u1ee9c danh"],["type","text","formControlName","departmentName","placeholder","Khoa ph\xf2ng"],[3,"click"],["type","select","valueField","name","labelField","name","formControlName","trainingSubjectName","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng",3,"selectData","onChange"],["type","number","formControlName","amount","placeholder","Quy \u0111\u1ed5i"],[3,"onClick","click"],["labelContent","","placeholder","Th\xeam m\u1ed9t c\xe1n b\u1ed9","formControlName","selectedUserId",3,"onChange"]],template:function(a,C){if(1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"app-button-save",1),e.NdJ("onClick",function(){return C.onSave()}),e.qZA(),e.TgZ(2,"app-button-cancel",2),e.NdJ("onClick",function(){return C.onCancel()}),e.qZA(),e.qZA(),e.TgZ(3,"div"),e.TgZ(4,"nz-tabset",3),e.TgZ(5,"nz-tab",4),e.YNc(6,lr,1,0,"ng-container",5),e.qZA(),e.TgZ(7,"nz-tab",6),e.YNc(8,ur,1,0,"ng-container",5),e.qZA(),e.qZA(),e.qZA(),e.YNc(9,an,40,8,"ng-template",null,7,e.W1O),e.YNc(11,sn,41,9,"ng-template",null,8,e.W1O)),2&a){const B=e.MAs(10),oe=e.MAs(12);e.xp6(1),e.Q6J("loading",C.loading),e.xp6(2),e.Tol(C.isModal?"m-t-30":""),e.xp6(3),e.Q6J("ngTemplateOutlet",B),e.xp6(1),e.Q6J("nzDisabled",0==C.trainingSubjects.length),e.xp6(1),e.Q6J("ngTemplateOutlet",oe)}},directives:[u.U,T.x,At.xH,At.xw,E.tP,R._Y,R.JL,R.sg,gt.bd,S.g,R.JJ,R.u,R.Q7,D.a,pt.m,R.x0,Je.N8,Je.Om,Je.$Z,Je.Uo,Je._C,Je.p0,R.CE,E.sg,Rt.D,h.ix,_.dQ,c.w,l.Ls,wt.Vq,R.On,ut,ht.lU,yt._,Oe.Z,ct.Ie],styles:[""]}),z})();var ln=t(22574),Gn=t(16704),Dt=t(78503),Tn=t(55039),Zt=t(71398),Jt=t(25428),fr=t(67192),hr=t(34974),Wn=t(618);function dr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-base",19),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().handleChangeDoneStatus()}),e._uU(1,"X\xe1c nh\u1eadn Ho\xe0n th\xe0nh"),e.qZA()}}function Bt(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-export",20),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().exportActiveExcel()}),e._uU(1,"Xu\u1ea5t danh s\xe1ch tham d\u1ef1"),e.qZA()}}function Pn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-base",21),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().handleChangeNotDoneStatus()}),e._uU(1,"Ch\u01b0a ho\xe0n th\xe0nh"),e.qZA()}}function Mt(z,K){1&z&&e._UZ(0,"th")}function gr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td"),e.TgZ(1,"app-circle-button-download",32),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw().$implicit;return e.oxw().download(B)}),e.qZA(),e.qZA()}}function xn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",22),e.TgZ(1,"td",23),e.NdJ("click",function(){const oe=e.CHM(a).index,Ce=e.oxw();return Ce.trainingProgram?"done"==Ce.trainingProgram.status:Ce.activeUser(oe)}),e.TgZ(2,"label",24),e.NdJ("click",function(B){return B.stopPropagation()})("nzCheckedChange",function(){const oe=e.CHM(a).index;return e.oxw().activeUser(oe,!0)}),e.qZA(),e.qZA(),e.TgZ(3,"td",25),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"app-input",26),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"app-input",27),e.qZA(),e.TgZ(9,"td"),e._UZ(10,"app-input",28),e.qZA(),e.TgZ(11,"td"),e._UZ(12,"app-input",29),e.qZA(),e.TgZ(13,"td"),e._UZ(14,"app-input",30),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"app-input",31),e.NdJ("click",function(B){return B.stopPropagation()}),e.qZA(),e.qZA(),e.YNc(17,gr,2,0,"td",13),e.qZA()}if(2&z){const a=K.$implicit,C=K.index,B=e.oxw();e.Q6J("formGroupName",C)("hidden",a.value.hidden),e.xp6(2),e.Q6J("nzDisabled",!!B.trainingProgram&&"done"==B.trainingProgram.status),e.xp6(2),e.hij(" ",C+1," "),e.xp6(13),e.Q6J("ngIf",!!B.trainingProgram&&"done"==B.trainingProgram.status&&1==a.value.active)}}function Vn(z,K){}function un(z,K){}var xt=(()=>{return(z=xt||(xt={}))[z.ALL=1]="ALL",z[z.CHECKED=2]="CHECKED",z[z.NOTCHECK=3]="NOTCHECK",xt;var z})();let Hn=(()=>{class z extends fr.u{constructor(a,C){super(a),this.trainingProgramService=C,this.onChangeDoneStatus=new e.vpe,this.filterStatus=[{label:"T\u1ea5t c\u1ea3",id:xt.ALL},{label:"\u0110\xe3 \u0111i\u1ec3m danh",id:xt.CHECKED},{id:xt.NOTCHECK,label:"Ch\u01b0a \u0111i\u1ec3m danh"}],this.status=xt.CHECKED}ngOnInit(){this.form=this.formBuilder.group({trainingFormId:[null],name:[null],code:[null],fromDate:[null],toDate:[null],organizationId:[null],address:[null],note:[null],metaDataObject:this.formBuilder.group({trainingSubjects:this.formBuilder.array([])}),trainingProgram_Users:this.formBuilder.array([])})}openModal(){for(;0!==this.trainingProgram_Users.length;)this.trainingProgram_Users.removeAt(0);this.fetchDetail()}fetchDetail(){this.trainingProgramService.getById(this.id).toPromise().then(a=>{a&&a.success?(this.form.patchValue(a.data),a.data.trainingProgram_Users.filter(C=>1==C.active).sort((C,B)=>{var oe,Ce;return null===(oe=C.user.department)||void 0===oe?void 0:oe.name.localeCompare(null===(Ce=B.user.department)||void 0===Ce?void 0:Ce.name)}).forEach(C=>{this.addTrainingProgram_UserRow({userId:C.userId,title:C.user.title,department:C.user.department,fullname:C.user.fullname,certificateNumber:C.user.certificateNumber,trainingSubjectName:C.trainingSubjectName,amount:C.amount,active:C.active,pathToDownload:C.pathToDownload})}),this.form.disable(),this.trainingProgram_Users.controls.forEach(C=>{C.controls.active.disable(),C.controls.hidden.enable()})):this.message.error("L\u1ed7i: "+a.message)})}get trainingProgram_Users(){return this.form.controls.trainingProgram_Users}addTrainingProgram_UserRow(a){this.trainingProgram_Users.push(this.createTrainingProgram_UserItem(a))}createTrainingProgram_UserItem(a){return this.formBuilder.group({userId:[a?a.userId:null,[R.kI.required]],fullname:[{value:a?a.fullname:null,disabled:!0}],certificateNumber:[{value:a?a.certificateNumber:null,disabled:!0}],titleName:[{value:a&&a.title?a.title.name:null,disabled:!0}],departmentName:[{value:a&&a.department?a.department.name:null,disabled:!0}],trainingSubjectName:[a?a.trainingSubjectName:null,[R.kI.required]],amount:[a?a.amount:null,[R.kI.required]],active:[!!a&&a.active],pathToDownload:[!!a&&a.pathToDownload],hidden:[null]})}handleCancel(){this.onCancel.emit()}handleChangeDoneStatus(){this.trainingProgramService.changeStatus(this.id,"done").toPromise().then(a=>{a&&a.success?(this.message.success("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"),this.onChangeDoneStatus.emit(a.data)):this.message.error("L\u1ed7i: "+a.message)})}handleChangeNotDoneStatus(){this.trainingProgramService.changeStatus(this.id,"").toPromise().then(a=>{a&&a.success?(this.message.success("Thay \u0111\u1ed5i tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"),this.trainingProgram.status=""):this.message.error("L\u1ed7i: "+a.message)})}onSearchUser(a){this.userTableLoading=!0;for(const C in this.trainingProgram_Users.controls){const B=this.trainingProgram_Users.controls[C],oe=B.getRawValue();if(a.length>0){let Ce=!0;a.forEach(Ve=>{oe.fullname.toLowerCase().includes(Ve.toLowerCase())||oe.certificateNumber.toLowerCase().includes(Ve.toLowerCase())||oe.titleName.toLowerCase().includes(Ve.toLowerCase())||oe.departmentName.toLowerCase().includes(Ve.toLowerCase())||(Ce=!1)}),B.controls.hidden.setValue(!Ce)}else B.controls.hidden.setValue(!1)}this.userTableLoading=!1}activeUser(a,C=!1){let B=this.trainingProgram_Users.at(a);C||B.controls.active.setValue(!B.getRawValue().active);const oe={userId:B.getRawValue().userId,trainingProgramId:this.id,active:B.getRawValue().active};this.trainingProgramService.checkin(oe).toPromise().then(Ce=>{Ce&&Ce.success||(this.message.error("L\u1ed7i: "+Ce.message),B.controls.active.setValue(!B.value.active))})}download(a){this.trainingProgramService.downloadCertification(a.getRawValue().pathToDownload).subscribe(C=>{let B=a.getRawValue().fullname.replaceAll(".","-")+".docx";(0,I.Sv)(C,B)},C=>{this.message.error("L\u1ed7i: "+C.message)})}exportExcel(){this.trainingProgramService.exportParticipants(this.trainingProgram.id).subscribe(a=>{let C=this.trainingProgram.name.replaceAll(".","-")+".xlsx";(0,I.Sv)(a,C)},a=>{this.message.error("L\u1ed7i: "+a.message)})}exportActiveExcel(){this.trainingProgramService.exportActiveParticipants(this.trainingProgram.id).subscribe(a=>{let C=this.trainingProgram.name.replaceAll(".","-")+".xlsx";(0,I.Sv)(a,C)},a=>{this.message.error("L\u1ed7i: "+a.message)})}changeStatusFilter(a){if(a)switch(a.id){case xt.CHECKED:this.trainingProgram_Users.controls.forEach(C=>{C.controls.hidden.setValue(!C.value.active)});break;case xt.NOTCHECK:this.trainingProgram_Users.controls.forEach(C=>{C.controls.hidden.setValue(!!C.value.active)});break;default:this.trainingProgram_Users.controls.forEach(C=>{C.controls.hidden.setValue(!1)})}else this.trainingProgram_Users.controls.forEach(C=>{C.controls.hidden.setValue(!1)})}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(V.v))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-checkin-user-training-program"]],inputs:{trainingProgram:"trainingProgram"},outputs:{onChangeDoneStatus:"onChangeDoneStatus"},features:[e.qOj],decls:36,vars:13,consts:[["nzTitle","\u0110i\u1ec3m danh",3,"nzVisible","nzFooter","nzWidth","nzVisibleChange","nzAfterOpen","nzOnCancel"],[1,"row","m-b-10"],[1,"col-md-8"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-4"],["iconType","check","buttonType","primary",3,"onClick",4,"ngIf"],["buttonType","primary",3,"onClick",4,"ngIf"],["iconType","close","danger","true","buttonType","link",3,"onClick",4,"ngIf"],[3,"formGroup"],[1,"w-100",3,"nzNoResult","nzLoading"],["dynamicTable",""],["width","50px",1,"center"],["width","70px"],[4,"ngIf"],["formArrayName","trainingProgram_Users"],[3,"formGroupName","hidden",4,"ngFor","ngForOf"],["class","no-result"],["nzNoResult",""],["modalFooter",""],["iconType","check","buttonType","primary",3,"onClick"],["buttonType","primary",3,"onClick"],["iconType","close","danger","true","buttonType","link",3,"onClick"],[3,"formGroupName","hidden"],[1,"text-center",3,"click"],["nz-checkbox","","formControlName","active",3,"nzDisabled","click","nzCheckedChange"],[1,"text-center"],["type","text","formControlName","fullname","placeholder","H\u1ecd t\xean"],["type","text","formControlName","certificateNumber","placeholder","S\u1ed1 CCHN"],["type","text","formControlName","titleName","placeholder","Ch\u1ee9c danh"],["type","text","formControlName","departmentName","placeholder","Khoa ph\xf2ng"],["type","text","formControlName","trainingSubjectName","placeholder","\u0110\u1ed1i t\u01b0\u1ee3ng"],["type","number","formControlName","amount","placeholder","Quy \u0111\u1ed5i",3,"click"],[3,"onClick"]],template:function(a,C){if(1&a&&(e.TgZ(0,"nz-modal",0),e.NdJ("nzVisibleChange",function(oe){return C.isVisible=oe})("nzAfterOpen",function(){return C.openModal()})("nzOnCancel",function(){return C.handleCancel()}),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"nz-select",3),e.NdJ("ngModelChange",function(oe){return C.onSearchUser(oe)}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,dr,2,0,"app-button-base",5),e.YNc(6,Bt,2,0,"app-button-export",6),e.YNc(7,Pn,2,0,"app-button-base",7),e.qZA(),e.qZA(),e.TgZ(8,"form",8),e.TgZ(9,"nz-table",9,10),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",11),e._uU(14,"\u0110D"),e.qZA(),e.TgZ(15,"th",11),e._uU(16,"STT"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"H\u1ecd t\xean"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"S\u1ed1 CCHN"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Ch\u1ee9c danh"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Khoa ph\xf2ng"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"\u0110\u1ed1i t\u01b0\u1ee3ng"),e.qZA(),e.TgZ(27,"th",12),e._uU(28,"Quy \u0111\u1ed5i"),e.qZA(),e.YNc(29,Mt,1,0,"th",13),e.qZA(),e.qZA(),e.TgZ(30,"tbody",14),e.YNc(31,xn,18,5,"tr",15),e.qZA(),e.qZA(),e.YNc(32,Vn,0,0,"ng-template",16,17,e.W1O),e.qZA(),e.qZA(),e.YNc(34,un,0,0,"ng-template",null,18,e.W1O)),2&a){const B=e.MAs(33),oe=e.MAs(35);e.Q6J("nzVisible",C.isVisible)("nzFooter",oe)("nzWidth",1300)("nzFooter",oe),e.xp6(3),e.Q6J("ngModel",C.listTextSearch),e.xp6(2),e.Q6J("ngIf",!!C.trainingProgram&&"done"!==C.trainingProgram.status),e.xp6(1),e.Q6J("ngIf",!!C.trainingProgram&&"done"==C.trainingProgram.status),e.xp6(1),e.Q6J("ngIf",!!C.trainingProgram&&"done"==C.trainingProgram.status),e.xp6(1),e.Q6J("formGroup",C.form),e.xp6(1),e.Q6J("nzNoResult",B)("nzLoading",C.userTableLoading),e.xp6(20),e.Q6J("ngIf",!!C.trainingProgram&&"done"==C.trainingProgram.status),e.xp6(2),e.Q6J("ngForOf",C.trainingProgram_Users.controls)}},directives:[n.du,wt.Vq,R.JJ,R.On,E.O5,R._Y,R.JL,R.sg,Je.N8,Je.Om,Je.$Z,Je.Uo,Je._C,Je.p0,R.CE,E.sg,f.f,hr.l,R.x0,ct.Ie,R.u,D.a,Wn.I],styles:[""]}),z})();var En=t(64236),cn=t(85928),wn=t(92019),qn=t(78178),Jn=t(47420),pr=t(25661),kn=t(51240),fn=t(39907);function vr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-create",4),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().goToCreate()}),e.qZA()}}function hn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-choose",4),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().chooseItem()}),e.qZA()}}function mr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-base",24),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw();return B.openCheckin(B.selectedIds[0])}),e._uU(1,"\u0110i\u1ec3m danh"),e.qZA()}}function yr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-delete",4),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw();return B.deleteMany(B.selectedIds)}),e.qZA()}}function Qt(z,K){if(1&z&&e._uU(0),2&z){const a=K.$implicit,C=e.oxw();e.lnq(" ",C.request.pageSize*(C.request.currentPage-1)+1," -",C.request.pageSize*C.request.currentPage>a?a:C.request.pageSize*C.request.currentPage," /",a," ")}}function Qn(z,K){1&z&&e._UZ(0,"th",39)}function br(z,K){1&z&&e._UZ(0,"th")}function _r(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",48),e.NdJ("nzCheckedChange",function(B){e.CHM(a);const oe=e.oxw().$implicit;return e.oxw(2).mapOfCheckedId[oe.id]=B})("nzCheckedChange",function(){return e.CHM(a),e.oxw(3).refreshStatus()})("click",function(B){return B.stopPropagation()}),e.qZA()}if(2&z){const a=e.oxw().$implicit,C=e.oxw(2);e.Q6J("nzChecked",C.mapOfCheckedId[a.id])}}function Ar(z,K){1&z&&e._UZ(0,"td")}function Cr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",49),e.NdJ("nzExpandChange",function(B){return e.CHM(a),e.oxw().$implicit.expand=B}),e.qZA()}if(2&z){const a=e.oxw().$implicit;e.Q6J("nzExpand",a.expand)}}const Sr=function(z){return{"col-group-text":z}};function Rn(z,K){if(1&z&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&z){const a=e.oxw().$implicit,C=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Sr,C.expandable)),e.xp6(1),e.hij(" ",a[C.groupBy]," ")}}function jt(z,K){1&z&&(e.TgZ(0,"app-tag-done"),e._uU(1,"\u0110\xe3 k\u1ebft th\xfac"),e.qZA())}function Tr(z,K){1&z&&(e.TgZ(0,"app-tag-not-done"),e._uU(1,"Ch\u01b0a k\u1ebft th\xfac"),e.qZA())}function jn(z,K){if(1&z&&(e.TgZ(0,"div"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3," / "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.qZA()),2&z){const a=e.oxw().$implicit;e.xp6(2),e.Oqu(a.totalParticipantMeetOnDate),e.xp6(3),e.Oqu(a.totalParticipant)}}function Pr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-circle-button-edit",4),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw(2).$implicit;return e.oxw(2).goToDetail(B.id,!0)}),e.qZA()}}function Yn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-circle-button-delete",4),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw(2).$implicit;return e.oxw(2).deleteMany([B.id])}),e.qZA()}}function In(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"app-circle-button-download",51),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw().$implicit;return e.oxw(2).downloadCertifications(B)}),e.qZA(),e.TgZ(2,"app-circle-button-base",52),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw().$implicit;return e.oxw(2).openCheckin(B)}),e.qZA(),e.YNc(3,Pr,1,0,"app-circle-button-edit",5),e.YNc(4,Yn,1,0,"app-circle-button-delete",5),e.BQk()}if(2&z){const a=e.oxw().$implicit,C=e.oxw(2);e.xp6(1),e.Q6J("disabled","done"!==a.status||"HTHN"!==a.trainingForm.code),e.xp6(2),e.Q6J("ngIf",C.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",!C.isModal)}}function xr(z,K){1&z&&(e.TgZ(0,"app-tag-done"),e._uU(1,"\u0110\xe3 k\u1ebft th\xfac"),e.qZA())}function Yt(z,K){1&z&&(e.TgZ(0,"app-tag-not-done"),e._uU(1,"Ch\u01b0a k\u1ebft th\xfac"),e.qZA())}function Er(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-circle-button-delete",4),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw().$implicit;return e.oxw(3).deleteMany([B.id])}),e.qZA()}}function dn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",53),e.NdJ("click",function(){const oe=e.CHM(a).$implicit;return e.oxw(3).goToDetail(oe.id)}),e.TgZ(1,"td",54),e.NdJ("nzCheckedChange",function(B){const Ce=e.CHM(a).$implicit;return e.oxw(3).mapOfCheckedId[Ce.id]=B})("nzCheckedChange",function(){return e.CHM(a),e.oxw(3).refreshStatus()}),e.qZA(),e._UZ(2,"td"),e._UZ(3,"td"),e.TgZ(4,"td",44),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",45),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e.YNc(17,xr,2,0,"app-tag-done",22),e.YNc(18,Yt,2,0,"app-tag-not-done",22),e.qZA(),e.TgZ(19,"td",46),e.NdJ("click",function(B){return B.stopPropagation()}),e.TgZ(20,"app-circle-button-base",52),e.NdJ("onClick",function(){const oe=e.CHM(a).$implicit;return e.oxw(3).openCheckin(oe.id)}),e.qZA(),e.TgZ(21,"app-circle-button-edit",4),e.NdJ("onClick",function(){const oe=e.CHM(a).$implicit;return e.oxw(3).goToDetail(oe.id,!0)}),e.qZA(),e.YNc(22,Er,1,0,"app-circle-button-delete",5),e.qZA(),e.qZA()}if(2&z){const a=K.$implicit,C=K.index,B=e.oxw().$implicit,oe=e.oxw(2);e.Q6J("nzExpand",B.expand),e.xp6(1),e.Q6J("nzChecked",oe.mapOfCheckedId[a.id]),e.xp6(4),e.Oqu(oe.request.pageSize*(oe.request.currentPage-1)+(C+1)),e.xp6(2),e.Oqu(a.trainingForm.name),e.xp6(2),e.Oqu(a.name),e.xp6(2),e.Oqu(e.xi3(12,10,a.fromDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(e.xi3(15,13,a.toDate,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngIf","done"==a.status),e.xp6(1),e.Q6J("ngIf","done"!=a.status),e.xp6(4),e.Q6J("ngIf",!oe.isModal)}}const gn=function(z){return{"col-group":z}};function Ln(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",40),e.NdJ("click",function(){const oe=e.CHM(a).$implicit,Ce=e.oxw(2);return!Ce.expandable&&Ce.goToDetail(oe.id)}),e.YNc(1,_r,1,1,"td",41),e.YNc(2,Ar,1,0,"td",22),e.YNc(3,Cr,1,1,"td",42),e.YNc(4,Rn,2,4,"td",43),e.TgZ(5,"td",44),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",45),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e.YNc(18,jt,2,0,"app-tag-done",22),e.YNc(19,Tr,2,0,"app-tag-not-done",22),e.qZA(),e.TgZ(20,"td",44),e.YNc(21,jn,6,2,"div",22),e.qZA(),e.TgZ(22,"td",46),e.NdJ("click",function(B){return B.stopPropagation()}),e.YNc(23,In,5,3,"ng-container",22),e.qZA(),e.qZA(),e.YNc(24,dn,23,16,"tr",47)}if(2&z){const a=K.index,C=K.$implicit,B=e.oxw(2);e.Q6J("ngClass",e.VKq(21,gn,B.expandable)),e.xp6(1),e.Q6J("ngIf",!B.expandable),e.xp6(1),e.Q6J("ngIf",B.expandable),e.xp6(1),e.Q6J("ngIf",B.expandable),e.xp6(1),e.Q6J("ngIf",B.expandable),e.xp6(2),e.Oqu(B.expandable?"":B.request.pageSize*(B.request.currentPage-1)+(a+1)),e.xp6(2),e.Oqu(B.expandable?"":C.trainingForm.name),e.xp6(2),e.Oqu(B.expandable?"":C.name),e.xp6(2),e.Oqu(B.expandable?"":e.xi3(13,15,C.fromDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(B.expandable?"":e.xi3(16,18,C.toDate,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngIf","done"==C.status),e.xp6(1),e.Q6J("ngIf","done"!=C.status),e.xp6(2),e.Q6J("ngIf",!B.expandable),e.xp6(2),e.Q6J("ngIf",!B.expandable),e.xp6(1),e.Q6J("ngForOf",C.children)}}function Xn(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"nz-card"),e.TgZ(2,"nz-table",25,26),e.NdJ("nzCurrentPageDataChange",function(B){return e.CHM(a),e.oxw().currentPageDataChange(B)}),e.TgZ(4,"thead",27),e.NdJ("nzSortChange",function(B){return e.CHM(a),e.oxw().sortChange(B)}),e.TgZ(5,"tr"),e.TgZ(6,"th",28),e.NdJ("nzCheckedChange",function(B){return e.CHM(a),e.oxw().isAllDisplayDataChecked=B})("nzCheckedChange",function(B){return e.CHM(a),e.oxw().checkAll(B)}),e.qZA(),e.YNc(7,Qn,1,0,"th",29),e.YNc(8,br,1,0,"th",22),e.TgZ(9,"th",30),e._uU(10,"STT "),e.qZA(),e.TgZ(11,"th",31),e._uU(12," H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o "),e.qZA(),e.TgZ(13,"th",32),e._uU(14," N\u1ed9i dung "),e.qZA(),e.TgZ(15,"th",33),e._uU(16," T\u1eeb ng\xe0y "),e.qZA(),e.TgZ(17,"th",34),e._uU(18," \u0110\u1ebfn ng\xe0y "),e.qZA(),e.TgZ(19,"th",35),e._uU(20," Tr\u1ea1ng th\xe1i "),e.qZA(),e.TgZ(21,"th",36),e._uU(22," Ng\u01b0\u1eddi tham d\u1ef1 "),e.qZA(),e.TgZ(23,"th",37),e._uU(24," Thao t\xe1c "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,Ln,25,23,"ng-template",38),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&z){const a=e.MAs(3),C=e.oxw();e.xp6(2),e.Q6J("nzData",C.listData)("nzFrontPagination",!1)("nzLoading",C.isLoading),e.xp6(4),e.Q6J("nzChecked",C.isAllDisplayDataChecked)("nzIndeterminate",C.isIndeterminate),e.xp6(1),e.Q6J("ngIf",C.expandable),e.xp6(1),e.Q6J("ngIf",C.expandable),e.xp6(18),e.Q6J("ngForOf",a.data)}}function Et(z,K){1&z&&(e.TgZ(0,"app-tag-done"),e._uU(1,"\u0110\xe3 k\u1ebft th\xfac"),e.qZA())}function Lt(z,K){1&z&&(e.TgZ(0,"app-tag-not-done"),e._uU(1,"Ch\u01b0a k\u1ebft th\xfac"),e.qZA())}function Ft(z,K){if(1&z&&(e.TgZ(0,"app-card-item",56),e._uU(1),e.qZA(),e.TgZ(2,"app-card-item",57),e._uU(3),e.qZA(),e.TgZ(4,"app-card-item",58),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"app-card-item",59),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"app-card-item",60),e.YNc(11,Et,2,0,"app-tag-done",22),e.YNc(12,Lt,2,0,"app-tag-not-done",22),e.qZA()),2&z){const a=K.item;e.xp6(1),e.hij(" ",a.trainingForm.name," "),e.xp6(2),e.hij(" ",a.name," "),e.xp6(2),e.hij(" ",e.xi3(6,6,a.fromDate,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(9,9,a.toDate,"dd/MM/yyyy")," "),e.xp6(3),e.Q6J("ngIf","done"==a.status),e.xp6(1),e.Q6J("ngIf","done"!=a.status)}}function Xt(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"app-card-view",55),e.NdJ("onClick",function(B){return e.CHM(a),e.oxw().goToDetail(B.id)}),e.YNc(2,Ft,13,12,"ng-template"),e.qZA(),e.BQk()}if(2&z){const a=e.oxw();e.xp6(1),e.Q6J("expandable",a.expandable)("listData",a.listData)("groupBy",a.groupBy)}}const Kn=function(){return[10,20,50,100]};let Nt=(()=>{class z extends ln.t{constructor(a,C,B,oe){super(a),this.modalService=C,this.route=B,this.trainingProgramService=oe}ngOnInit(){this.searchForm=this.formBuilder.group({fromDate:[null],toDate:[null],trainingFormId:[null]}),this.route.paramMap.subscribe(a=>{a.params&&a.params.trainingFormId&&this.searchForm.controls.trainingFormId.setValue(a.params.trainingFormId),this.fetchList()})}fetchList(){const C=JSON.stringify({ListTextSearch:this.request.listTextSearch});this.isLoading=!0,this.trainingProgramService.getList(this.request.currentPage,this.request.pageSize,this.request.sort,C,this.searchForm.value.fromDate,this.searchForm.value.toDate,this.searchForm.value.trainingFormId,null,!1).toPromise().then(B=>{this.isLoading=!1,B&&B.success?(this.listData=B.data.content,this.flatList=B.data.content,this.total=B.data.totalRecords,this.parseGroup(this.listData)):this.message.error(B.message)})}reload(){this.fetchList()}goToCreate(){this.modalService.openCreateModalV2({component:It,width:"1300px",top:"20px",closable:!1}).afterClose.toPromise().then(C=>{C&&this.reload()})}goToDetail(a,C=!1){this.modalService.openDetailModal(Sn,a,C,"1300px","20px").afterClose.toPromise().then(oe=>{oe&&this.reload()})}chooseItem(){this.modal.destroy({id:this.selectedIds[0]})}openCheckin(a){this.selectedItem=a,this.checkinIsVisible=!0}deleteMany(a){this.isLoading=!0,this.trainingProgramService.deleteMany(a).toPromise().then(C=>{this.isLoading=!1,C&&C.success?(this.message.success("X\xf3a th\xe0nh c\xf4ng"),this.fetchList()):this.message.error("L\u1ed7i: "+C.message)})}downloadCertifications(a){this.trainingProgramService.downloadCertifications(a.pathToDownload).subscribe(C=>{let oe=this.listData.find(Ce=>Ce.id==a.id).name.replaceAll(".","-")+".zip";(0,I.Sv)(C,oe)},C=>{this.message.error("L\u1ed7i: "+C.message)})}exportCertifications(a){const C=this.message.loading("\u0110ang x\u1eed l\xfd..",{nzDuration:0}).messageId;this.trainingProgramService.exportCertifications(a).toPromise().then(B=>{if(this.message.remove(C),B){let Ce=this.listData.find(Ve=>Ve.id==a).name.replaceAll(".","-")+".zip";(0,I.Sv)(B,Ce)}else this.message.warning("L\u1ed7i: Kh\xf4ng c\xf3 ng\u01b0\u1eddi tham d\u1ef1",{nzDuration:1e4})})}onChangeDoneStatus(a){this.checkinIsVisible=!1,this.reload(),"HTHN"==a.trainingForm.code&&this.exportCertifications(a.id)}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(Le.Z),e.Y36(Z.gz),e.Y36(V.v))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-list-training-program"]],features:[e.qOj],decls:40,vars:28,consts:[[1,"page-header"],[1,"row"],[1,"col-md-5"],["nz-row",""],[3,"onClick"],[3,"onClick",4,"ngIf"],["iconType","check-square","buttonType","primary",3,"onClick",4,"ngIf"],[1,"col-md-7"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"float-right",3,"ngModel","nzButtonStyle","ngModelChange"],["nz-radio-button","","nzValue","list"],["nz-icon","","nzType","bars","nzTheme","outline"],["nz-radio-button","","nzValue","card"],["nz-icon","","nzType","appstore","nzTheme","outline"],["nzShowSizeChanger","",1,"float-right","mr-2",3,"nzPageSize","nzPageSizeOptions","nzPageIndex","nzShowTotal","nzTotal","nzPageSizeChange","nzPageIndexChange","nzTotalChange"],["totalTemplate",""],[3,"formGroup"],[1,"col-md-4"],["type","datepicker","formControlName","fromDate","labelContent","T\u1eeb ng\xe0y",3,"labelHorizontal","onChange"],["type","datepicker","formControlName","toDate","labelContent","\u0110\u1ebfn ng\xe0y",3,"labelHorizontal","onChange"],["formControlName","trainingFormId",3,"labelHorizontal","onChange"],[4,"ngIf"],[3,"id","isVisible","trainingProgram","onCancel","onChangeDoneStatus"],["iconType","check-square","buttonType","primary",3,"onClick"],[1,"w-100",3,"nzData","nzFrontPagination","nzLoading","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzSortChange"],["nzShowCheckbox","","nzWidth","50px",1,"center",3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","50px","nzShowExpand","",4,"ngIf"],["nzWidth","50px",1,"center"],["width","200px"],["nzShowSort","","nzSortKey","name"],["width","150px","nzShowSort","","nzSortKey","fromDate"],["width","150px","nzShowSort","","nzSortKey","toDate"],["width","150px","nzShowSort","","nzSortKey","status"],["width","150px",1,"center"],["width","200px",1,"center"],["ngFor","",3,"ngForOf"],["nzWidth","50px","nzShowExpand",""],[3,"ngClass","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click",4,"ngIf"],["class","center","nzShowExpand","",3,"nzExpand","nzExpandChange",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"center"],[1,"text-highlight"],[1,"center",3,"click"],[3,"nzExpand","click",4,"ngFor","ngForOf"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click"],["nzShowExpand","",1,"center",3,"nzExpand","nzExpandChange"],[3,"ngClass"],[3,"disabled","onClick"],["buttonType","primary","iconType","check-square","nz-tooltip","","nzTooltipTitle","\u0110i\u1ec3m danh",3,"onClick"],[3,"nzExpand","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange"],[3,"expandable","listData","groupBy","onClick"],["label","H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o"],["label","N\u1ed9i dung"],["label","T\u1eeb ng\xe0y"],["label","\u0110\u1ebfn ng\xe0y"],["label","Tr\u1ea1ng th\xe1i"]],template:function(a,C){if(1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"app-header-title"),e._uU(5,"Danh s\xe1ch ch\u01b0\u01a1ng tr\xecnh \u0111\xe0o t\u1ea1o n\u1ed9i vi\u1ec7n"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"app-button-reload",4),e.NdJ("onClick",function(){return C.reload()}),e.qZA(),e.YNc(8,vr,1,0,"app-button-create",5),e.YNc(9,hn,1,0,"app-button-choose",5),e.YNc(10,mr,2,0,"app-button-base",6),e.YNc(11,yr,1,0,"app-button-delete",5),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",3),e.TgZ(14,"nz-select",8),e.NdJ("ngModelChange",function(oe){return C.nzOnSearch(oe)}),e.qZA(),e.qZA(),e.TgZ(15,"div",1),e.TgZ(16,"div",9),e.TgZ(17,"nz-radio-group",10),e.NdJ("ngModelChange",function(oe){return C.tableType=oe}),e.TgZ(18,"label",11),e.TgZ(19,"span"),e._UZ(20,"i",12),e.qZA(),e.qZA(),e.TgZ(21,"label",13),e.TgZ(22,"span"),e._UZ(23,"i",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"nz-pagination",15),e.NdJ("nzPageSizeChange",function(oe){return C.request.pageSize=oe})("nzPageIndexChange",function(oe){return C.request.currentPage=oe})("nzPageIndexChange",function(oe){return C.pageIndexChange(oe)})("nzPageSizeChange",function(oe){return C.pageSizeChange(oe)})("nzTotalChange",function(oe){return C.total=oe}),e.qZA(),e.YNc(25,Qt,1,3,"ng-template",null,16,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"form",17),e.TgZ(28,"div",1),e.TgZ(29,"div",18),e.TgZ(30,"app-input",19),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(31,"div",18),e.TgZ(32,"app-input",20),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(33,"div",18),e.TgZ(34,"app-select-training-form",21),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",1),e.TgZ(36,"div"),e.YNc(37,Xn,27,8,"ng-container",22),e.YNc(38,Xt,3,3,"ng-container",22),e.qZA(),e.qZA(),e.TgZ(39,"app-checkin-user-training-program",23),e.NdJ("onCancel",function(){return C.checkinIsVisible=!1,C.reload()})("onChangeDoneStatus",function(oe){return C.onChangeDoneStatus(oe)}),e.qZA()),2&a){const B=e.MAs(26);e.xp6(8),e.Q6J("ngIf",C.isSuperAdmin),e.xp6(1),e.Q6J("ngIf",C.isModal&&1==C.selectedIds.length),e.xp6(1),e.Q6J("ngIf",!C.isModal&&1==C.selectedIds.length),e.xp6(1),e.Q6J("ngIf",C.isSuperAdmin&&!C.isModal&&C.selectedIds.length>1&&(C.isAllDisplayDataChecked||C.isIndeterminate)),e.xp6(3),e.Q6J("ngModel",C.listTextSearch),e.xp6(3),e.Q6J("ngModel",C.tableType)("nzButtonStyle","solid"),e.xp6(7),e.Q6J("nzPageSize",C.request.pageSize)("nzPageSizeOptions",e.DdM(27,Kn))("nzPageIndex",C.request.currentPage)("nzShowTotal",B)("nzTotal",C.total),e.xp6(3),e.Q6J("formGroup",C.searchForm),e.xp6(3),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1),e.xp6(1),e.Tol(C.isModal?"m-t-30":""),e.xp6(1),e.Tol(C.isModal?"w-100 center":"col-lg-12 center"),e.xp6(1),e.Q6J("ngIf","list"==C.tableType),e.xp6(1),e.Q6J("ngIf","card"==C.tableType),e.xp6(1),e.Q6J("id",C.selectedItem?C.selectedItem.id:null)("isVisible",C.checkinIsVisible)("trainingProgram",C.selectedItem)}},directives:[Gn.SK,Dt.d,Tn.O,E.O5,wt.Vq,R.JJ,R.On,Zt.Dg,Zt.Of,Zt.Bq,c.w,l.Ls,Jt.dE,R._Y,R.JL,R.sg,D.a,R.u,S.g,Hn,De.E,En.K,f.f,Oe.Z,gt.bd,Je.N8,Je.Om,Je.$Z,Je.Uo,Je._C,Je.g6,Je.qD,Je.p0,E.sg,E.mk,Je.h7,cn.i,wn.g,Wn.I,qn.P,Jn.SY,pr.p,Rt.D,Je.d3,Je.Vk,kn.y,fn.o],pipes:[E.uU],styles:[""]}),z})();var wr=t(58966);function kr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-button-choose",4),e.NdJ("onClick",function(){return e.CHM(a),e.oxw().chooseItem()}),e.qZA()}}function Rr(z,K){if(1&z&&e._uU(0),2&z){const a=K.$implicit,C=e.oxw();e.lnq(" ",C.request.pageSize*(C.request.currentPage-1)+1," -",C.request.pageSize*C.request.currentPage>a?a:C.request.pageSize*C.request.currentPage," /",a," ")}}function Ir(z,K){1&z&&e._UZ(0,"th",41)}function $n(z,K){1&z&&e._UZ(0,"th")}function pn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",51),e.NdJ("nzCheckedChange",function(B){e.CHM(a);const oe=e.oxw().$implicit;return e.oxw(2).mapOfCheckedId[oe.id]=B})("nzCheckedChange",function(){return e.CHM(a),e.oxw(3).refreshStatus()})("click",function(B){return B.stopPropagation()}),e.qZA()}if(2&z){const a=e.oxw().$implicit,C=e.oxw(2);e.Q6J("nzChecked",C.mapOfCheckedId[a.id])}}function vn(z,K){1&z&&e._UZ(0,"td")}function mn(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"td",52),e.NdJ("nzExpandChange",function(B){return e.CHM(a),e.oxw().$implicit.expand=B}),e.qZA()}if(2&z){const a=e.oxw().$implicit;e.Q6J("nzExpand",a.expand)}}const Lr=function(z){return{"col-group-text":z}};function yn(z,K){if(1&z&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&z){const a=e.oxw().$implicit,C=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Lr,C.expandable)),e.xp6(1),e.hij(" ",a[C.groupBy]," ")}}function Or(z,K){if(1&z&&e._UZ(0,"nz-avatar",57),2&z){const a=e.oxw(2).$implicit,C=e.oxw(2);e.s9C("nzSrc",null!=a.user&&a.user.avatarUrl?C.avatarPath+"/"+(null==a.user?null:a.user.avatarUrl):"")}}function Dr(z,K){if(1&z&&(e.ynx(0),e.TgZ(1,"div",54),e.YNc(2,Or,1,1,"nz-avatar",55),e.qZA(),e.TgZ(3,"div",56),e.TgZ(4,"span",47),e._uU(5),e.qZA(),e.qZA(),e.BQk()),2&z){const a=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",null==a.user?null:a.user.avatarUrl),e.xp6(3),e.Oqu(null==a.user?null:a.user.fullname)}}function er(z,K){1&z&&(e.TgZ(0,"app-tag-danger"),e._uU(1,"H\u1ee7y b\u1ecf"),e.qZA())}function tr(z,K){if(1&z&&(e.ynx(0),e.YNc(1,er,2,0,"app-tag-danger",24),e.BQk()),2&z){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!a.active)}}function Mr(z,K){1&z&&(e.TgZ(0,"app-tag-done"),e._uU(1,"\u0110\xe3 duy\u1ec7t"),e.qZA())}function nr(z,K){1&z&&(e.TgZ(0,"app-tag-not-done"),e._uU(1,"Ch\u01b0a duy\u1ec7t"),e.qZA())}function Fr(z,K){if(1&z&&(e.YNc(0,Mr,2,0,"app-tag-done",24),e.YNc(1,nr,2,0,"app-tag-not-done",24)),2&z){const a=e.oxw().$implicit;e.Q6J("ngIf",a.active),e.xp6(1),e.Q6J("ngIf",!a.active)}}function Nr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"app-circle-button-base",59),e.NdJ("onClick",function(){e.CHM(a);const B=e.oxw(2).$implicit;return e.oxw(2).goToDetail(B.id,B)}),e.qZA()}}function Ur(z,K){if(1&z&&(e.ynx(0),e.YNc(1,Nr,1,0,"app-circle-button-base",58),e.BQk()),2&z){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!a.active)}}const zr=function(z){return{"col-group":z}};function Zr(z,K){if(1&z){const a=e.EpF();e.TgZ(0,"tr",42),e.NdJ("click",function(){const oe=e.CHM(a).$implicit,Ce=e.oxw(2);return!Ce.expandable&&Ce.goToDetail(oe.id,oe)}),e.YNc(1,pn,1,1,"td",43),e.YNc(2,vn,1,0,"td",24),e.YNc(3,mn,1,1,"td",44),e.YNc(4,yn,2,4,"td",45),e.TgZ(5,"td",46),e._uU(6),e.qZA(),e.TgZ(7,"td",47),e.YNc(8,Dr,6,2,"ng-container",24),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",47),e._uU(17),e.qZA(),e.TgZ(18,"td",46),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",46),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td",46),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"td",46),e.YNc(28,tr,2,1,"ng-container",48),e.YNc(29,Fr,2,2,"ng-template",null,49,e.W1O),e.qZA(),e.TgZ(31,"td",50),e.NdJ("click",function(B){return B.stopPropagation()}),e.YNc(32,Ur,2,1,"ng-container",24),e.qZA(),e.qZA()}if(2&z){const a=K.index,C=K.$implicit,B=e.MAs(30),oe=e.oxw(2);e.Q6J("ngClass",e.VKq(29,zr,oe.expandable)),e.xp6(1),e.Q6J("ngIf",!oe.expandable),e.xp6(1),e.Q6J("ngIf",oe.expandable),e.xp6(1),e.Q6J("ngIf",oe.expandable),e.xp6(1),e.Q6J("ngIf",oe.expandable),e.xp6(2),e.Oqu(oe.expandable?"":oe.request.pageSize*(oe.request.currentPage-1)+(a+1)),e.xp6(2),e.Q6J("ngIf",!oe.expandable),e.xp6(2),e.Oqu(oe.expandable?"":null==C.user||null==C.user.department?null:C.user.department.name),e.xp6(2),e.Oqu(oe.expandable?"":e.xi3(13,17,null==C.user?null:C.user.birthDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(oe.expandable?"":C.trainingForm.name),e.xp6(2),e.Oqu(oe.expandable?"":C.name),e.xp6(2),e.Oqu(oe.expandable?"":e.xi3(20,20,C.fromDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(oe.expandable?"":e.xi3(23,23,C.toDate,"dd/MM/yyyy")),e.xp6(3),e.Oqu(oe.expandable?"":e.xi3(26,26,C.createdOnDate,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngIf","cancel"==C.status)("ngIfElse",B),e.xp6(4),e.Q6J("ngIf",!oe.expandable)}}function bn(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"nz-card"),e.TgZ(2,"nz-table",25,26),e.NdJ("nzCurrentPageDataChange",function(B){return e.CHM(a),e.oxw().currentPageDataChange(B)}),e.TgZ(4,"thead",27),e.NdJ("nzSortChange",function(B){return e.CHM(a),e.oxw().sortChange(B)}),e.TgZ(5,"tr"),e.TgZ(6,"th",28),e.NdJ("nzCheckedChange",function(B){return e.CHM(a),e.oxw().isAllDisplayDataChecked=B})("nzCheckedChange",function(B){return e.CHM(a),e.oxw().checkAll(B)}),e.qZA(),e.YNc(7,Ir,1,0,"th",29),e.YNc(8,$n,1,0,"th",24),e.TgZ(9,"th",30),e._uU(10,"STT "),e.qZA(),e.TgZ(11,"th",31),e._uU(12," H\u1ecd t\xean "),e.qZA(),e.TgZ(13,"th",32),e._uU(14," Khoa/Ph\xf2ng "),e.qZA(),e.TgZ(15,"th",33),e._uU(16," Ng\xe0y sinh "),e.qZA(),e.TgZ(17,"th",32),e._uU(18," H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o "),e.qZA(),e.TgZ(19,"th",34),e._uU(20," N\u1ed9i dung "),e.qZA(),e.TgZ(21,"th",35),e._uU(22," T\u1eeb ng\xe0y "),e.qZA(),e.TgZ(23,"th",36),e._uU(24," \u0110\u1ebfn ng\xe0y "),e.qZA(),e.TgZ(25,"th",37),e._uU(26," Ng\xe0y g\u1eedi "),e.qZA(),e.TgZ(27,"th",38),e._uU(28," Tr\u1ea1ng th\xe1i "),e.qZA(),e._UZ(29,"th",39),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,Zr,33,31,"ng-template",40),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&z){const a=e.MAs(3),C=e.oxw();e.xp6(2),e.Q6J("nzData",C.listData)("nzFrontPagination",!1)("nzLoading",C.isLoading),e.xp6(4),e.Q6J("nzChecked",C.isAllDisplayDataChecked)("nzIndeterminate",C.isIndeterminate),e.xp6(1),e.Q6J("ngIf",C.expandable),e.xp6(1),e.Q6J("ngIf",C.expandable),e.xp6(23),e.Q6J("ngForOf",a.data)}}function rr(z,K){1&z&&(e.TgZ(0,"app-tag-done"),e._uU(1,"\u0110\xe3 k\u1ebft th\xfac"),e.qZA())}function s(z,K){1&z&&(e.TgZ(0,"app-tag-not-done"),e._uU(1,"Ch\u01b0a k\u1ebft th\xfac"),e.qZA())}function w(z,K){if(1&z&&(e.TgZ(0,"app-card-item",61),e._uU(1),e.qZA(),e.TgZ(2,"app-card-item",62),e._uU(3),e.qZA(),e.TgZ(4,"app-card-item",63),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"app-card-item",64),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"app-card-item",65),e.YNc(11,rr,2,0,"app-tag-done",24),e.YNc(12,s,2,0,"app-tag-not-done",24),e.qZA()),2&z){const a=K.item;e.xp6(1),e.hij(" ",a.trainingForm.name," "),e.xp6(2),e.hij(" ",a.name," "),e.xp6(2),e.hij(" ",e.xi3(6,6,a.fromDate,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(9,9,a.toDate,"dd/MM/yyyy")," "),e.xp6(3),e.Q6J("ngIf","done"==a.status),e.xp6(1),e.Q6J("ngIf","done"!=a.status)}}function ne(z,K){if(1&z){const a=e.EpF();e.ynx(0),e.TgZ(1,"app-card-view",60),e.NdJ("onClick",function(B){return e.CHM(a),e.oxw().goToDetail(B.id)}),e.YNc(2,w,13,12,"ng-template"),e.qZA(),e.BQk()}if(2&z){const a=e.oxw();e.xp6(1),e.Q6J("expandable",a.expandable)("listData",a.listData)("groupBy",a.groupBy)}}const ge=function(){return[10,20,50,100]},_e=function(){return{label:"Ch\u1edd duy\u1ec7t",id:"initial"}},Me=function(){return{label:"\u0110\xe3 duy\u1ec7t",id:"done"}},Ue=function(){return{label:"H\u1ee7y b\u1ecf",id:"cancel"}},qe=function(z,K,a){return[z,K,a]},lt=[{path:"",children:[{path:"",pathMatch:"full",component:Nt},{path:"external",component:(()=>{class z extends ln.t{constructor(a,C,B,oe){super(a),this.nzModalService=C,this.route=B,this.trainingProgramService=oe,this.request={listTextSearch:[],currentPage:1,pageSize:20,sort:"-CreatedOnDate"}}ngOnInit(){this.searchForm=this.formBuilder.group({fromDate:[null],toDate:[null],trainingFormId:[null],status:[null],departmentId:[null]}),this.route.paramMap.subscribe(a=>{a.params&&a.params.trainingFormId&&this.searchForm.controls.trainingFormId.setValue(a.params.trainingFormId),a.params&&a.params.status&&this.searchForm.controls.status.setValue(a.params.status),this.fetchList()})}fetchList(){const C=JSON.stringify({ListTextSearch:this.request.listTextSearch});this.isLoading=!0,this.trainingProgramService.getExternalList(this.request.currentPage,this.request.pageSize,this.request.sort,C,this.searchForm.value.fromDate,this.searchForm.value.toDate,this.searchForm.value.trainingFormId,this.searchForm.value.departmentId,null,!0,this.searchForm.value.status).toPromise().then(B=>{this.isLoading=!1,B&&B.success?(this.listData=B.data.content,this.flatList=B.data.content,this.total=B.data.totalRecords,this.parseGroup(this.listData)):this.message.error(B.message)})}reload(){this.request.listTextSearch=[],this.fetchList()}goToDetail(a,C){this.nzModalService.create({nzTitle:"Chi ti\u1ebft",nzMaskClosable:!1,nzCentered:!0,nzContent:Tt,nzComponentParams:{isModal:!0,id:a,isEdit:!1,userId:C.user.id,pathToUploadFile:C.pathToUploadFile},nzStyle:{width:"95%",top:"20px"},nzFooter:null}).afterClose.toPromise().then(oe=>{oe&&this.reload()})}chooseItem(){this.modal.destroy({id:this.selectedIds[0]})}deleteMany(a){this.isLoading=!0,this.trainingProgramService.deleteMany(a).toPromise().then(C=>{this.isLoading=!1,C&&C.success?(this.message.success("X\xf3a th\xe0nh c\xf4ng"),this.fetchList()):this.message.error("L\u1ed7i: "+C.message)})}exportCertifications(a){const C=this.message.loading("\u0110ang x\u1eed l\xfd..",{nzDuration:0}).messageId;this.trainingProgramService.exportCertifications(a).toPromise().then(B=>{if(this.message.remove(C),B){let Ce=this.listData.find(Ve=>Ve.id==a).name.replaceAll(".","-")+".zip";(0,I.Sv)(B,Ce)}else this.message.warning("L\u1ed7i: Kh\xf4ng c\xf3 ng\u01b0\u1eddi tham d\u1ef1",{nzDuration:1e4})})}onChangeDoneStatus(a){this.checkinIsVisible=!1,this.reload(),"HTHN"==a.trainingForm.code&&this.exportCertifications(a.id)}get avatarPath(){return N.I}}return z.\u0275fac=function(a){return new(a||z)(e.Y36(e.zs3),e.Y36(n.Sf),e.Y36(Z.gz),e.Y36(V.v))},z.\u0275cmp=e.Xpm({type:z,selectors:[["app-list-external-training-program"]],features:[e.qOj],decls:40,vars:32,consts:[[1,"page-header"],[1,"row"],[1,"col-md-5"],["nz-row",""],[3,"onClick"],[3,"onClick",4,"ngIf"],[1,"col-md-7"],["nzMode","tags","nzPlaceHolder","T\xecm ki\u1ebfm...",1,"w-100",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"float-right",3,"ngModel","nzButtonStyle","ngModelChange"],["nz-radio-button","","nzValue","list"],["nz-icon","","nzType","bars","nzTheme","outline"],["nz-radio-button","","nzValue","card"],["nz-icon","","nzType","appstore","nzTheme","outline"],["nzShowSizeChanger","",1,"float-right","mr-2",3,"nzPageSize","nzPageSizeOptions","nzPageIndex","nzShowTotal","nzTotal","nzPageSizeChange","nzPageIndexChange","nzTotalChange"],["totalTemplate",""],[3,"formGroup"],[1,"col-md-2"],["type","datepicker","formControlName","fromDate","labelContent","T\u1eeb ng\xe0y",3,"labelHorizontal","onChange"],["type","datepicker","formControlName","toDate","labelContent","\u0110\u1ebfn ng\xe0y",3,"labelHorizontal","onChange"],[1,"col-md-3"],["formControlName","trainingFormId",3,"labelHorizontal","onChange"],["formControlName","departmentId",3,"labelHorizontal","onChange"],["type","select","labelContent","Tr\u1ea1ng th\xe1i","formControlName","status","labelField","label",3,"labelHorizontal","selectData","onChange"],[4,"ngIf"],[1,"w-100",3,"nzData","nzFrontPagination","nzLoading","nzCurrentPageDataChange"],["rowSelectionTable",""],[3,"nzSortChange"],["nzShowCheckbox","","nzWidth","30px",1,"center",3,"nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","30px","nzShowExpand","",4,"ngIf"],["nzWidth","40px",1,"center"],["width","200px"],["width","150px"],["width","125px"],["nzShowSort","","nzSortKey","name"],["width","120px","nzShowSort","","nzSortKey","fromDate",1,"center"],["width","120px","nzShowSort","","nzSortKey","toDate",1,"center"],["width","120px","nzShowSort","","nzSortKey","createdOnDate",1,"center"],["width","120px",1,"center"],["width","70px",1,"center"],["ngFor","",3,"ngForOf"],["nzWidth","30px","nzShowExpand",""],[3,"ngClass","click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click",4,"ngIf"],["class","center","nzShowExpand","",3,"nzExpand","nzExpandChange",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"center"],[1,"text-highlight"],[4,"ngIf","ngIfElse"],["tag",""],[1,"center",3,"click"],["nzShowCheckbox","",3,"nzChecked","nzCheckedChange","click"],["nzShowExpand","",1,"center",3,"nzExpand","nzExpandChange"],[3,"ngClass"],[1,"inline-block","mr-2"],["nzIcon","star",3,"nzSrc",4,"ngIf"],[1,"inline-block"],["nzIcon","star",3,"nzSrc"],["buttonType","primary","iconType","check","nz-tooltip","","nzTooltipTitle","X\xe1c nh\u1eadn",3,"onClick",4,"ngIf"],["buttonType","primary","iconType","check","nz-tooltip","","nzTooltipTitle","X\xe1c nh\u1eadn",3,"onClick"],[3,"expandable","listData","groupBy","onClick"],["label","H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o"],["label","N\u1ed9i dung"],["label","T\u1eeb ng\xe0y"],["label","\u0110\u1ebfn ng\xe0y"],["label","Tr\u1ea1ng th\xe1i"]],template:function(a,C){if(1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"app-header-title"),e._uU(5,"Danh s\xe1ch y\xeau c\u1ea7u x\xe1c nh\u1eadn"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"app-button-reload",4),e.NdJ("onClick",function(){return C.reload()}),e.qZA(),e.YNc(8,kr,1,0,"app-button-choose",5),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",3),e.TgZ(11,"nz-select",7),e.NdJ("ngModelChange",function(oe){return C.nzOnSearch(oe)}),e.qZA(),e.qZA(),e.TgZ(12,"div",1),e.TgZ(13,"div",8),e.TgZ(14,"nz-radio-group",9),e.NdJ("ngModelChange",function(oe){return C.tableType=oe}),e.TgZ(15,"label",10),e.TgZ(16,"span"),e._UZ(17,"i",11),e.qZA(),e.qZA(),e.TgZ(18,"label",12),e.TgZ(19,"span"),e._UZ(20,"i",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"nz-pagination",14),e.NdJ("nzPageSizeChange",function(oe){return C.request.pageSize=oe})("nzPageIndexChange",function(oe){return C.request.currentPage=oe})("nzPageIndexChange",function(oe){return C.pageIndexChange(oe)})("nzPageSizeChange",function(oe){return C.pageSizeChange(oe)})("nzTotalChange",function(oe){return C.total=oe}),e.qZA(),e.YNc(22,Rr,1,3,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"form",16),e.TgZ(25,"div",1),e.TgZ(26,"div",17),e.TgZ(27,"app-input",18),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(28,"div",17),e.TgZ(29,"app-input",19),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(30,"div",20),e.TgZ(31,"app-select-training-form",21),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"app-select-department",22),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.TgZ(34,"div",17),e.TgZ(35,"app-input",23),e.NdJ("onChange",function(){return C.fetchList()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",1),e.TgZ(37,"div"),e.YNc(38,bn,32,8,"ng-container",24),e.YNc(39,ne,3,3,"ng-container",24),e.qZA(),e.qZA()),2&a){const B=e.MAs(23);e.xp6(8),e.Q6J("ngIf",C.isModal&&1==C.selectedIds.length),e.xp6(3),e.Q6J("ngModel",C.listTextSearch),e.xp6(3),e.Q6J("ngModel",C.tableType)("nzButtonStyle","solid"),e.xp6(7),e.Q6J("nzPageSize",C.request.pageSize)("nzPageSizeOptions",e.DdM(24,ge))("nzPageIndex",C.request.currentPage)("nzShowTotal",B)("nzTotal",C.total),e.xp6(3),e.Q6J("formGroup",C.searchForm),e.xp6(3),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1),e.xp6(2),e.Q6J("labelHorizontal",!1)("selectData",e.kEZ(28,qe,e.DdM(25,_e),e.DdM(26,Me),e.DdM(27,Ue))),e.xp6(1),e.Tol(C.isModal?"m-t-30":""),e.xp6(1),e.Tol(C.isModal?"w-100 center":"col-lg-12 center"),e.xp6(1),e.Q6J("ngIf","list"==C.tableType),e.xp6(1),e.Q6J("ngIf","card"==C.tableType)}},directives:[Gn.SK,Dt.d,Tn.O,E.O5,wt.Vq,R.JJ,R.On,Zt.Dg,Zt.Of,Zt.Bq,c.w,l.Ls,Jt.dE,R._Y,R.JL,R.sg,D.a,R.u,S.g,yt._,En.K,gt.bd,Je.N8,Je.Om,Je.$Z,Je.Uo,Je._C,Je.g6,Je.qD,Je.p0,E.sg,E.mk,Je.h7,Ie.Dz,wr.s,cn.i,wn.g,qn.P,Jn.SY,kn.y,fn.o],pipes:[E.uU],styles:[""]}),z})()},{path:"external/detail",component:Tt}]}];let dt=(()=>{class z{}return z.\u0275fac=function(a){return new(a||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(lt)],Z.Bz]}),z})();var vt=t(42979),mt=t(76231);let Kt=(()=>{class z{}return z.\u0275fac=function(a){return new(a||z)},z.\u0275mod=e.oAB({type:z}),z.\u0275inj=e.cJS({imports:[[E.ez,mt.m,vt.j,dt,y.TrainingFormModule,b.OrganizationModule,o.DepartmentModule,r.UserModule,pe]]}),z})()},36599:()=>{},35358:()=>{},61822:()=>{},31127:()=>{},33074:()=>{}}]);